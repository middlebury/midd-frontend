/*! For license information please see journey.bundle.js.LICENSE.txt */
(()=>{var t,e,n,i,o={317(t){t.exports=function(){"use strict";function t(){return"undefined"!=typeof window}function e(t){return(s=t)&&s.document&&function(t){return 9===t.nodeType}(s.document)?(n=(e=t).document,i=n.body,o=n.documentElement,{scrollHeight:function(){return Math.max(i.scrollHeight,o.scrollHeight,i.offsetHeight,o.offsetHeight,i.clientHeight,o.clientHeight)},height:function(){return e.innerHeight||o.clientHeight||i.clientHeight},scrollY:function(){return void 0!==e.pageYOffset?e.pageYOffset:(o||i.parentNode||i).scrollTop}}):function(t){return{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}}}(t);var e,n,i,o,s}function n(t,n,i){var o,s=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}(),r=!1,a=e(t),l=a.scrollY(),c={};function u(){var t=Math.round(a.scrollY()),e=a.height(),o=a.scrollHeight();c.scrollY=t,c.lastScrollY=l,c.direction=t>l?"down":"up",c.distance=Math.abs(t-l),c.isOutOfBounds=t<0||t+e>o,c.top=t<=n.offset[c.direction],c.bottom=t+e>=o,c.toleranceExceeded=c.distance>n.tolerance[c.direction],i(c),l=t,r=!1}function d(){r||(r=!0,o=requestAnimationFrame(u))}var h=!!s&&{passive:!0,capture:!1};return t.addEventListener("scroll",d,h),u(),{destroy:function(){cancelAnimationFrame(o),t.removeEventListener("scroll",d,h)}}}function i(t){return t===Object(t)?t:{down:t,up:t}}function o(t,e){e=e||{},Object.assign(this,o.options,e),this.classes=Object.assign({},o.options.classes,e.classes),this.elem=t,this.tolerance=i(this.tolerance),this.offset=i(this.offset),this.initialised=!1,this.frozen=!1}return o.prototype={constructor:o,init:function(){return o.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(t){t.scrollTracker=n(t.scroller,{offset:t.offset,tolerance:t.tolerance},t.update.bind(t))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(t){return"down"===t.direction&&!t.top&&t.toleranceExceeded},shouldPin:function(t){return"up"===t.direction&&t.toleranceExceeded||t.top},addClass:function(t){this.elem.classList.add.apply(this.elem.classList,this.classes[t].split(" "))},removeClass:function(t){this.elem.classList.remove.apply(this.elem.classList,this.classes[t].split(" "))},hasClass:function(t){return this.classes[t].split(" ").every(function(t){return this.classList.contains(t)},this.elem)},update:function(t){t.isOutOfBounds||!0!==this.frozen&&(t.top?this.top():this.notTop(),t.bottom?this.bottom():this.notBottom(),this.shouldUnpin(t)?this.unpin():this.shouldPin(t)&&this.pin())}},o.options={tolerance:{up:0,down:0},offset:0,scroller:t()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},o.cutsTheMustard=!!(t()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),o}()},510(t){t.exports=function(){"use strict";var t="undefined"!=typeof document&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(e){if("picture"===e.nodeName.toLowerCase()){var n=e.querySelector("img"),i=!1;null===n&&(n=document.createElement("img"),i=!0),t&&e.getAttribute("data-iesrc")&&(n.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(n.alt=e.getAttribute("data-alt")),i&&e.append(n)}if("video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var o=e.children,s=void 0,r=0;r<=o.length-1;r++)(s=o[r].getAttribute("data-src"))&&(o[r].src=s);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset"));var a=",";if(e.getAttribute("data-background-delimiter")&&(a=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image"))e.style.backgroundImage="url('"+e.getAttribute("data-background-image").split(a).join("'),url('")+"')";else if(e.getAttribute("data-background-image-set")){var l=e.getAttribute("data-background-image-set").split(a),c=l[0].substr(0,l[0].indexOf(" "))||l[0];c=-1===c.indexOf("url(")?"url("+c+")":c,1===l.length?e.style.backgroundImage=c:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: "+c+"; background-image: -webkit-image-set("+l+"); background-image: image-set("+l+")")}e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function n(t){t.setAttribute("data-loaded",!0)}var i=function(t){return"true"===t.getAttribute("data-loaded")},o=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var t,s,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=Object.assign({},e,a),c=l.root,u=l.rootMargin,d=l.threshold,h=l.load,f=l.loaded,p=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(p=new IntersectionObserver((t=h,s=f,function(e,o){e.forEach(function(e){(0<e.intersectionRatio||e.isIntersecting)&&(o.unobserve(e.target),i(e.target)||(t(e.target),n(e.target),s(e.target)))})}),{root:c,rootMargin:u,threshold:d}));for(var m,g=o(r,c),v=0;v<g.length;v++)(m=g[v]).getAttribute("data-placeholder-background")&&(m.style.background=m.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=o(r,c),e=0;e<t.length;e++)i(t[e])||(p?p.observe(t[e]):(h(t[e]),n(t[e]),f(t[e])))},triggerLoad:function(t){i(t)||(h(t),n(t),f(t))},observer:p}}}()},976(){!function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),o=window.setTimeout(function(){e(n+i)},i);return t=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()}},s={};function r(t){var e=s[t];if(void 0!==e)return e.exports;var n=s[t]={exports:{}};return o[t].call(n.exports,n,n.exports,r),n.exports}r.m=o,r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var o=Object.create(null);r.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&n;("object"==typeof a||"function"==typeof a)&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach(t=>s[t]=()=>n[t]);return s.default=()=>n,r.d(o,s),o},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce((e,n)=>(r.f[n](t,e),e),[])),r.u=t=>({231:"panelsnap",979:"swiper"}[t]+".bundle.js"),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n={},i="midd-frontend:",r.l=(t,e,o,s)=>{if(n[t])n[t].push(e);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==i+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",i+o),a.src=t),n[t]=[e];var h=(e,i)=>{a.onerror=a.onload=null,clearTimeout(f);var o=n[t];if(delete n[t],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach(t=>t(i)),e)return e(i)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.j=569,r.p="/themes/custom/middlebury_theme/js/",(()=>{var t={569:0};r.f.j=(e,n)=>{var i=r.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise((n,o)=>i=t[e]=[n,o]);n.push(i[2]=o);var s=r.p+r.u(e),a=new Error;r.l(s,n=>{if(r.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}},"chunk-"+e,e)}};var e=(e,n)=>{var i,o,[s,a,l]=n,c=0;if(s.some(e=>0!==t[e])){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);l&&l(r)}for(e&&e(n);c<s.length;c++)o=s[c],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=globalThis.webpackChunkmidd_frontend=globalThis.webpackChunkmidd_frontend||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),(()=>{"use strict";r(976);var t=r(510),e=r.n(t);e()(".js-lazy-load").observe();var n,i=r(317),o=r.n(i),s=function(t,e){return void 0===e&&(e=document),e.querySelector(t)},a=function(t,e){return void 0===e&&(e=document),Array.from(e.querySelectorAll(t))},l=function(t,e,n){return t.addEventListener(e,n)},c=function(t,e){return t.classList.add(e)},u=s(".js-headroom"),d=a(".js-curriculum-headroom");if(u&&!s("#toolbar-administration")){n=u.offsetHeight;var h=new(o())(u,{offset:n,tolerance:{up:10,down:0},scroller:s("#midd-journey-overlay")||window});document.body.style.paddingTop=n+"px",h.init(),window.location.hash&&!s("#midd-journey-overlay")&&setTimeout(function(){h.unpin()},1e3),d.length>0&&d.forEach(function(t){new(o())(t,{offset:n,tolerance:{up:10,down:0}}).init()})}function f(t,e){void 0===e&&(e=window);var n=0,i=!1,o=function(e){t(n,e),i=!1},s=function(t){n=t.target.scrollTop||window.pageYOffset,i||(window.requestAnimationFrame(o),i=!0)};return e.addEventListener("scroll",s),{destroy:function(){e.removeEventListener("scroll",s)}}}const p="undefined"!=typeof window,m=p?window:null,g=p?document:null,v={replace:0,none:1,blend:2},b=Symbol(),y=Symbol(),_=Symbol(),w=Symbol(),T=(Symbol(),Symbol()),k=1e-11,E=1e12,C=1e3,A="",L=(()=>{const t=new Map;return t.set("x","translateX"),t.set("y","translateY"),t.set("z","translateZ"),t})(),x=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","matrix","matrix3d","perspective"],N=x.reduce((t,e)=>({...t,[e]:e+"("}),{}),S=()=>{},j=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,O=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,M=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,I=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,P=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,D=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,B=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,R=/([a-z])([A-Z])/g,q=/(\w+)(\([^)]+\)+)/g,H=/var\(\s*(--[\w-]+)(?:\s*,\s*([^)]+))?\s*\)/,F={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:240,loop:0,reversed:!1,alternate:!1,autoplay:!0,persist:!1,duration:C,delay:0,loopDelay:0,ease:"out(2)",composition:v.replace,modifier:t=>t,onBegin:S,onBeforeUpdate:S,onUpdate:S,onLoop:S,onPause:S,onComplete:S,onRender:S},U={current:null,root:g},W={defaults:F,precision:4,timeScale:1,tickThreshold:200},V=p&&m.AnimeJSDevTools,z={version:"4.3.0",engine:null};p&&(m.AnimeJS||(m.AnimeJS=[]),m.AnimeJS.push(z));const $=t=>t.replace(R,"$1-$2").toLowerCase(),Y=(t,e)=>0===t.indexOf(e),K=Date.now,G=Array.isArray,X=t=>t&&t.constructor===Object,Z=t=>"number"==typeof t&&!isNaN(t),J=t=>"string"==typeof t,Q=t=>"function"==typeof t,tt=t=>void 0===t,et=t=>tt(t)||null===t,nt=t=>p&&t instanceof SVGElement,it=t=>j.test(t),ot=t=>Y(t,"rgb")&&")"===t[t.length-1],st=t=>Y(t,"hsl")&&")"===t[t.length-1],rt=t=>!W.defaults.hasOwnProperty(t),at=["opacity","rotate","overflow","color"],lt=Math.pow,ct=Math.sqrt,ut=Math.sin,dt=Math.cos,ht=(Math.abs,Math.exp,Math.ceil,Math.floor),ft=Math.asin,pt=(Math.max,Math.atan2,Math.PI),mt=Math.round,gt=(t,e,n)=>t<e?e:t>n?n:t,vt={},bt=(t,e)=>{if(e<0)return t;if(!e)return mt(t);let n=vt[e];return n||(n=vt[e]=10**e),mt(t*n)/n},yt=(t,e,n)=>t+(e-t)*n,_t=t=>t===1/0?E:t===-1/0?-E:t,wt=t=>t<=k?k:_t(bt(t,11)),Tt=t=>G(t)?[...t]:t,kt=(t,e,n,i="_prev",o="_next")=>{let s=t._head,r=o;for(n&&(s=t._tail,r=i);s;){const t=s[r];e(s),s=t}},Et=(t,e,n="_prev",i="_next")=>{const o=e[n],s=e[i];o?o[i]=s:t._head=s,s?s[n]=o:t._tail=o,e[n]=null,e[i]=null},Ct=(t,e,n,i="_prev",o="_next")=>{let s=t._tail;for(;s&&n&&n(s,e);)s=s[i];const r=s?s[o]:t._head;s?s[o]=e:t._head=e,r?r[i]=e:t._tail=e,e[i]=s,e[o]=r};function At(t){const e=J(t)?U.root.querySelectorAll(t):t;if(e instanceof NodeList||e instanceof HTMLCollection)return e}const Lt=(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),xt=(t,e)=>tt(t)?e:t,Nt=(t,e,n,i,o)=>{let s;if(Q(t))s=()=>{const o=t(e,n,i);return isNaN(+o)?o||0:+o};else{if(!J(t)||!Y(t,"var("))return t;s=()=>{const n=t.match(H),i=n[1],o=n[2];let s=getComputedStyle(e)?.getPropertyValue(i);return s&&s.trim()!==A||!o||(s=o.trim()),s||0}}return o&&(o.func=s),s()},St=(t,e)=>t[y]?t[_]&&((t,e)=>{if(at.includes(e))return!1;if(t.getAttribute(e)||e in t){if("scale"===e){const e=t.parentNode;return e&&"filter"===e.tagName}return!0}})(t,e)?1:x.includes(e)||L.get(e)?3:Y(e,"--")?4:e in t.style?2:e in t?0:1:0,jt=(t,e,n)=>{const i=t.style[e];i&&n&&(n[e]=i);const o=i||getComputedStyle(t[T]||t).getPropertyValue(e);return"auto"===o?"0":o},Ot=(t,e,n,i)=>{const o=tt(n)?St(t,e):n;return 0===o?t[e]||0:1===o?t.getAttribute(e):3===o?((t,e,n)=>{const i=t.style.transform;let o;if(i){const s=t[w];let r;for(;r=q.exec(i);){const t=r[1],i=r[2].slice(1,-1);s[t]=i,t===e&&(o=i,n&&(n[e]=i))}}return i&&!tt(o)?o:Y(e,"scale")?"1":Y(e,"rotate")||Y(e,"skew")?"0deg":"0px"})(t,e,i):4===o?jt(t,e,i).trimStart():jt(t,e,i)},Mt=(t,e,n)=>"-"===n?t-e:"+"===n?t+e:t*e,It=(t,e)=>{if(e.t=0,e.n=0,e.u=null,e.o=null,e.d=null,e.s=null,!t)return e;const n=+t;if(isNaN(n)){let n=t;"="===n[1]&&(e.o=n[0],n=n.slice(2));const o=!n.includes(" ")&&B.exec(n);if(o)return e.t=1,e.n=+o[1],e.u=o[2],e;if(e.o)return e.n=+n,e;if((t=>it(t)||ot(t)||st(t))(n))return e.t=2,e.d=ot(i=n)?(t=>{const e=O.exec(t)||M.exec(t),n=tt(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],n]})(i):it(i)?(t=>{const e=t.length,n=4===e||5===e;return[+("0x"+t[1]+t[n?1:2]),+("0x"+t[n?2:3]+t[n?2:4]),+("0x"+t[n?3:5]+t[n?3:6]),5===e||9===e?+(+("0x"+t[n?4:7]+t[n?4:8])/255).toFixed(3):1]})(i):st(i)?(t=>{const e=I.exec(t)||P.exec(t),n=+e[1]/360,i=+e[2]/100,o=+e[3]/100,s=tt(e[4])?1:+e[4];let r,a,l;if(0===i)r=a=l=o;else{const t=o<.5?o*(1+i):o+i-o*i,e=2*o-t;r=bt(255*Lt(e,t,n+1/3),0),a=bt(255*Lt(e,t,n),0),l=bt(255*Lt(e,t,n-1/3),0)}return[r,a,l,s]})(i):[0,0,0,1],e;{const t=n.match(D);return e.t=3,e.d=t?t.map(Number):[],e.s=n.split(D)||[],e}}var i;return e.n=n,e},Pt=(t,e)=>(e.t=t._valueType,e.n=t._toNumber,e.u=t._unit,e.o=null,e.d=Tt(t._toNumbers),e.s=Tt(t._strings),e),Dt={t:0,n:0,u:null,o:null,d:null,s:null},Bt={},Rt=(t,e,n)=>{if(3===n){return L.get(t)||t}if(2===n||1===n&&nt(e)&&t in e.style){const e=Bt[t];if(e)return e;{const e=t?$(t):t;return Bt[t]=e,e}}return t},qt=t=>{if(t._hasChildren)kt(t,qt,!0);else{const e=t;e.pause(),kt(e,t=>{const n=t.property,i=t.target;if(i[y]){const o=i.style,s=t._inlineValue,r=et(s)||s===A;if(3===t._tweenType){const e=i[w];if(r?delete e[n]:e[n]=s,t._renderTransforms)if(Object.keys(e).length){let t=A;for(let n in e)t+=N[n]+e[n]+") ";o.transform=t}else o.removeProperty("transform")}else r?o.removeProperty($(n)):o[n]=s;e._tail===t&&e.targets.forEach(t=>{t.getAttribute&&t.getAttribute("style")===A&&t.removeAttribute("style")})}})}return t},Ht={deg:1,rad:180/pt,turn:360},Ft={},Ut=(t,e,n,i=!1)=>{const o=e.u,s=e.n;if(1===e.t&&o===n)return e;const r=s+o+n,a=Ft[r];if(tt(a)||i){let i;if(o in Ht)i=s*Ht[o]/Ht[n];else{const e=100,r=t.cloneNode(),a=t.parentNode,l=a&&a!==g?a:g.body;l.appendChild(r);const c=r.style;c.width=e+o;const u=r.offsetWidth||e;c.width=e+n;const d=u/(r.offsetWidth||e);l.removeChild(r),i=d*s}e.n=i,Ft[r]=i}else e.n=a;return e.t,e.u=n,e},Wt=t=>t,Vt=(t=1.68)=>e=>lt(e,+t),zt={in:t=>e=>t(e),out:t=>e=>1-t(1-e),inOut:t=>e=>e<.5?t(2*e)/2:1-t(-2*e+2)/2,outIn:t=>e=>e<.5?(1-t(1-2*e))/2:(t(2*e-1)+1)/2},$t=pt/2,Yt=2*pt,Kt={[A]:Vt,Quad:Vt(2),Cubic:Vt(3),Quart:Vt(4),Quint:Vt(5),Sine:t=>1-dt(t*$t),Circ:t=>1-ct(1-t*t),Expo:t=>t?lt(2,10*t-10):0,Bounce:t=>{let e,n=4;for(;t<((e=lt(2,--n))-1)/11;);return 1/lt(4,3-n)-7.5625*lt((3*e-2)/22-t,2)},Back:(t=1.7)=>e=>(+t+1)*e*e*e-+t*e*e,Elastic:(t=1,e=.3)=>{const n=gt(+t,1,10),i=gt(+e,k,2),o=i/Yt*ft(1/n),s=Yt/i;return t=>0===t||1===t?t:-n*lt(2,-10*(1-t))*ut((1-t-o)*s)}},Gt=(()=>{const t={linear:Wt,none:Wt};for(let e in zt)for(let n in Kt){const i=Kt[n],o=zt[e];t[e+n]=n===A||"Back"===n||"Elastic"===n?(t,e)=>o(i(t,e)):o(i)}return t})(),Xt={linear:Wt,none:Wt},Zt=["steps(","irregular(","linear(","cubicBezier("],Jt=t=>{if(J(t))for(let e=0,n=Zt.length;e<n;e++)if(Y(t,Zt[e]))return console.warn(`String syntax for \`ease: "${t}"\` has been removed from the core and replaced by importing and passing the easing function directly: \`ease: ${t}\``),Wt;return Q(t)?t:J(t)?(t=>{if(Xt[t])return Xt[t];if(t.indexOf("(")<=-1){const e=zt[t]||t.includes("Back")||t.includes("Elastic")?Gt[t]():Gt[t];return e?Xt[t]=e:Wt}{const e=t.slice(0,-1).split("("),n=Gt[e[0]];return n?Xt[t]=n(...e[1].split(",")):Wt}})(t):Wt},Qt=(t,e,n,i,o)=>{const s=t.parent,r=t.duration,a=t.completed,l=t.iterationDuration,c=t.iterationCount,u=t._currentIteration,d=t._loopDelay,h=t._reversed,f=t._alternate,p=t._hasChildren,m=t._delay,g=t._currentTime,b=m+l,y=e-m,_=gt(g,-m,r),T=gt(y,-m,r),E=y-g,C=T>0,L=T>=r,x=r<=k,S=2===o;let j=0,O=y,M=0;if(c>1){const e=~~(T/(l+(L?0:d)));t._currentIteration=gt(e,0,c),L&&t._currentIteration--,j=t._currentIteration%2,O=T%(l+d)||0}const I=h^(f&&j),P=t._ease;let D=L?I?0:r:I?l-O:O;P&&(D=l*P(D/l)||0);const B=(s?s.backwards:y<g)?!I:!!I;if(t._currentTime=y,t._iterationTime=D,t.backwards=B,C&&!t.began?(t.began=!0,n||s&&(B||!s.began)||t.onBegin(t)):y<=0&&(t.began=!1),n||p||!C||t._currentIteration===u||t.onLoop(t),S||1===o&&(e>=m&&e<=b||e<=m&&_>m||e>=b&&_!==r)||D>=b&&_!==r||D<=m&&_>0||e<=_&&_===r&&a||L&&!a&&x){if(C&&(t.computeDeltaTime(_),n||t.onBeforeUpdate(t)),!p){const e=S||(B?-1*E:E)>=W.tickThreshold,o=t._offset+(s?s._offset:0)+m+D;let r,a,l,c,u=t._head,d=0;for(;u;){const t=u._composition,n=u._currentTime,s=u._changeDuration,h=u._absoluteStartTime+u._changeDuration,f=u._nextRep,p=u._prevRep,m=t!==v.none;if((e||(n!==s||o<=h+(f?f._delay:0))&&(0!==n||o>=u._absoluteStartTime))&&(!m||!u._isOverridden&&(!u._isOverlapped||o<=h)&&(!f||f._isOverridden||o<=f._absoluteStartTime)&&(!p||p._isOverridden||o>=p._absoluteStartTime+p._changeDuration+u._delay))){const e=u._currentTime=gt(D-u._startTime,0,s),n=u._ease(e/u._updateDuration),o=u._modifier,h=u._valueType,f=u._tweenType,p=0===f,g=0===h,b=g&&p||0===n||1===n?-1:W.precision;let y,_;if(g)y=_=o(bt(yt(u._fromNumber,u._toNumber,n),b));else if(1===h)_=o(bt(yt(u._fromNumber,u._toNumber,n),b)),y=`${_}${u._unit}`;else if(2===h){const t=u._fromNumbers,e=u._toNumbers,i=bt(gt(o(yt(t[0],e[0],n)),0,255),0),s=bt(gt(o(yt(t[1],e[1],n)),0,255),0),r=bt(gt(o(yt(t[2],e[2],n)),0,255),0),a=gt(o(bt(yt(t[3],e[3],n),b)),0,1);if(y=`rgba(${i},${s},${r},${a})`,m){const t=u._numbers;t[0]=i,t[1]=s,t[2]=r,t[3]=a}}else if(3===h){y=u._strings[0];for(let t=0,e=u._toNumbers.length;t<e;t++){const e=o(bt(yt(u._fromNumbers[t],u._toNumbers[t],n),b)),i=u._strings[t+1];y+=`${i?e+i:e}`,m&&(u._numbers[t]=e)}}if(m&&(u._number=_),i||t===v.blend)u._value=y;else{const t=u.property;r=u.target,p?r[t]=y:1===f?r.setAttribute(t,y):(a=r.style,3===f?(r!==l&&(l=r,c=r[w]),c[t]=y,d=1):2===f?a[t]=y:4===f&&a.setProperty(t,y)),C&&(M=1)}}if(d&&u._renderTransforms){let t=A;for(let e in c)t+=`${N[e]}${c[e]}) `;a.transform=t,d=0}u=u._next}!n&&M&&t.onRender(t)}!n&&C&&t.onUpdate(t)}return s&&x?!n&&(s.began&&!B&&y>0&&!a||B&&y<=k&&a)&&(t.onComplete(t),t.completed=!B):C&&L?c===1/0?t._startTime+=t.duration:t._currentIteration>=c-1&&(t.paused=!0,a||p||(t.completed=!0,n||s&&(B||!s.began)||(t.onComplete(t),t._resolve(t)))):t.completed=!1,M},te=(t,e,n,i,o)=>{const s=t._currentIteration;if(Qt(t,e,n,i,o),t._hasChildren){const r=t,a=r.backwards,l=i?e:r._iterationTime,c=K();let u=0,d=!0;if(!i&&r._currentIteration!==s){const t=r.iterationDuration;kt(r,e=>{if(a){const i=e.duration,o=e._offset+e._delay;n||!(i<=k)||o&&o+i!==t||e.onComplete(e)}else!e.completed&&!e.backwards&&e._currentTime<e.iterationDuration&&Qt(e,t,n,1,2),e.began=!1,e.completed=!1}),n||r.onLoop(r)}kt(r,t=>{const e=bt((l-t._offset)*t._speed,12),s=t._fps<r._fps?t.requestTick(c):o;u+=Qt(t,e,n,i,s),!t.completed&&d&&(d=!1)},a),!n&&u&&r.onRender(r),(d||a)&&r._currentTime>=r.duration&&(r.paused=!0,r.completed||(r.completed=!0,n||(r.onComplete(r),r._resolve(r))))}},ee={animation:null,update:S},ne={_rep:new WeakMap,_add:new Map},ie=(t,e,n="_rep")=>{const i=ne[n];let o=i.get(t);return o||(o={},i.set(t,o)),o[e]?o[e]:o[e]={_head:null,_tail:null}},oe=(t,e)=>t._isOverridden||t._absoluteStartTime>e._absoluteStartTime,se=t=>{t._isOverlapped=1,t._isOverridden=1,t._changeDuration=k,t._currentTime=k},re=(t,e)=>{const n=t._composition;if(n===v.replace){const n=t._absoluteStartTime;Ct(e,t,oe,"_prevRep","_nextRep");const i=t._prevRep;if(i){const e=i.parent,o=i._absoluteStartTime+i._changeDuration;if(t.parent.id!==e.id&&e.iterationCount>1&&o+(e.duration-e.iterationDuration)>n){se(i);let t=i._prevRep;for(;t&&t.parent.id===e.id;)se(t),t=t._prevRep}const s=n-t._delay;if(o>s){const t=i._startTime,e=o-(t+i._updateDuration),n=bt(s-e-t,12);i._changeDuration=n,i._currentTime=n,i._isOverlapped=1,n<k&&se(i)}let r=!0;if(kt(e,t=>{t._isOverlapped||(r=!1)}),r){const t=e.parent;if(t){let n=!0;kt(t,t=>{t!==e&&kt(t,t=>{t._isOverlapped||(n=!1)})}),n&&t.cancel()}else e.cancel()}}}else if(n===v.blend){const e=ie(t.target,t.property,"_add"),n=(t=>{let e=ee.animation;return e||(e={duration:k,computeDeltaTime:S,_offset:0,_delay:0,_head:null,_tail:null},ee.animation=e,ee.update=()=>{t.forEach(t=>{for(let e in t){const n=t[e],i=n._head;if(i){const t=i._valueType,e=3===t||2===t?Tt(i._fromNumbers):null;let o=i._fromNumber,s=n._tail;for(;s&&s!==i;){if(e)for(let t=0,n=s._numbers.length;t<n;t++)e[t]+=s._numbers[t];else o+=s._number;s=s._prevAdd}i._toNumber=o,i._toNumbers=e}}}),Qt(e,1,1,0,2)}),e})(ne._add);let i=e._head;i||(i={...t},i._composition=v.replace,i._updateDuration=k,i._startTime=0,i._numbers=Tt(t._fromNumbers),i._number=0,i._next=null,i._prev=null,Ct(e,i),Ct(n,i));const o=t._toNumber;if(t._fromNumber=i._fromNumber-o,t._toNumber=0,t._numbers=Tt(t._fromNumbers),t._number=0,i._fromNumber=o,t._toNumbers){const e=Tt(t._toNumbers);e&&e.forEach((e,n)=>{t._fromNumbers[n]=i._fromNumbers[n]-e,t._toNumbers[n]=0}),i._fromNumbers=e}Ct(e,t,null,"_prevAdd","_nextAdd")}return t},ae=t=>{const e=t._composition;if(e!==v.none){const n=t.target,i=t.property,o=ne._rep.get(n)[i];if(Et(o,t,"_prevRep","_nextRep"),e===v.blend){const e=ne._add,o=e.get(n);if(!o)return;const s=o[i],r=ee.animation;Et(s,t,"_prevAdd","_nextAdd");const a=s._head;if(a&&a===s._tail){Et(s,a,"_prevAdd","_nextAdd"),Et(r,a);let t=!0;for(let e in o)if(o[e]._head){t=!1;break}t&&e.delete(n)}}}return t};class le{constructor(t=0){this.deltaTime=0,this._currentTime=t,this._lastTickTime=t,this._startTime=t,this._lastTime=t,this._scheduledTime=0,this._frameDuration=C/240,this._fps=240,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(t){const e=this._frameDuration,n=+t,i=n<k?k:n,o=C/i;i>F.frameRate&&(F.frameRate=i),this._fps=i,this._frameDuration=o,this._scheduledTime+=o-e}get speed(){return this._speed}set speed(t){const e=+t;this._speed=e<k?k:e}requestTick(t){const e=this._scheduledTime;if(this._lastTickTime=t,t<e)return 0;const n=this._frameDuration,i=t-e;return this._scheduledTime+=i<n?n:i,1}computeDeltaTime(t){const e=t-this._lastTime;return this.deltaTime=e,this._lastTime=t,e}}const ce=(()=>p?requestAnimationFrame:setImmediate)(),ue=(()=>p?cancelAnimationFrame:clearImmediate)();class de extends le{constructor(t){super(t),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=F,this.paused=!0,this.reqId=0}update(){const t=this._currentTime=K();if(this.requestTick(t)){this.computeDeltaTime(t);const e=this._speed,n=this._fps;let i=this._head;for(;i;){const o=i._next;i.paused?(Et(this,i),this._hasChildren=!!this._tail,i._running=!1,i.completed&&!i._cancelled&&i.cancel()):te(i,(t-i._startTime)*i._speed*e,0,0,i._fps<n?i.requestTick(t):1),i=o}ee.update()}}wake(){return this.useDefaultMainLoop&&!this.reqId&&(this.requestTick(K()),this.reqId=ce(fe)),this}pause(){if(this.reqId)return this.paused=!0,pe()}resume(){if(this.paused)return this.paused=!1,kt(this,t=>t.resetTime()),this.wake()}get speed(){return this._speed*(1===W.timeScale?1:C)}set speed(t){this._speed=t*W.timeScale,kt(this,t=>t.speed=t._speed)}get timeUnit(){return 1===W.timeScale?"ms":"s"}set timeUnit(t){const e="s"===t,n=e?.001:1;if(W.timeScale!==n){W.timeScale=n,W.tickThreshold=200*n;const t=e?.001:C;this.defaults.duration*=t,this._speed*=t}}get precision(){return W.precision}set precision(t){W.precision=t}}const he=(()=>{const t=new de(K());return p&&(z.engine=t,g.addEventListener("visibilitychange",()=>{t.pauseOnDocumentHidden&&(g.hidden?t.pause():t.resume())})),t})(),fe=()=>{he._head?(he.reqId=ce(fe),he.update()):he.reqId=0},pe=()=>(ue(he.reqId),he.reqId=0,he),me=t=>(t.paused=!0,t.began=!1,t.completed=!1,t),ge=t=>t._cancelled?(t._hasChildren?kt(t,ge):kt(t,t=>{t._composition!==v.none&&re(t,ie(t.target,t.property))}),t._cancelled=0,t):t;let ve=0;class be extends le{constructor(t={},e=null,n=0){super(0),++ve;const{id:i,delay:o,duration:s,reversed:r,alternate:a,loop:l,loopDelay:c,autoplay:u,frameRate:d,playbackRate:h,onComplete:f,onLoop:p,onPause:m,onBegin:g,onBeforeUpdate:v,onUpdate:b}=t;U.current&&U.current.register(this);const y=e?0:he._lastTickTime,_=e?e.defaults:W.defaults,w=Q(o)||tt(o)?_.delay:+o,T=Q(s)||tt(s)?1/0:+s,E=xt(l,_.loop),C=xt(c,_.loopDelay);let A=!0===E||E===1/0||E<0?1/0:E+1;if(V){const n=A===1/0;if(V.register(this,t,n)&&n){const t=a?2:1,n=e?V.maxNestedInfiniteLoops:V.maxInfiniteLoops;A=Math.max(n,t)}}let L=0;e?L=n:(he.reqId||he.requestTick(K()),L=(he._lastTickTime-he._startTime)*W.timeScale),this.id=tt(i)?ve:i,this.parent=e,this.duration=_t((T+C)*A-C)||k,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=g||_.onBegin,this.onBeforeUpdate=v||_.onBeforeUpdate,this.onUpdate=b||_.onUpdate,this.onLoop=p||_.onLoop,this.onPause=m||_.onPause,this.onComplete=f||_.onComplete,this.iterationDuration=T,this.iterationCount=A,this._autoplay=!e&&xt(u,_.autoplay),this._offset=L,this._delay=w,this._loopDelay=C,this._iterationTime=0,this._currentIteration=0,this._resolve=S,this._running=!1,this._reversed=+xt(r,_.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=xt(a,_.alternate),this._prev=null,this._next=null,this._lastTickTime=y,this._startTime=y,this._lastTime=y,this._fps=xt(d,_.frameRate),this._speed=xt(h,_.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(t){t?this.cancel():this.reset(!0).play()}get currentTime(){return gt(bt(this._currentTime,W.precision),-this._delay,this.duration)}set currentTime(t){const e=this.paused;this.pause().seek(+t),e||this.resume()}get iterationCurrentTime(){return gt(bt(this._iterationTime,W.precision),0,this.iterationDuration)}set iterationCurrentTime(t){this.currentTime=this.iterationDuration*this._currentIteration+t}get progress(){return gt(bt(this._currentTime/this.duration,10),0,1)}set progress(t){this.currentTime=this.duration*t}get iterationProgress(){return gt(bt(this._iterationTime/this.iterationDuration,10),0,1)}set iterationProgress(t){const e=this.iterationDuration;this.currentTime=e*this._currentIteration+e*t}get currentIteration(){return this._currentIteration}set currentIteration(t){this.currentTime=this.iterationDuration*gt(+t,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(t){t?this.reverse():this.play()}get speed(){return super.speed}set speed(t){super.speed=t,this.resetTime()}reset(t=!1){return ge(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,te(this,0,1,~~t,2),me(this),this._hasChildren&&kt(this,me),this}init(t=!1){this.fps=this._fps,this.speed=this._speed,!t&&this._hasChildren&&te(this,this.duration,1,~~t,2),this.reset(t);const e=this._autoplay;return!0===e?this.resume():e&&!tt(e.linked)&&e.link(this),this}resetTime(){const t=1/(this._speed*he._speed);return this._startTime=K()-(this._currentTime+this._delay)*t,this}pause(){return this.paused||(this.paused=!0,this.onPause(this)),this}resume(){return this.paused?(this.paused=!1,this.duration<=k&&!this._hasChildren?te(this,k,0,0,2):(this._running||(Ct(he,this),he._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,he.wake()),this):this}restart(){return this.reset().resume()}seek(t,e=0,n=0){ge(this),this.completed=!1;const i=this.paused;return this.paused=!0,te(this,t+this._delay,~~e,~~n,1),i?this:this.resume()}alternate(){const t=this._reversed,e=this.iterationCount,n=this.iterationDuration,i=e===1/0?ht(E/n):e;return this._reversed=+(!this._alternate||i%2?!t:t),e===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(n*i-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?kt(this,t=>t.cancel(),!0):kt(this,ae),this._cancelled=1,this.pause()}stretch(t){const e=this.duration,n=wt(t);if(e===n)return this;const i=t/e,o=t<=k;return this.duration=o?k:n,this.iterationDuration=o?k:wt(this.iterationDuration*i),this._offset*=i,this._delay*=i,this._loopDelay*=i,this}revert(){te(this,0,1,0,1);const t=this._autoplay;return t&&t.linked&&t.linked===this&&t.revert(),this.cancel()}complete(t=0){return this.seek(this.duration,t).cancel()}then(t=S){const e=this.then,n=()=>{this.then=null,t(this),this.then=e,this._resolve=S};return new Promise(t=>(this._resolve=()=>t(n()),this.completed&&this._resolve(),this))}}const ye={t:0,n:0,u:null,o:null,d:null,s:null},_e={t:0,n:0,u:null,o:null,d:null,s:null},we={},Te={func:null},ke=[null],Ee=[null,null],Ce={to:null};let Ae,Le,xe=0,Ne=0;class Se extends be{constructor(t,e,n,i,o=!1,s=0,r=0){super(e,n,i),++Ne;const a=function(t){const e=function(t){if(et(t))return[];if(!p)return G(t)&&t.flat(1/0)||[t];if(G(t)){const e=t.flat(1/0),n=[];for(let t=0,i=e.length;t<i;t++){const i=e[t];if(!et(i)){const t=At(i);if(t)for(let e=0,i=t.length;e<i;e++){const i=t[e];if(!et(i)){let t=!1;for(let e=0,o=n.length;e<o;e++)if(n[e]===i){t=!0;break}t||n.push(i)}}else{let t=!1;for(let e=0,o=n.length;e<o;e++)if(n[e]===i){t=!0;break}t||n.push(i)}}}return n}const e=At(t);return e?Array.from(e):[t]}(t),n=e.length;if(n)for(let t=0;t<n;t++){const n=e[t];if(!n[b]){n[b]=!0;const t=nt(n);(n.nodeType||t)&&(n[y]=!0,n[_]=t,n[w]={})}}return e}(t),l=a.length,c=e.keyframes,u=c?((t,e)=>{const n={...t};for(let i in e){const o=t[i];n[i]=tt(o)?e[i]:o}return n})(((t,e)=>{const n={};if(G(t)){const e=[].concat(...t.map(t=>Object.keys(t))).filter(rt);for(let i=0,o=e.length;i<o;i++){const o=e[i],s=t.map(t=>{const e={};for(let n in t){const i=t[n];rt(n)?n===o&&(e.to=i):e[n]=i}return e});n[o]=s}}else{const i=xt(e.duration,W.defaults.duration),o=Object.keys(t).map(e=>({o:parseFloat(e)/100,p:t[e]})).sort((t,e)=>t.o-e.o);o.forEach(t=>{const e=t.o,o=t.p;for(let t in o)if(rt(t)){let s=n[t];s||(s=n[t]=[]);const r=e*i;let a=s.length,l=s[a-1];const c={to:o[t]};let u=0;for(let t=0;t<a;t++)u+=s[t].duration;1===a&&(c.from=l.to),o.ease&&(c.ease=o.ease),c.duration=r-(a?u:0),s.push(c)}return t});for(let t in n){const e=n[t];let i;for(let t=0,n=e.length;t<n;t++){const n=e[t],o=n.ease;n.ease=i||void 0,i=o}e[0].duration||e.shift()}}return n})(c,e),e):e,{id:d,delay:h,duration:f,ease:m,playbackEase:g,modifier:T,composition:E,onRender:A}=u,L=n?n.defaults:W.defaults,x=xt(m,L.ease),N=xt(g,L.playbackEase),S=N?Jt(N):null,j=!tt(x.ease),O=j?x.ease:xt(m,S?"linear":L.ease),M=j?x.settlingDuration:xt(f,L.duration),I=xt(h,L.delay),P=T||L.modifier,D=tt(E)&&l>=C?v.none:tt(E)?L.composition:E,B=this._offset+(n?n._offset:0);j&&(x.parent=this);let R=NaN,q=NaN,H=0,F=0;for(let t=0;t<l;t++){const e=a[t],i=s||t,c=r||l;let d=NaN,h=NaN;for(let t in u)if(rt(t)){const s=St(e,t),r=Rt(t,e,s);let a=u[t];const l=G(a);if(o&&!l&&(Ee[0]=a,Ee[1]=a,a=Ee),l){const t=a.length,e=!X(a[0]);2===t&&e?(Ce.to=a,ke[0]=Ce,Ae=ke):t>2&&e?(Ae=[],a.forEach((t,e)=>{e?1===e?(Ee[1]=t,Ae.push(Ee)):Ae.push(t):Ee[0]=t})):Ae=a}else ke[0]=a,Ae=ke;let f=null,p=null,m=NaN,g=0,b=0;for(let t=Ae.length;b<t;b++){const o=Ae[b];X(o)?Le=o:(Ce.to=o,Le=Ce),Te.func=null;const a=Nt(Le.to,e,i,c,Te);let l;X(a)&&!tt(a.to)?(Le=a,l=a.to):l=a;const u=Nt(Le.from,e,i,c),d=Le.ease||O,h=Nt(d,e,i,c),y=Q(h)||J(h)?h:d,_=!tt(y)&&!tt(y.ease),w=_?y.ease:y,T=_?y.settlingDuration:Nt(xt(Le.duration,t>1?Nt(M,e,i,c)/t:M),e,i,c),E=Nt(xt(Le.delay,b?0:I),e,i,c),C=Nt(xt(Le.composition,D),e,i,c),A=Z(C)?C:v[C],L=Le.modifier||P,x=!tt(u),N=!tt(l),S=G(l),j=S||x&&N,R=p?g+E:E,q=bt(B+R,12);F||!x&&!S||(F=1);let U=p;if(A!==v.none){f||(f=ie(e,r));let t=f._head;for(;t&&!t._isOverridden&&t._absoluteStartTime<=q;)if(U=t,t=t._nextRep,t&&t._absoluteStartTime>=q)for(;t;)se(t),t=t._nextRep}if(j){It(S?Nt(l[0],e,i,c):u,ye),It(S?Nt(l[1],e,i,c,Te):l,_e);const t=Ot(e,r,s,we);0===ye.t&&(U?1===U._valueType&&(ye.t=1,ye.u=U._unit):(It(t,Dt),1===Dt.t&&(ye.t=1,ye.u=Dt.u)))}else N?It(l,_e):p?Pt(p,_e):It(n&&U&&U.parent.parent===n?U._value:Ot(e,r,s,we),_e),x?It(u,ye):p?Pt(p,ye):It(n&&U&&U.parent.parent===n?U._value:Ot(e,r,s,we),ye);if(ye.o&&(ye.n=Mt(U?U._toNumber:It(Ot(e,r,s,we),Dt).n,ye.n,ye.o)),_e.o&&(_e.n=Mt(ye.n,_e.n,_e.o)),ye.t!==_e.t)if(3===ye.t||3===_e.t){const t=3===ye.t?ye:_e,e=3===ye.t?_e:ye;e.t=3,e.s=Tt(t.s),e.d=t.d.map(()=>e.n)}else if(1===ye.t||1===_e.t){const t=1===ye.t?ye:_e,e=1===ye.t?_e:ye;e.t=1,e.u=t.u}else if(2===ye.t||2===_e.t){const t=2===ye.t?ye:_e,e=2===ye.t?_e:ye;e.t=2,e.s=t.s,e.d=[0,0,0,1]}if(ye.u!==_e.u){let t=_e.u?ye:_e;t=Ut(e,t,_e.u?_e.u:ye.u,!1)}if(_e.d&&ye.d&&_e.d.length!==ye.d.length){const t=ye.d.length>_e.d.length?ye:_e,e=t===ye?_e:ye;e.d=t.d.map((t,n)=>tt(e.d[n])?0:e.d[n]),e.s=Tt(t.s)}const W=bt(+T||k,12);let V=we[r];et(V)||(we[r]=null);const z={parent:this,id:xe++,property:r,target:e,_value:null,_func:Te.func,_ease:Jt(w),_fromNumbers:Tt(ye.d),_toNumbers:Tt(_e.d),_strings:Tt(_e.s),_fromNumber:ye.n,_toNumber:_e.n,_numbers:Tt(ye.d),_number:ye.n,_unit:_e.u,_modifier:L,_currentTime:0,_startTime:R,_delay:+E,_updateDuration:W,_changeDuration:W,_absoluteStartTime:q,_tweenType:s,_valueType:_e.t,_composition:A,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_inlineValue:V,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};A!==v.none&&re(z,f),isNaN(m)&&(m=z._startTime),g=bt(R+W,12),p=z,H++,Ct(this,z)}(isNaN(q)||m<q)&&(q=m),(isNaN(R)||g>R)&&(R=g),3===s&&(d=H-b,h=H)}if(!isNaN(d)){let t=0;kt(this,e=>{t>=d&&t<h&&(e._renderTransforms=1,e._composition===v.blend&&kt(ee.animation,t=>{t.id===e.id&&(t._renderTransforms=1)})),t++})}}l||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),q?(kt(this,t=>{t._startTime-t._delay||(t._delay-=q),t._startTime-=q}),R-=q):q=0,R||(R=k,this.iterationCount=0),this.targets=a,this.id=tt(d)?Ne:d,this.duration=R===k?k:_t((R+this._loopDelay)*this.iterationCount-this._loopDelay)||k,this.onRender=A||L.onRender,this._ease=S,this._delay=q,this.iterationDuration=R,!this._autoplay&&F&&this.onRender(this)}stretch(t){const e=this.duration;if(e===wt(t))return this;const n=t/e;return kt(this,t=>{t._updateDuration=wt(t._updateDuration*n),t._changeDuration=wt(t._changeDuration*n),t._currentTime*=n,t._startTime*=n,t._absoluteStartTime*=n}),super.stretch(t)}refresh(){return kt(this,t=>{const e=t._func;if(e){const n=Ot(t.target,t.property,t._tweenType);It(n,Dt),It(e(),_e),t._fromNumbers=Tt(Dt.d),t._fromNumber=Dt.n,t._toNumbers=Tt(_e.d),t._strings=Tt(_e.s),t._toNumber=_e.o?Mt(Dt.n,_e.n,_e.o):_e.n}}),this.duration===k&&this.restart(),this}revert(){return super.revert(),qt(this)}then(t){return super.then(t)}}const je=(t,e)=>new Se(t,e,null,0,!1).init();var Oe=window.matchMedia("(prefers-reduced-motion: reduce)").matches,Me=function(){return Me=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Me.apply(this,arguments)},Ie={offset:0,ease:"cubicBezier(1,0,.7,1)",duration:300,replaceState:!1},Pe=function(){function t(t,e){var n=this;this.handleClick=function(t){t.preventDefault();var e=t.currentTarget.getAttribute("href");if(e){var i=s(e);i&&n.scrollTo(i,e)}};var i=Me(Me({},Ie),e),o=i.ease,r=i.duration,l=i.onBegin,c=i.onComplete;this.elems="string"==typeof t?a(t):t,this.options=i;var u=Oe?0:r;this.animeOptions={duration:u,ease:o,onBegin:l,onComplete:c},this.init()}return t.prototype.init=function(){this.addListeners()},t.prototype.addListeners=function(){var t=this;this.elems.forEach(function(e){return l(e,"click",t.handleClick)})},t.prototype.destroy=function(){var t=this;this.elems.forEach(function(e){return n=e,i=t.handleClick,n.removeEventListener("click",i);var n,i})},t.prototype.scrollTo=function(t,e){var n=this.options,i=n.offset,o=void 0===i?0:i,s=n.scrollTop,r=n.container,a=t.getBoundingClientRect().top,l=window.pageYOffset,c=[document.documentElement,document.body],u="function"==typeof o?o(t):o;r&&(c=r,l=r.scrollTop);var d="function"==typeof s?s(t,l):a+l-u,h=this.animeOptions,f=h.duration,p=h.ease,m=h.onBegin,g=h.onComplete;this.anime=je(c,{scrollTop:d,duration:f,ease:p,onBegin:m,onComplete:g}),this.options.replaceState&&window.history.replaceState(null,"",document.location.pathname+e)},t}();const De=Pe;function Be(t,e){void 0===e&&(e=3),t.hidden=!0,new De([t]);var n=window.innerHeight*e;f(function(){window.pageYOffset>n?t.hidden=!1:t.hidden=!0})}var Re=s(".js-to-top-btn"),qe=s(".js-journey-to-top-btn");Re&&Be(Re),qe&&Be(qe,3.75);var He=function(){function t(t){var e=this;this.handleElemKeyDown=function(t){32===t.keyCode&&(t.preventDefault(),e.toggle())},this.elem=t,this.target=this.getTarget(this.elem),this.activeClass="is-toggled",this.enabledClass="has-toggler";var n=t.getAttribute("data-toggle-linked");this.linked=n?'[data-toggle-linked="'.concat(n,'"]'):null;var i=t.getAttribute("data-toggle-group");this.group=i?'[data-toggle-group="'.concat(i,'"]'):null,t.getAttribute("data-toggle-group-parent"),this.groupParent=i?s(".".concat(i)):null,this.toggleAllParent=s("[data-toggle-all-group]"),this.handleElemClick=this.handleElemClick.bind(this),this.focusTargetSelector=t.getAttribute("data-toggle-focus"),this.focusTargetSelector&&(this.focusTarget=s(this.focusTargetSelector)),this.init()}return t.prototype.init=function(){var t;this.target&&(this.addListeners(),this.elem.classList.add(this.enabledClass),this.target.classList.add(this.enabledClass),null===(t=this.groupParent)||void 0===t||t.classList.add(this.enabledClass))},t.prototype.destroy=function(){var t,e;this.elem.classList.remove(this.enabledClass),this.elem.classList.remove(this.activeClass),this.target.classList.remove(this.enabledClass),this.target.classList.remove(this.activeClass),null===(t=this.groupParent)||void 0===t||t.classList.remove(this.enabledClass),null===(e=this.groupParent)||void 0===e||e.classList.remove(this.activeClass),this.elem.removeEventListener("click",this.handleElemClick),this.elem.removeEventListener("keydown",this.handleElemKeyDown)},t.prototype.addListeners=function(){this.elem.addEventListener("click",this.handleElemClick),this.elem.addEventListener("keydown",this.handleElemKeyDown)},t.prototype.getTarget=function(t){var e=t.getAttribute("data-toggle-target");if(e)return s(e)},t.prototype.handleElemClick=function(t){t.preventDefault(),this.toggle()},t.prototype.closeGroup=function(){var t=this;if(this.group){var e=a(this.group);e&&e.forEach(function(e){var n=t.getTarget(e);t.close(e,n)})}},t.prototype.toggleLinked=function(){var t=this;if(this.linked){var e=a(this.linked);e&&e.forEach(function(e){var n=t.getTarget(e);if(t.isToggled(n))return t.close(e,n);t.open(e,n)})}},t.prototype.open=function(t,e){var n=this;this.groupParent&&this.groupParent.classList.add(this.activeClass),e&&e.classList.add(this.activeClass),t&&(t.classList.add(this.activeClass),this.setAriaExpanded(t,!0),this.focusTarget&&setTimeout(function(){var t,e=null===(t=n.focusTarget)||void 0===t?void 0:t.querySelector("input");null==e||e.focus()},100))},t.prototype.setAriaExpanded=function(t,e){t.hasAttribute("aria-expanded")&&t.setAttribute("aria-expanded",String(e))},t.prototype.close=function(t,e){this.groupParent&&this.groupParent.classList.remove(this.activeClass),e&&e.classList.remove(this.activeClass),t&&(t.classList.remove(this.activeClass),this.setAriaExpanded(t,!1),this.toggleAllParent&&this.isToggled(this.toggleAllParent)&&this.toggleAllParent.classList.remove(this.activeClass))},t.prototype.isToggled=function(t){return t.classList.contains(this.activeClass)},t.prototype.toggle=function(){if(!this.isToggled(this.target))return this.group&&this.closeGroup(),this.linked&&this.toggleLinked(),this.open(this.elem,this.target);this.close(this.elem,this.target)},t}();a("[data-toggle-target]").forEach(function(t){return new He(t)});var Fe=function(){function t(t){this.elem=t,this.videoElement=s("[data-background-video]",this.elem),this.controls=s("[data-background-video-trigger]",this.elem),this.playButton=s(".background-video--button-play",this.elem),this.pauseButton=s(".background-video--button-pause",this.elem),this.handleClick=this.handleClick.bind(this),this.videoElement&&this.init()}return t.prototype.init=function(){this.addListeners(),window.matchMedia("(max-width: 512px)").matches||Oe?(this.videoElement.autoplay=!1,this.controls.classList.add("not-playing"),this.controls.setAttribute("aria-hidden","true")):(this.controls.setAttribute("aria-hidden","false"),this.playButton.setAttribute("aria-hidden","true"),this.pauseButton.setAttribute("aria-hidden","false"))},t.prototype.addListeners=function(){this.controls.addEventListener("click",this.handleClick)},t.prototype.handleClick=function(t){this.controls.classList.toggle("not-playing"),this.controls.classList.contains("not-playing")?(this.videoElement.pause(),this.playButton.setAttribute("aria-hidden","false"),this.pauseButton.setAttribute("aria-hidden","true")):(this.videoElement.play(),this.playButton.setAttribute("aria-hidden","true"),this.pauseButton.setAttribute("aria-hidden","false"))},t}();function Ue(t){return function(t){if(Array.isArray(t))return We(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return We(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}a("[data-background-video-parent]").forEach(function(t){new Fe(t)});var Ve,ze,$e,Ye,Ke,Ge=(Ve=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],ze=function(){function t(e){var n=e.targetModal,i=e.triggers,o=void 0===i?[]:i,s=e.onShow,r=void 0===s?function(){}:s,a=e.onClose,l=void 0===a?function(){}:a,c=e.openTrigger,u=void 0===c?"data-micromodal-trigger":c,d=e.closeTrigger,h=void 0===d?"data-micromodal-close":d,f=e.openClass,p=void 0===f?"is-open":f,m=e.disableScroll,g=void 0!==m&&m,v=e.disableFocus,b=void 0!==v&&v,y=e.awaitCloseAnimation,_=void 0!==y&&y,w=e.awaitOpenAnimation,T=void 0!==w&&w,k=e.debugMode,E=void 0!==k&&k;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal="string"==typeof n?document.getElementById(n):n,this.config={debugMode:E,disableScroll:g,openTrigger:u,closeTrigger:h,openClass:p,onShow:r,onClose:l,awaitCloseAnimation:_,awaitOpenAnimation:T,disableFocus:b},o.length>0&&this.registerTriggers.apply(this,Ue(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e;return(e=[{key:"registerTriggers",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.filter(Boolean).forEach(function(e){e.addEventListener("click",function(e){return t.showModal(e)})})}},{key:"showModal",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",function e(){t.modal.removeEventListener("animationend",e,!1),t.setFocusToFirstNode()},!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,e)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",function t(){e.classList.remove(n),e.removeEventListener("animationend",t,!1)},!1)}else e.classList.remove(this.config.openClass)}},{key:"closeModalByIdOrElement",value:function(t){this.modal="string"==typeof t?document.getElementById(t):t,this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:""});break;case"disable":Object.assign(e.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){(t.target.hasAttribute(this.config.closeTrigger)||t.target.parentNode.hasAttribute(this.config.closeTrigger))&&(t.preventDefault(),t.stopPropagation(),this.closeModal(t))}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(Ve);return Array.apply(void 0,Ue(t))}},{key:"setFocusToFirstNode",value:function(){var t=this;if(!this.config.disableFocus){var e=this.getFocusableNodes();if(0!==e.length){var n=e.filter(function(e){return!e.hasAttribute(t.config.closeTrigger)});n.length>0&&n[0].focus(),0===n.length&&e[0].focus()}}}},{key:"retainFocus",value:function(t){var e=this.getFocusableNodes();if(0!==e.length)if(e=e.filter(function(t){return null!==t.offsetParent}),this.modal.contains(document.activeElement)){var n=e.indexOf(document.activeElement);t.shiftKey&&0===n&&(e[e.length-1].focus(),t.preventDefault()),!t.shiftKey&&e.length>0&&n===e.length-1&&(e[0].focus(),t.preventDefault())}else e[0].focus()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),$e=null,Ye=function(t){if("string"==typeof id?!document.getElementById(t):!t)return console.warn("MicroModal: â—Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},Ke=function(t,e){if(function(t){t.length<=0&&(console.warn("MicroModal: â—Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(t),!e)return!0;for(var n in e)Ye(n);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),n=Ue(document.querySelectorAll("[".concat(e.openTrigger,"]"))),i=function(t,e){var n=[];return t.forEach(function(t){var i=t.attributes[e].value;void 0===n[i]&&(n[i]=[]),n[i].push(t)}),n}(n,e.openTrigger);if(!0!==e.debugMode||!1!==Ke(n,i))for(var o in i){var s=i[o];e.targetModal=o,e.triggers=Ue(s),$e=new ze(e)}},show:function(t,e){var n=e||{};n.targetModal=t,!0===n.debugMode&&!1===Ye(t)||($e&&$e.removeEventListeners(),($e=new ze(n)).showModal())},close:function(t){t?$e.closeModalByIdOrElement(t):$e.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=Ge);const Xe=Ge;var Ze=function(){function t(t){var e=this;this.handleKeyUp=function(t){32===t.keyCode&&(t.preventDefault(),e.showVideo())},this.handleVideoEmbedClick=function(t){t.preventDefault(),e.showVideo()},this.elem=t,this.originalContent=t,this.content=s(".js-video-content",t),this.link=s(".js-video-link",t),this.iframe=t.getAttribute("data-video"),this.activeClass="has-video",this.hideVideo=this.hideVideo.bind(this),this.init()}return t.prototype.init=function(){this.addListeners()},t.prototype.addListeners=function(){this.link&&(l(this.link,"click",this.handleVideoEmbedClick),l(this.link,"keydown",this.handleKeyUp))},t.prototype.hideVideo=function(){this.elem.classList.remove(this.activeClass),this.content&&(this.content.innerHTML=this.link.outerHTML),this.link=s(".js-video-link",this.elem),this.addListeners()},t.prototype.showVideo=function(){var t=this;if(this.elem.classList.add(this.activeClass),this.iframe){var e,n,i,o=function(t){var e=document.createElement("div");return e.innerHTML=t,0===e.childNodes.length?"":e.childNodes[0].nodeValue}(this.iframe);this.content&&(this.content.innerHTML=o||this.iframe,s("iframe",this.content).ariaLabel="Video player"),e=this.elem,n=function(){t.hideVideo()},(i=new IntersectionObserver(function(t){t.forEach(function(t){0===t.intersectionRatio&&(n(),i.unobserve(e))})})).observe(e)}else console.warn("No data-video set for video",this.elem)},t}();a(".js-video").forEach(function(t){return new Ze(t)});const Je=Ze;var Qe=function(){function t(t){this.elem=t,this.modalElem=s(".journey-modal--block"),this.swiperClass=".journey-swiper",this.paginationClass=".swiper-pagination",this.paginationEl=s(this.paginationClass),this.swiperParentEl=s(".journey-modal__pagination"),this.swiperParentWrapperEl=s(".journey-modal__pagination-wrapper"),this.activeVideoClass="has-video",this.translate=0,this.halfWindowWidth=window.innerWidth/2,this.closeBtn=s("[data-journey-overlay-close]"),this.loadingEls=a("[data-loading]"),this.swiperInit=this.swiperInit.bind(this),this.swiperUpdate=this.swiperUpdate.bind(this),this.scrollToTop=this.scrollToTop.bind(this),this.handleHashChange=this.handleHashChange.bind(this),this.resetNavigation=this.resetNavigation.bind(this),this.init()}return t.prototype.elementOnLoad=function(t,e){var n,i,o,r,a;(n=t,i=void 0,o=void 0,r=void 0,a=function(){return function(t,e){var n,i,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},r=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return r.next=a(0),r.throw=a(1),r.return=a(2),"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(t){switch(t.label){case 0:return null!==s(n)?[3,2]:[4,new Promise(function(t){return window.requestAnimationFrame(t)})];case 1:return t.sent(),[3,0];case 2:return[2,n]}})},new(r||(r=Promise))(function(t,e){function n(t){try{l(a.next(t))}catch(t){e(t)}}function s(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var i;e.done?t(e.value):(i=e.value,i instanceof r?i:new r(function(t){t(i)})).then(n,s)}l((a=a.apply(i,o||[])).next())})).then(function(t){e(t)})},t.prototype.init=function(){this.swiperInit(),this.addListeners()},t.prototype.getSwiper=function(){return t=this,e=void 0,i=function(){var t=this;return function(t,e){var n,i,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},r=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return r.next=a(0),r.throw=a(1),r.return=a(2),"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(e){return[2,r.e(979).then(r.bind(r,236)).then(function(e){var n=e.default;r.e(979).then(r.bind(r,207)).then(function(e){var i=e.Navigation,o=e.Pagination,s=e.HashNavigation,r=e.A11y;t.loadingEls.forEach(function(t){return t.classList.add("has-loaded")}),t.swiperEl=new n(t.swiperClass,{modules:[i,o,s,r],autoHeight:!0,hashNavigation:{replaceState:!0,watchState:!0},navigation:{nextEl:".js-journey-next-button",prevEl:".js-journey-prev-button"},pagination:{el:t.paginationClass,bulletClass:"journey-modal__cb-link",clickable:!0,renderBullet:function(t,e){return'\n                  <a class="journey-modal__cb-link '.concat(e,'" href="#" role="button">\n                    <span class="cb-link__text">\n                      ').concat(["Why Middlebury","Immersive Environments","The Undergraduate Experience","Alumni in the World","Middlebury in the News","Students in Action","Connected Middlebury","Middlebury College","Graduate and Professional Schools"][t],'\n                    </span>\n                    <span class="cb-link__circle-wrapper">\n                      <span class="cb-link__circle inner"></span>\n                      <span class="cb-link__circle outer"></span>\n                    </span>\n                  </a>')}},on:{slideNextTransitionStart:function(t){t.allowSlideNext=!1},slideNextTransitionEnd:function(t){t.allowSlideNext=!0},slidePrevTransitionStart:function(t){t.allowSlidePrev=!1},slidePrevTransitionEnd:function(t){t.allowSlidePrev=!0},transitionStart:function(){t.swiperUpdate(),t.scrollToTop()}}})})}).catch(function(t){return"An error occurred while loading Swiper"})]})},new((n=void 0)||(n=Promise))(function(o,s){function r(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}l((i=i.apply(t,e||[])).next())});var t,e,n,i},t.prototype.swiperInit=function(){var t=this;this.getSwiper().then(function(){t.closeBtn.focus(),e()("[data-journey-gallery-item] img").observe(),t.swiperParentEl.style.transform="translateX(".concat(t.translate,"px)"),t.initVideoElems()})},t.prototype.addListeners=function(){var t=this;this.elementOnLoad(".journey-modal__cb-link",function(e){t.paginationDotEls=a(e),t.paginationDotEls.forEach(function(e){window.matchMedia("(min-width: 1024px)").matches&&(e.addEventListener("mouseenter",function(e){t.handleMouseEvent(e)}),e.addEventListener("mouseleave",function(e){t.handleMouseEvent(e)}))})}),a(".transcript__button").forEach(function(e){e.addEventListener("click",function(e){var n;null===(n=t.swiperEl)||void 0===n||n.updateAutoHeight(50)})}),window.matchMedia("(min-width: 512px)").matches&&window.addEventListener("resize",function(e){clearTimeout(t.timeout),t.timeout=setTimeout(t.resetNavigation,250)}),window.addEventListener("hashchange",function(e){t.elementOnLoad(".journey-modal--block.is-open",t.handleHashChange)})},t.prototype.scrollToTop=function(){this.modalElem.scrollTop>0&&je(this.modalElem,{scrollTop:0,ease:"inSine",autoplay:!0,duration:300})},t.prototype.handleHashChange=function(){var t,e,n,i=parseInt(window.location.hash.replace("#slide","")),o=window.MicroModal;isNaN(i)?null==o||o.close():i!==(null===(t=this.swiperEl)||void 0===t?void 0:t.activeIndex)?null===(e=this.swiperEl)||void 0===e||e.slideTo(i,300,!1):i==(null===(n=this.swiperEl)||void 0===n?void 0:n.activeIndex)&&this.swiperUpdate()},t.prototype.resetNavigation=function(){this.halfWindowWidth=window.innerWidth/2,this.swiperUpdate()},t.prototype.handleMouseEvent=function(t){var e=t.target.parentElement;"mouseenter"===t.type?e.classList.add("show-label"):"mouseleave"===t.type&&e.classList.remove("show-label")},t.prototype.initVideoElems=function(){a(".js-expand-video",this.elem).forEach(function(t){return new Je(t)})},t.prototype.swiperUpdate=function(){var t;this.currentEl=s(".swiper-pagination-bullet-active",this.paginationEl);var e=this.swiperParentEl.scrollWidth;e>this.swiperParentEl.offsetWidth&&(e=this.swiperParentEl.offsetWidth),this.hiddenWidth=e-this.swiperParentWrapperEl.offsetWidth;var n=null===(t=this.currentEl)||void 0===t?void 0:t.getBoundingClientRect().left;this.currentEl&&(this.translate=this.translate+(this.halfWindowWidth-n-16),this.translate>0&&(this.translate=0),Math.abs(this.translate)>this.hiddenWidth&&(this.translate=-this.hiddenWidth),this.translate<=0&&Math.abs(this.translate)<=this.hiddenWidth&&(this.swiperParentEl.style.transform="translateX(".concat(this.translate,"px)")))},t}();const tn=Qe;var en=function(){function t(t){this.elem=t,this.journeySections=a(".js-journey-section"),this.firstSection=this.journeySections.shift(),this.animPauseThreshold=0,this.sectionIndex=0,this.sectionNames=["learning","thinking","opportunity"],this.sectionLinksElems={},this.deviceInfo={desktop:{dotsAnimBreaks:[0,34,70],lineAnimBreaks:[25,60,101]},tablet:{dotsAnimBreaks:[0,39,77],lineAnimBreaks:[29,67,101]},mobile:{dotsAnimBreaks:[0,32,70],lineAnimBreaks:[28,65,101]}},this.handleIntersection=this.handleIntersection.bind(this),this.handleScroll=this.handleScroll.bind(this),this.deviceInit=this.deviceInit.bind(this),this.init()}return t.prototype.init=function(){window.location.hash="",this.deviceInit(),this.addListeners(),Oe||(this.svgInit(),this.animInit(),this.sectionInit())},t.prototype.deviceInit=function(){this.handleScroll(),window.matchMedia("(min-width: 1024px)").matches?this.deviceType="desktop":window.matchMedia("(min-width: 512px)").matches?this.deviceType="tablet":this.deviceType="mobile",this.pathEl=s(".journey-line--".concat(this.deviceType," path"),this.elem);for(var t=0;t<3;t++)this.sectionLinksElems[t]=s(".journey-links--".concat(this.deviceType," .").concat(this.sectionNames[t]))},t.prototype.addListeners=function(){var t=this;window.addEventListener("resize",function(e){clearTimeout(t.timeout),t.timeout=setTimeout(t.handleScroll,250)}),this.scrollRef=f(this.handleScroll),Object.values(this.sectionLinksElems).forEach(function(t){return s(".journey--link:last-child",t).addEventListener("animationend",function(){c(t,"disable-animate")})})},t.prototype.handleScroll=function(){this.firstSection.clientHeight-window.innerHeight>-this.firstSection.getBoundingClientRect().top?s(".school-picker").classList.remove("not-fixed"):s(".school-picker").classList.add("not-fixed")},t.prototype.svgInit=function(){this.totalPathLength=this.pathEl.getTotalLength();var t="4, 4",e=t.split(/[\s,]/).map(function(t){return parseFloat(t)||0}).reduce(function(t,e){return t+e},0),n=Math.ceil(this.totalPathLength/e)+1,i=new Array(n).join(t+" ")+" 0, "+this.totalPathLength;this.pathEl.setAttribute("stroke-dashoffset","".concat(this.totalPathLength)),this.pathEl.setAttribute("stroke-dasharray",i)},t.prototype.animInit=function(){var t=this;this.journeyLineAnimInstance=je(this.pathEl,{strokeDashoffset:[this.totalPathLength,0],duration:1e4,ease:"linear",autoplay:!1,onUpdate:function(e){t.animUpdate(e)}})},t.prototype.getAnimationThreshold=function(t,e){return"line"===e?this.deviceInfo[this.deviceType].lineAnimBreaks[t]:this.deviceInfo[this.deviceType].dotsAnimBreaks[t]},t.prototype.animUpdate=function(t){for(var e=Math.round(100*t.progress),n=0;n<this.sectionNames.length;n++)e>=this.getAnimationThreshold(n,"dots")&&(this.sectionIndex=n);c(this.sectionLinksElems[this.sectionIndex],"animate"),e>=this.animPauseThreshold-.5&&e<=this.animPauseThreshold+.5&&this.journeyLineAnimInstance.pause()},t.prototype.sectionInit=function(){var t=this;this.io=new IntersectionObserver(this.handleIntersection,{threshold:.4}),this.journeySections.forEach(function(e){return t.io.observe(e)})},t.prototype.loadVideo=function(t){var e=s(".journey-section__video",t),n=s("source",e);n.src=n.dataset.src,e.load()},t.prototype.handleIntersection=function(t){var e=this;t.forEach(function(t){if(t.isIntersecting){var n=0,i=t.target.id;i===e.sectionNames[0]?n=0:i===e.sectionNames[1]?n=1:i===e.sectionNames[2]&&(n=2),window.matchMedia("(min-width: 512px)").matches&&!Oe&&e.loadVideo(t.target),e.getAnimationThreshold(n,"line")>e.animPauseThreshold&&(e.animPauseThreshold=e.getAnimationThreshold(n,"line"),e.journeyLineAnimInstance.play()),e.io.unobserve(t.target)}})},t}();Xe.init({openTrigger:"data-journey-overlay-open",closeTrigger:"data-journey-overlay-close",onShow:function(t){if(!t.swiper){var e=s(".journey-swiper");t.swiper=new tn(e)}t.swiper&&t.swiper.scrollToTop(),a("[data-journey-overlay-close]",t).forEach(function(t){return t.focus()})},disableScroll:!0}),a(".journey").forEach(function(t){return new en(t)});var nn=window.matchMedia("(min-aspect-ratio: 16/13) and (max-aspect-ratio: 16/7)").matches,on=window.innerHeight-s(".journey section").getBoundingClientRect().height,sn={container:document.body,panelSelector:".journey section",directionThreshold:on>0?on:50,delay:0,duration:600,easing:function(t){return t}},rn=a(".journey");0!==rn.length&&function(){return t=this,e=void 0,i=function(){var t;return function(t,e){var n,i,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},r=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return r.next=a(0),r.throw=a(1),r.return=a(2),"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(e){switch(e.label){case 0:return!nn||Oe?[3,2]:[4,r.e(231).then(r.t.bind(r,59,23))];case 1:t=e.sent().default,rn.forEach(function(){return new t(sn)}),e.label=2;case 2:return[2]}})},new((n=void 0)||(n=Promise))(function(o,s){function r(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}l((i=i.apply(t,e||[])).next())});var t,e,n,i}().catch(function(t){return"An error occurred while loading panelsnap"})})()})();