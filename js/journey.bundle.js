/*! For license information please see journey.bundle.js.LICENSE.txt */
(()=>{var t,e,n,i,o={317:function(t){t.exports=function(){"use strict";function t(){return"undefined"!=typeof window}function e(t){return(r=t)&&r.document&&function(t){return 9===t.nodeType}(r.document)?(n=(e=t).document,i=n.body,o=n.documentElement,{scrollHeight:function(){return Math.max(i.scrollHeight,o.scrollHeight,i.offsetHeight,o.offsetHeight,i.clientHeight,o.clientHeight)},height:function(){return e.innerHeight||o.clientHeight||i.clientHeight},scrollY:function(){return void 0!==e.pageYOffset?e.pageYOffset:(o||i.parentNode||i).scrollTop}}):function(t){return{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}}}(t);var e,n,i,o,r}function n(t,n,i){var o,r=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}(),s=!1,a=e(t),l=a.scrollY(),c={};function u(){var t=Math.round(a.scrollY()),e=a.height(),o=a.scrollHeight();c.scrollY=t,c.lastScrollY=l,c.direction=t>l?"down":"up",c.distance=Math.abs(t-l),c.isOutOfBounds=t<0||t+e>o,c.top=t<=n.offset[c.direction],c.bottom=t+e>=o,c.toleranceExceeded=c.distance>n.tolerance[c.direction],i(c),l=t,s=!1}function d(){s||(s=!0,o=requestAnimationFrame(u))}var h=!!r&&{passive:!0,capture:!1};return t.addEventListener("scroll",d,h),u(),{destroy:function(){cancelAnimationFrame(o),t.removeEventListener("scroll",d,h)}}}function i(t){return t===Object(t)?t:{down:t,up:t}}function o(t,e){e=e||{},Object.assign(this,o.options,e),this.classes=Object.assign({},o.options.classes,e.classes),this.elem=t,this.tolerance=i(this.tolerance),this.offset=i(this.offset),this.initialised=!1,this.frozen=!1}return o.prototype={constructor:o,init:function(){return o.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(t){t.scrollTracker=n(t.scroller,{offset:t.offset,tolerance:t.tolerance},t.update.bind(t))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(t){return"down"===t.direction&&!t.top&&t.toleranceExceeded},shouldPin:function(t){return"up"===t.direction&&t.toleranceExceeded||t.top},addClass:function(t){this.elem.classList.add.apply(this.elem.classList,this.classes[t].split(" "))},removeClass:function(t){this.elem.classList.remove.apply(this.elem.classList,this.classes[t].split(" "))},hasClass:function(t){return this.classes[t].split(" ").every(function(t){return this.classList.contains(t)},this.elem)},update:function(t){t.isOutOfBounds||!0!==this.frozen&&(t.top?this.top():this.notTop(),t.bottom?this.bottom():this.notBottom(),this.shouldUnpin(t)?this.unpin():this.shouldPin(t)&&this.pin())}},o.options={tolerance:{up:0,down:0},offset:0,scroller:t()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},o.cutsTheMustard=!!(t()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),o}()},510:function(t){t.exports=function(){"use strict";var t="undefined"!=typeof document&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(e){if("picture"===e.nodeName.toLowerCase()){var n=e.querySelector("img"),i=!1;null===n&&(n=document.createElement("img"),i=!0),t&&e.getAttribute("data-iesrc")&&(n.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(n.alt=e.getAttribute("data-alt")),i&&e.append(n)}if("video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var o=e.children,r=void 0,s=0;s<=o.length-1;s++)(r=o[s].getAttribute("data-src"))&&(o[s].src=r);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset"));var a=",";if(e.getAttribute("data-background-delimiter")&&(a=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image"))e.style.backgroundImage="url('"+e.getAttribute("data-background-image").split(a).join("'),url('")+"')";else if(e.getAttribute("data-background-image-set")){var l=e.getAttribute("data-background-image-set").split(a),c=l[0].substr(0,l[0].indexOf(" "))||l[0];c=-1===c.indexOf("url(")?"url("+c+")":c,1===l.length?e.style.backgroundImage=c:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: "+c+"; background-image: -webkit-image-set("+l+"); background-image: image-set("+l+")")}e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function n(t){t.setAttribute("data-loaded",!0)}var i=function(t){return"true"===t.getAttribute("data-loaded")},o=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var t,r,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=Object.assign({},e,a),c=l.root,u=l.rootMargin,d=l.threshold,h=l.load,p=l.loaded,f=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(f=new IntersectionObserver((t=h,r=p,function(e,o){e.forEach(function(e){(0<e.intersectionRatio||e.isIntersecting)&&(o.unobserve(e.target),i(e.target)||(t(e.target),n(e.target),r(e.target)))})}),{root:c,rootMargin:u,threshold:d}));for(var m,g=o(s,c),v=0;v<g.length;v++)(m=g[v]).getAttribute("data-placeholder-background")&&(m.style.background=m.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=o(s,c),e=0;e<t.length;e++)i(t[e])||(f?f.observe(t[e]):(h(t[e]),n(t[e]),p(t[e])))},triggerLoad:function(t){i(t)||(h(t),n(t),p(t))},observer:f}}}()},976:()=>{!function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),o=window.setTimeout(function(){e(n+i)},i);return t=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()}},r={};function s(t){var e=r[t];if(void 0!==e)return e.exports;var n=r[t]={exports:{}};return o[t].call(n.exports,n,n.exports,s),n.exports}s.m=o,s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,s.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var o=Object.create(null);s.r(o);var r={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach(t=>r[t]=()=>n[t]);return r.default=()=>n,s.d(o,r),o},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce((e,n)=>(s.f[n](t,e),e),[])),s.u=t=>({231:"panelsnap",979:"swiper"}[t]+".bundle.js"),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n={},i="midd-frontend:",s.l=(t,e,o,r)=>{if(n[t])n[t].push(e);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==i+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",i+o),a.src=t),n[t]=[e];var h=(e,i)=>{a.onerror=a.onload=null,clearTimeout(p);var o=n[t];if(delete n[t],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach(t=>t(i)),e)return e(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.p="/themes/custom/middlebury_theme/js/",(()=>{var t={569:0};s.f.j=(e,n)=>{var i=s.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise((n,o)=>i=t[e]=[n,o]);n.push(i[2]=o);var r=s.p+s.u(e),a=new Error;s.l(r,n=>{if(s.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,i[1](a)}},"chunk-"+e,e)}};var e=(e,n)=>{var i,o,[r,a,l]=n,c=0;if(r.some(e=>0!==t[e])){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);l&&l(s)}for(e&&e(n);c<r.length;c++)o=r[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=globalThis.webpackChunkmidd_frontend=globalThis.webpackChunkmidd_frontend||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),(()=>{"use strict";s(976);var t=s(510),e=s.n(t);e()(".js-lazy-load").observe();var n,i=s(317),o=s.n(i),r=function(t,e){return void 0===e&&(e=document),e.querySelector(t)},a=function(t,e){return void 0===e&&(e=document),Array.from(e.querySelectorAll(t))},l=function(t,e,n){return t.addEventListener(e,n)},c=function(t,e){return t.classList.add(e)},u=r(".js-headroom"),d=a(".js-curriculum-headroom");if(u&&!r("#toolbar-administration")){n=u.offsetHeight;var h=new(o())(u,{offset:n,tolerance:{up:10,down:0},scroller:r("#midd-journey-overlay")||window});document.body.style.paddingTop=n+"px",h.init(),window.location.hash&&!r("#midd-journey-overlay")&&setTimeout(function(){h.unpin()},1e3),d.length>0&&d.forEach(function(t){new(o())(t,{offset:n,tolerance:{up:10,down:0}}).init()})}function p(t,e){void 0===e&&(e=window);var n=0,i=!1,o=function(e){t(n,e),i=!1},r=function(t){n=t.target.scrollTop||window.pageYOffset,i||(window.requestAnimationFrame(o),i=!0)};return e.addEventListener("scroll",r),{destroy:function(){e.removeEventListener("scroll",r)}}}const f="undefined"!=typeof window,m=f?window:null,g=f?document:null,v={replace:0,none:1,blend:2},b=Symbol(),y=Symbol(),_=Symbol(),w=Symbol(),T=(Symbol(),Symbol()),k=1e-11,E=1e12,C=1e3,A="",L=new Map;L.set("x","translateX"),L.set("y","translateY"),L.set("z","translateZ");const x=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],S=x.reduce((t,e)=>({...t,[e]:e+"("}),{}),N=()=>{},j=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,M=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,O=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,I=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,P=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,D=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,B=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,R=/([a-z])([A-Z])/g,F=/(\w+)(\([^)]+\)+)/g,H={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:120,loop:0,reversed:!1,alternate:!1,autoplay:!0,duration:C,delay:0,loopDelay:0,ease:"out(2)",composition:v.replace,modifier:t=>t,onBegin:N,onBeforeUpdate:N,onUpdate:N,onLoop:N,onPause:N,onComplete:N,onRender:N},q={defaults:H,root:g,scope:null,precision:4,timeScale:1,tickThreshold:200},U={version:"4.0.2",engine:null};f&&(m.AnimeJS||(m.AnimeJS=[]),m.AnimeJS.push(U));const W=(t,e)=>0===t.indexOf(e),$=Date.now,z=Array.isArray,V=t=>t&&t.constructor===Object,Y=t=>"number"==typeof t&&!isNaN(t),K=t=>"string"==typeof t,X=t=>"function"==typeof t,G=t=>void 0===t,Z=t=>G(t)||null===t,J=t=>f&&t instanceof SVGElement,Q=t=>j.test(t),tt=t=>W(t,"rgb"),et=t=>W(t,"hsl"),nt=t=>!q.defaults.hasOwnProperty(t),it=t=>K(t)?parseFloat(t):t,ot=Math.pow,rt=Math.sqrt,st=Math.sin,at=Math.cos,lt=Math.abs,ct=(Math.exp,Math.ceil),ut=Math.floor,dt=Math.asin,ht=(Math.max,Math.atan2,Math.PI),pt=Math.round,ft=(t,e,n)=>t<e?e:t>n?n:t,mt={},gt=(t,e)=>{if(e<0)return t;if(!e)return pt(t);let n=mt[e];return n||(n=mt[e]=10**e),pt(t*n)/n},vt=(t,e,n)=>t+(e-t)*n,bt=t=>t===1/0?E:t===-1/0?-1e12:t,yt=t=>t<=k?k:bt(gt(t,11)),_t=t=>z(t)?[...t]:t,wt=(t,e,n,i="_prev",o="_next")=>{let r=t._head,s=o;for(n&&(r=t._tail,s=i);r;){const t=r[s];e(r),r=t}},Tt=(t,e,n="_prev",i="_next")=>{const o=e[n],r=e[i];o?o[i]=r:t._head=r,r?r[n]=o:t._tail=o,e[n]=null,e[i]=null},kt=(t,e,n,i="_prev",o="_next")=>{let r=t._tail;for(;r&&n&&n(r,e);)r=r[i];const s=r?r[o]:t._head;r?r[o]=e:t._head=e,s?s[i]=e:t._tail=e,e[i]=r,e[o]=s};class Et{constructor(t=0){this.deltaTime=0,this._currentTime=t,this._elapsedTime=t,this._startTime=t,this._lastTime=t,this._scheduledTime=0,this._frameDuration=gt(C/120,0),this._fps=120,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(t){const e=this._frameDuration,n=+t,i=n<k?k:n,o=gt(C/i,0);this._fps=i,this._frameDuration=o,this._scheduledTime+=o-e}get speed(){return this._speed}set speed(t){const e=+t;this._speed=e<k?k:e}requestTick(t){const e=this._scheduledTime,n=this._elapsedTime;if(this._elapsedTime+=t-n,n<e)return 0;const i=this._frameDuration,o=n-e;return this._scheduledTime+=o<i?i:o,1}computeDeltaTime(t){const e=t-this._lastTime;return this.deltaTime=e,this._lastTime=t,e}}const Ct=(t,e,n,i,o)=>{const r=t.parent,s=t.duration,a=t.completed,l=t.iterationDuration,c=t.iterationCount,u=t._currentIteration,d=t._loopDelay,h=t._reversed,p=t._alternate,f=t._hasChildren,m=t._delay,g=t._currentTime,b=m+l,y=e-m,_=ft(g,-m,s),T=ft(y,-m,s),E=y-g,C=T>0,L=T>=s,x=s<=k,N=2===o;let j=0,M=y,O=0;if(c>1){const e=~~(T/(l+(L?0:d)));t._currentIteration=ft(e,0,c),L&&t._currentIteration--,j=t._currentIteration%2,M=T%(l+d)||0}const I=h^(p&&j),P=t._ease;let D=L?I?0:s:I?l-M:M;P&&(D=l*P(D/l)||0);const B=(r?r.backwards:y<g)?!I:!!I;if(t._currentTime=y,t._iterationTime=D,t.backwards=B,C&&!t.began?(t.began=!0,n||r&&(B||!r.began)||t.onBegin(t)):y<=0&&(t.began=!1),n||f||!C||t._currentIteration===u||t.onLoop(t),N||1===o&&(e>=m&&e<=b||e<=m&&_>m||e>=b&&_!==s)||D>=b&&_!==s||D<=m&&_>0||e<=_&&_===s&&a||L&&!a&&x){if(C&&(t.computeDeltaTime(_),n||t.onBeforeUpdate(t)),!f){const e=N||(B?-1*E:E)>=q.tickThreshold,o=t._offset+(r?r._offset:0)+m+D;let s,a,l,c,u=t._head,d=0;for(;u;){const t=u._composition,n=u._currentTime,r=u._changeDuration,h=u._absoluteStartTime+u._changeDuration,p=u._nextRep,f=u._prevRep,m=t!==v.none;if((e||(n!==r||o<=h+(p?p._delay:0))&&(0!==n||o>=u._absoluteStartTime))&&(!m||!u._isOverridden&&(!u._isOverlapped||o<=h)&&(!p||p._isOverridden||o<=p._absoluteStartTime)&&(!f||f._isOverridden||o>=f._absoluteStartTime+f._changeDuration+u._delay))){const e=u._currentTime=ft(D-u._startTime,0,r),n=u._ease(e/u._updateDuration),o=u._modifier,h=u._valueType,p=u._tweenType,f=0===p,g=0===h,b=g&&f||0===n||1===n?-1:q.precision;let y,_;if(g)y=_=o(gt(vt(u._fromNumber,u._toNumber,n),b));else if(1===h)_=o(gt(vt(u._fromNumber,u._toNumber,n),b)),y=`${_}${u._unit}`;else if(2===h){const t=u._fromNumbers,e=u._toNumbers,i=gt(ft(o(vt(t[0],e[0],n)),0,255),0),r=gt(ft(o(vt(t[1],e[1],n)),0,255),0),s=gt(ft(o(vt(t[2],e[2],n)),0,255),0),a=ft(o(gt(vt(t[3],e[3],n),b)),0,1);if(y=`rgba(${i},${r},${s},${a})`,m){const t=u._numbers;t[0]=i,t[1]=r,t[2]=s,t[3]=a}}else if(3===h){y=u._strings[0];for(let t=0,e=u._toNumbers.length;t<e;t++){const e=o(gt(vt(u._fromNumbers[t],u._toNumbers[t],n),b)),i=u._strings[t+1];y+=`${i?e+i:e}`,m&&(u._numbers[t]=e)}}if(m&&(u._number=_),i||t===v.blend)u._value=y;else{const t=u.property;s=u.target,f?s[t]=y:1===p?s.setAttribute(t,y):(a=s.style,3===p?(s!==l&&(l=s,c=s[w]),c[t]=y,d=1):2===p?a[t]=y:4===p&&a.setProperty(t,y)),C&&(O=1)}}if(d&&u._renderTransforms){let t=A;for(let e in c)t+=`${S[e]}${c[e]}) `;a.transform=t,d=0}u=u._next}!n&&O&&t.onRender(t)}!n&&C&&t.onUpdate(t)}return r&&x?!n&&(r.began&&!B&&y>=s&&!a||B&&y<=k&&a)&&(t.onComplete(t),t.completed=!B):C&&L?c===1/0?t._startTime+=t.duration:t._currentIteration>=c-1&&(t.paused=!0,a||f||(t.completed=!0,n||r&&(B||!r.began)||(t.onComplete(t),t._resolve(t)))):t.completed=!1,O},At=(t,e,n,i,o)=>{const r=t._currentIteration;if(Ct(t,e,n,i,o),t._hasChildren){const s=t,a=s.backwards,l=i?e:s._iterationTime,c=$();let u=0,d=!0;if(!i&&s._currentIteration!==r){const t=s.iterationDuration;wt(s,e=>{if(a){const i=e.duration,o=e._offset+e._delay;n||!(i<=k)||o&&o+i!==t||e.onComplete(e)}else!e.completed&&!e.backwards&&e._currentTime<e.iterationDuration&&Ct(e,t,n,1,2),e.began=!1,e.completed=!1}),n||s.onLoop(s)}wt(s,t=>{const e=gt((l-t._offset)*t._speed,12),r=t._fps<s._fps?t.requestTick(c):o;u+=Ct(t,e,n,i,r),!t.completed&&d&&(d=!1)},a),!n&&u&&s.onRender(s),d&&s._currentTime>=s.duration&&(s.paused=!0,s.completed||(s.completed=!0,n||(s.onComplete(s),s._resolve(s))))}},Lt={animation:null,update:N},xt=f?requestAnimationFrame:setImmediate,St=f?cancelAnimationFrame:clearImmediate;class Nt extends Et{constructor(t){super(t),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=H,this.paused=!(!f||!g.hidden),this.reqId=null}update(){const t=this._currentTime=$();if(this.requestTick(t)){this.computeDeltaTime(t);const e=this._speed,n=this._fps;let i=this._head;for(;i;){const o=i._next;i.paused?(Tt(this,i),this._hasChildren=!!this._tail,i._running=!1,i.completed&&!i._cancelled&&i.cancel()):At(i,(t-i._startTime)*i._speed*e,0,0,i._fps<n?i.requestTick(t):1),i=o}Lt.update()}}wake(){return!this.useDefaultMainLoop||this.reqId||this.paused||(this.reqId=xt(Mt)),this}pause(){return this.paused=!0,Ot()}resume(){if(this.paused)return this.paused=!1,wt(this,t=>t.resetTime()),this.wake()}get speed(){return this._speed*(1===q.timeScale?1:C)}set speed(t){this._speed=t*q.timeScale,wt(this,t=>t.speed=t._speed)}get timeUnit(){return 1===q.timeScale?"ms":"s"}set timeUnit(t){const e="s"===t,n=e?.001:1;if(q.timeScale!==n){q.timeScale=n,q.tickThreshold=200*n;const t=e?.001:C;this.defaults.duration*=t,this._speed*=t}}get precision(){return q.precision}set precision(t){q.precision=t}}const jt=(()=>{const t=new Nt($());return f&&(U.engine=t,g.addEventListener("visibilitychange",()=>{t.pauseOnDocumentHidden&&(g.hidden?t.pause():t.resume())})),t})(),Mt=()=>{jt._head?(jt.reqId=xt(Mt),jt.update()):jt.reqId=0},Ot=()=>(St(jt.reqId),jt.reqId=0,jt);function It(t){const e=K(t)?q.root.querySelectorAll(t):t;if(e instanceof NodeList||e instanceof HTMLCollection)return e}function Pt(t){if(Z(t))return[];if(z(t)){const e=t.flat(1/0),n=[];for(let t=0,i=e.length;t<i;t++){const i=e[t];if(!Z(i)){const t=It(i);if(t)for(let e=0,i=t.length;e<i;e++){const i=t[e];if(!Z(i)){let t=!1;for(let e=0,o=n.length;e<o;e++)if(n[e]===i){t=!0;break}t||n.push(i)}}else{let t=!1;for(let e=0,o=n.length;e<o;e++)if(n[e]===i){t=!0;break}t||n.push(i)}}}return n}if(!f)return[t];const e=It(t);return e?Array.from(e):[t]}function Dt(t){const e=Pt(t),n=e.length;if(n)for(let t=0;t<n;t++){const n=e[t];if(!n[b]){n[b]=!0;const t=J(n);(n.nodeType||t)&&(n[y]=!0,n[_]=t,n[w]={})}}return e}const Bt=["opacity","rotate","overflow","color"],Rt=(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),Ft=(t,e)=>G(t)?e:t,Ht=(t,e,n,i,o)=>{if(X(t)){const r=()=>{const o=t(e,n,i);return isNaN(+o)?o||0:+o};return o&&(o.func=r),r()}return t},qt=(t,e)=>t[y]?t[_]&&((t,e)=>{if(Bt.includes(e))return!1;if(t.getAttribute(e)||e in t){if("scale"===e){const e=t.parentNode;return e&&"filter"===e.tagName}return!0}})(t,e)?1:x.includes(e)||L.get(e)?3:W(e,"--")?4:e in t.style?2:e in t?0:1:0,Ut=(t,e,n)=>{const i=t.style[e];i&&n&&(n[e]=i);const o=i||getComputedStyle(t[T]||t).getPropertyValue(e);return"auto"===o?"0":o},Wt=(t,e,n,i)=>{const o=G(n)?qt(t,e):n;return 0===o?t[e]||0:1===o?t.getAttribute(e):3===o?((t,e,n)=>{const i=t.style.transform;let o;if(i){const r=t[w];let s;for(;s=F.exec(i);){const t=s[1],i=s[2].slice(1,-1);r[t]=i,t===e&&(o=i,n&&(n[e]=i))}}return i&&!G(o)?o:W(e,"scale")?"1":W(e,"rotate")||W(e,"skew")?"0deg":"0px"})(t,e,i):4===o?Ut(t,e,i).trimStart():Ut(t,e,i)},$t=(t,e,n)=>"-"===n?t-e:"+"===n?t+e:t*e,zt=(t,e)=>{if(e.t=0,e.n=0,e.u=null,e.o=null,e.d=null,e.s=null,!t)return e;const n=+t;if(isNaN(n)){let n=t;"="===n[1]&&(e.o=n[0],n=n.slice(2));const o=!n.includes(" ")&&B.exec(n);if(o)return e.t=1,e.n=+o[1],e.u=o[2],e;if(e.o)return e.n=+n,e;if((t=>Q(t)||tt(t)||et(t))(n))return e.t=2,e.d=tt(i=n)?(t=>{const e=M.exec(t)||O.exec(t),n=G(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],n]})(i):Q(i)?(t=>{const e=t.length,n=4===e||5===e;return[+("0x"+t[1]+t[n?1:2]),+("0x"+t[n?2:3]+t[n?2:4]),+("0x"+t[n?3:5]+t[n?3:6]),5===e||9===e?+(+("0x"+t[n?4:7]+t[n?4:8])/255).toFixed(3):1]})(i):et(i)?(t=>{const e=I.exec(t)||P.exec(t),n=+e[1]/360,i=+e[2]/100,o=+e[3]/100,r=G(e[4])?1:+e[4];let s,a,l;if(0===i)s=a=l=o;else{const t=o<.5?o*(1+i):o+i-o*i,e=2*o-t;s=gt(255*Rt(e,t,n+1/3),0),a=gt(255*Rt(e,t,n),0),l=gt(255*Rt(e,t,n-1/3),0)}return[s,a,l,r]})(i):[0,0,0,1],e;{const t=n.match(D);return e.t=3,e.d=t?t.map(Number):[],e.s=n.split(D)||[],e}}var i;return e.n=n,e},Vt=(t,e)=>(e.t=t._valueType,e.n=t._toNumber,e.u=t._unit,e.o=null,e.d=_t(t._toNumbers),e.s=_t(t._strings),e),Yt={t:0,n:0,u:null,o:null,d:null,s:null},Kt={_rep:new WeakMap,_add:new Map},Xt=(t,e,n="_rep")=>{const i=Kt[n];let o=i.get(t);return o||(o={},i.set(t,o)),o[e]?o[e]:o[e]={_head:null,_tail:null}},Gt=(t,e)=>t._isOverridden||t._absoluteStartTime>e._absoluteStartTime,Zt=t=>{t._isOverlapped=1,t._isOverridden=1,t._changeDuration=k,t._currentTime=k},Jt=(t,e)=>{const n=t._composition;if(n===v.replace){const n=t._absoluteStartTime;kt(e,t,Gt,"_prevRep","_nextRep");const i=t._prevRep;if(i){const e=i.parent,o=i._absoluteStartTime+i._changeDuration;if(t.parent.id!==e.id&&e.iterationCount>1&&o+(e.duration-e.iterationDuration)>n){Zt(i);let t=i._prevRep;for(;t&&t.parent.id===e.id;)Zt(t),t=t._prevRep}const r=n-t._delay;if(o>r){const t=i._startTime,e=o-(t+i._updateDuration);i._changeDuration=r-e-t,i._currentTime=i._changeDuration,i._isOverlapped=1,i._changeDuration<k&&Zt(i)}let s=!0;if(wt(e,t=>{t._isOverlapped||(s=!1)}),s){const t=e.parent;if(t){let n=!0;wt(t,t=>{t!==e&&wt(t,t=>{t._isOverlapped||(n=!1)})}),n&&t.cancel()}else e.cancel()}}}else if(n===v.blend){const e=Xt(t.target,t.property,"_add"),n=(t=>{let e=Lt.animation;return e||(e={duration:k,computeDeltaTime:N,_offset:0,_delay:0,_head:null,_tail:null},Lt.animation=e,Lt.update=()=>{t.forEach(t=>{for(let e in t){const n=t[e],i=n._head;if(i){const t=i._valueType,e=3===t||2===t?_t(i._fromNumbers):null;let o=i._fromNumber,r=n._tail;for(;r&&r!==i;){if(e)for(let t=0,n=r._numbers.length;t<n;t++)e[t]+=r._numbers[t];else o+=r._number;r=r._prevAdd}i._toNumber=o,i._toNumbers=e}}}),Ct(e,1,1,0,2)}),e})(Kt._add);let i=e._head;i||(i={...t},i._composition=v.replace,i._updateDuration=k,i._startTime=0,i._numbers=_t(t._fromNumbers),i._number=0,i._next=null,i._prev=null,kt(e,i),kt(n,i));const o=t._toNumber;if(t._fromNumber=i._fromNumber-o,t._toNumber=0,t._numbers=_t(t._fromNumbers),t._number=0,i._fromNumber=o,t._toNumbers){const e=_t(t._toNumbers);e&&e.forEach((e,n)=>{t._fromNumbers[n]=i._fromNumbers[n]-e,t._toNumbers[n]=0}),i._fromNumbers=e}kt(e,t,null,"_prevAdd","_nextAdd")}return t},Qt=t=>{const e=t._composition;if(e!==v.none){const n=t.target,i=t.property,o=Kt._rep.get(n)[i];if(Tt(o,t,"_prevRep","_nextRep"),e===v.blend){const e=Kt._add,o=e.get(n);if(!o)return;const r=o[i],s=Lt.animation;Tt(r,t,"_prevAdd","_nextAdd");const a=r._head;if(a&&a===r._tail){Tt(r,a,"_prevAdd","_nextAdd"),Tt(s,a);let t=!0;for(let e in o)if(o[e]._head){t=!1;break}t&&e.delete(n)}}}return t},te=t=>(t.paused=!0,t.began=!1,t.completed=!1,t),ee=t=>t._cancelled?(t._hasChildren?wt(t,ee):wt(t,t=>{t._composition!==v.none&&Jt(t,Xt(t.target,t.property))}),t._cancelled=0,t):t;let ne=0;class ie extends Et{constructor(t={},e=null,n=0){super(0);const{id:i,delay:o,duration:r,reversed:s,alternate:a,loop:l,loopDelay:c,autoplay:u,frameRate:d,playbackRate:h,onComplete:p,onLoop:f,onPause:m,onBegin:g,onBeforeUpdate:v,onUpdate:b}=t;q.scope&&q.scope.revertibles.push(this);const y=e?0:jt._elapsedTime,_=e?e.defaults:q.defaults,w=X(o)||G(o)?_.delay:+o,T=X(r)||G(r)?1/0:+r,E=Ft(l,_.loop),C=Ft(c,_.loopDelay),A=!0===E||E===1/0||E<0?1/0:E+1;let L=0;if(e)L=n;else{let t=$();jt.paused&&(jt.requestTick(t),t=jt._elapsedTime),L=t-jt._startTime}this.id=G(i)?++ne:i,this.parent=e,this.duration=bt((T+C)*A-C)||k,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=g||_.onBegin,this.onBeforeUpdate=v||_.onBeforeUpdate,this.onUpdate=b||_.onUpdate,this.onLoop=f||_.onLoop,this.onPause=m||_.onPause,this.onComplete=p||_.onComplete,this.iterationDuration=T,this.iterationCount=A,this._autoplay=!e&&Ft(u,_.autoplay),this._offset=L,this._delay=w,this._loopDelay=C,this._iterationTime=0,this._currentIteration=0,this._resolve=N,this._running=!1,this._reversed=+Ft(s,_.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=Ft(a,_.alternate),this._prev=null,this._next=null,this._elapsedTime=y,this._startTime=y,this._lastTime=y,this._fps=Ft(d,_.frameRate),this._speed=Ft(h,_.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(t){t?this.cancel():this.reset(1).play()}get currentTime(){return ft(gt(this._currentTime,q.precision),-this._delay,this.duration)}set currentTime(t){const e=this.paused;this.pause().seek(+t),e||this.resume()}get iterationCurrentTime(){return gt(this._iterationTime,q.precision)}set iterationCurrentTime(t){this.currentTime=this.iterationDuration*this._currentIteration+t}get progress(){return ft(gt(this._currentTime/this.duration,5),0,1)}set progress(t){this.currentTime=this.duration*t}get iterationProgress(){return ft(gt(this._iterationTime/this.iterationDuration,5),0,1)}set iterationProgress(t){const e=this.iterationDuration;this.currentTime=e*this._currentIteration+e*t}get currentIteration(){return this._currentIteration}set currentIteration(t){this.currentTime=this.iterationDuration*ft(+t,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(t){t?this.reverse():this.play()}get speed(){return super.speed}set speed(t){super.speed=t,this.resetTime()}reset(t=0){return ee(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,At(this,0,1,t,2),te(this),this._hasChildren&&wt(this,te),this}init(t=0){this.fps=this._fps,this.speed=this._speed,!t&&this._hasChildren&&At(this,this.duration,1,t,2),this.reset(t);const e=this._autoplay;return!0===e?this.resume():e&&!G(e.linked)&&e.link(this),this}resetTime(){const t=1/(this._speed*jt._speed);return this._startTime=$()-(this._currentTime+this._delay)*t,this}pause(){return this.paused||(this.paused=!0,this.onPause(this)),this}resume(){return this.paused?(this.paused=!1,this.duration<=k&&!this._hasChildren?At(this,k,0,0,2):(this._running||(kt(jt,this),jt._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,jt.wake()),this):this}restart(){return this.reset(0).resume()}seek(t,e=0,n=0){ee(this),this.completed=!1;const i=this.paused;return this.paused=!0,At(this,t+this._delay,~~e,~~n,1),i?this:this.resume()}alternate(){const t=this._reversed,e=this.iterationCount,n=this.iterationDuration,i=e===1/0?ut(E/n):e;return this._reversed=+(!this._alternate||i%2?!t:t),e===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(n*i-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?wt(this,t=>t.cancel(),!0):wt(this,Qt),this._cancelled=1,this.pause()}stretch(t){const e=this.duration,n=yt(t);if(e===n)return this;const i=t/e,o=t<=k;return this.duration=o?k:n,this.iterationDuration=o?k:yt(this.iterationDuration*i),this._offset*=i,this._delay*=i,this._loopDelay*=i,this}revert(){At(this,0,1,0,1);const t=this._autoplay;return t&&t.linked&&t.linked===this&&t.revert(),this.cancel()}complete(){return this.seek(this.duration).cancel()}then(t=N){const e=this.then,n=()=>{this.then=null,t(this),this.then=e,this._resolve=N};return new Promise(t=>(this._resolve=()=>t(n()),this.completed&&this._resolve(),this))}}const oe=t=>t,re=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,se=(t=.5,e=0,n=.5,i=1)=>t===e&&n===i?oe:o=>0===o||1===o?o:re(((t,e,n)=>{let i,o,r=0,s=1,a=0;do{o=r+(s-r)/2,i=re(o,e,n)-t,i>0?s=o:r=o}while(lt(i)>1e-7&&++a<100);return o})(o,t,n),e,i),ae=(t=10,e)=>{const n=e?ct:ut;return e=>n(ft(e,0,1)*t)*(1/t)},le=(...t)=>{const e=t.length;if(!e)return oe;const n=e-1,i=t[0],o=t[n],r=[0],s=[it(i)];for(let e=1;e<n;e++){const i=t[e],o=K(i)?i.trim().split(" "):[i],a=o[0],l=o[1];r.push(G(l)?e/n:it(l)/100),s.push(it(a))}return s.push(it(o)),r.push(1),function(t){for(let e=1,n=r.length;e<n;e++){const n=r[e];if(t<=n){const i=r[e-1],o=s[e-1];return o+(s[e]-o)*(t-i)/(n-i)}}return s[s.length-1]}},ce=(t=10,e=1)=>{const n=[0],i=t-1;for(let t=1;t<i;t++){const o=n[t-1],r=t/i,s=r*(1-e)+(r+((t+1)/i-r)*Math.random())*e;n.push(ft(s,o,1))}return n.push(1),le(...n)},ue=ht/2,de=2*ht,he=(t=1.68)=>e=>ot(e,+t),pe={[A]:he,Quad:he(2),Cubic:he(3),Quart:he(4),Quint:he(5),Sine:t=>1-at(t*ue),Circ:t=>1-rt(1-t*t),Expo:t=>t?ot(2,10*t-10):0,Bounce:t=>{let e,n=4;for(;t<((e=ot(2,--n))-1)/11;);return 1/ot(4,3-n)-7.5625*ot((3*e-2)/22-t,2)},Back:(t=1.70158)=>e=>(+t+1)*e*e*e-+t*e*e,Elastic:(t=1,e=.3)=>{const n=ft(+t,1,10),i=ft(+e,k,2),o=i/de*dt(1/n),r=de/i;return t=>0===t||1===t?t:-n*ot(2,-10*(1-t))*st((1-t-o)*r)}},fe={in:t=>e=>t(e),out:t=>e=>1-t(1-e),inOut:t=>e=>e<.5?t(2*e)/2:1-t(-2*e+2)/2,outIn:t=>e=>e<.5?(1-t(1-2*e))/2:(t(2*e-1)+1)/2},me=(()=>{const t={linear:le,irregular:ce,steps:ae,cubicBezier:se};for(let e in fe)for(let n in pe){const i=pe[n],o=fe[e];t[e+n]=n===A||"Back"===n||"Elastic"===n?(t,e)=>o(i(t,e)):o(i)}return t})(),ge={linear:oe},ve=t=>X(t)?t:K(t)?((t,e,n)=>{if(n[t])return n[t];if(t.indexOf("(")<=-1){const i=fe[t]||t.includes("Back")||t.includes("Elastic")?e[t]():e[t];return i?n[t]=i:oe}{const i=t.slice(0,-1).split("("),o=e[i[0]];return o?n[t]=o(...i[1].split(",")):oe}})(t,me,ge):oe,be={},ye=(t,e,n)=>{if(3===n){return L.get(t)||t}if(2===n||1===n&&J(e)&&t in e.style){const e=be[t];if(e)return e;{const e=t?t.replace(R,"$1-$2").toLowerCase():t;return be[t]=e,e}}return t},_e={deg:1,rad:180/ht,turn:360},we={},Te=(t,e,n,i=!1)=>{const o=e.u,r=e.n;if(1===e.t&&o===n)return e;const s=r+o+n,a=we[s];if(G(a)||i){let i;if(o in _e)i=r*_e[o]/_e[n];else{const e=100,s=t.cloneNode(),a=t.parentNode,l=a&&a!==g?a:g.body;l.appendChild(s);const c=s.style;c.width=e+o;const u=s.offsetWidth||e;c.width=e+n;const d=u/(s.offsetWidth||e);l.removeChild(s),i=d*r}e.n=i,we[s]=i}else e.n=a;return e.t,e.u=n,e},ke=t=>{if(t._hasChildren)wt(t,ke,!0);else{const e=t;e.pause(),wt(e,t=>{const n=t.property,i=t.target;if(i[y]){const o=i.style,r=e._inlineStyles[n];if(3===t._tweenType){const e=i[w];if(G(r)||r===A?delete e[n]:e[n]=r,t._renderTransforms)if(Object.keys(e).length){let t=A;for(let n in e)t+=S[n]+e[n]+") ";o.transform=t}else o.removeProperty("transform")}else G(r)||r===A?o.removeProperty(n):o[n]=r;e._tail===t&&e.targets.forEach(t=>{t.getAttribute&&t.getAttribute("style")===A&&t.removeAttribute("style")})}})}return t},Ee={t:0,n:0,u:null,o:null,d:null,s:null},Ce={t:0,n:0,u:null,o:null,d:null,s:null},Ae={func:null},Le=[null],xe=[null,null],Se={to:null};let Ne,je,Me=0;class Oe extends ie{constructor(t,e,n,i,o=!1,r=0,s=0){super(e,n,i);const a=Dt(t),l=a.length,c=e.keyframes,u=c?((t,e)=>{const n={...t};for(let i in e){const o=t[i];n[i]=G(o)?e[i]:o}return n})(((t,e)=>{const n={};if(z(t)){const e=[].concat(...t.map(t=>Object.keys(t))).filter(nt);for(let i=0,o=e.length;i<o;i++){const o=e[i],r=t.map(t=>{const e={};for(let n in t){const i=t[n];nt(n)?n===o&&(e.to=i):e[n]=i}return e});n[o]=r}}else{const i=Ft(e.duration,q.defaults.duration),o=Object.keys(t).map(e=>({o:parseFloat(e)/100,p:t[e]})).sort((t,e)=>t.o-e.o);o.forEach(t=>{const e=t.o,o=t.p;for(let t in o)if(nt(t)){let r=n[t];r||(r=n[t]=[]);const s=e*i;let a=r.length,l=r[a-1];const c={to:o[t]};let u=0;for(let t=0;t<a;t++)u+=r[t].duration;1===a&&(c.from=l.to),o.ease&&(c.ease=o.ease),c.duration=s-(a?u:0),r.push(c)}return t});for(let t in n){const e=n[t];let i;for(let t=0,n=e.length;t<n;t++){const n=e[t],o=n.ease;n.ease=i||void 0,i=o}e[0].duration||e.shift()}}return n})(c,e),e):e,{delay:d,duration:h,ease:p,playbackEase:f,modifier:m,composition:g,onRender:b}=u,y=n?n.defaults:q.defaults,_=Ft(f,y.playbackEase),w=_?ve(_):null,T=!G(p)&&!G(p.ease),E=T?p.ease:Ft(p,w?"linear":y.ease),A=T?p.duration:Ft(h,y.duration),L=Ft(d,y.delay),x=m||y.modifier,S=G(g)&&l>=C?v.none:G(g)?y.composition:g,N={},j=this._offset+(n?n._offset:0);let M=NaN,O=NaN,I=0,P=0;for(let t=0;t<l;t++){const e=a[t],i=r||t,c=s||l;let d=NaN,h=NaN;for(let t in u)if(nt(t)){const r=qt(e,t),s=ye(t,e,r);let a=u[t];const l=z(a);if(o&&!l&&(xe[0]=a,xe[1]=a,a=xe),l){const t=a.length,e=!V(a[0]);2===t&&e?(Se.to=a,Le[0]=Se,Ne=Le):t>2&&e?(Ne=[],a.forEach((t,e)=>{e?1===e?(xe[1]=t,Ne.push(xe)):Ne.push(t):xe[0]=t})):Ne=a}else Le[0]=a,Ne=Le;let p=null,f=null,m=NaN,g=0,b=0;for(let t=Ne.length;b<t;b++){const o=Ne[b];V(o)?je=o:(Se.to=o,je=Se),Ae.func=null;const a=Ht(je.to,e,i,c,Ae);let l;V(a)&&!G(a.to)?(je=a,l=a.to):l=a;const u=Ht(je.from,e,i,c),d=je.ease,h=!G(d)&&!G(d.ease),y=h?d.ease:d||E,_=h?d.duration:Ht(Ft(je.duration,t>1?Ht(A,e,i,c)/t:A),e,i,c),w=Ht(Ft(je.delay,b?0:L),e,i,c),T=Ht(Ft(je.composition,S),e,i,c),C=Y(T)?T:v[T],M=je.modifier||x,O=!G(u),D=!G(l),B=z(l),R=B||O&&D,F=f?g+w:w,H=j+F;P||!O&&!B||(P=1);let q=f;if(C!==v.none){p||(p=Xt(e,s));let t=p._head;for(;t&&!t._isOverridden&&t._absoluteStartTime<=H;)if(q=t,t=t._nextRep,t&&t._absoluteStartTime>=H)for(;t;)Zt(t),t=t._nextRep}if(R?(zt(B?Ht(l[0],e,i,c):u,Ee),zt(B?Ht(l[1],e,i,c,Ae):l,Ce),0===Ee.t&&(q?1===q._valueType&&(Ee.t=1,Ee.u=q._unit):(zt(Wt(e,s,r,N),Yt),1===Yt.t&&(Ee.t=1,Ee.u=Yt.u)))):(D?zt(l,Ce):f?Vt(f,Ce):zt(n&&q&&q.parent.parent===n?q._value:Wt(e,s,r,N),Ce),O?zt(u,Ee):f?Vt(f,Ee):zt(n&&q&&q.parent.parent===n?q._value:Wt(e,s,r,N),Ee)),Ee.o&&(Ee.n=$t(q?q._toNumber:zt(Wt(e,s,r,N),Yt).n,Ee.n,Ee.o)),Ce.o&&(Ce.n=$t(Ee.n,Ce.n,Ce.o)),Ee.t!==Ce.t)if(3===Ee.t||3===Ce.t){const t=3===Ee.t?Ee:Ce,e=3===Ee.t?Ce:Ee;e.t=3,e.s=_t(t.s),e.d=t.d.map(()=>e.n)}else if(1===Ee.t||1===Ce.t){const t=1===Ee.t?Ee:Ce,e=1===Ee.t?Ce:Ee;e.t=1,e.u=t.u}else if(2===Ee.t||2===Ce.t){const t=2===Ee.t?Ee:Ce,e=2===Ee.t?Ce:Ee;e.t=2,e.s=t.s,e.d=[0,0,0,1]}if(Ee.u!==Ce.u){let t=Ce.u?Ee:Ce;t=Te(e,t,Ce.u?Ce.u:Ee.u,!1)}if(Ce.d&&Ee.d&&Ce.d.length!==Ee.d.length){const t=Ee.d.length>Ce.d.length?Ee:Ce,e=t===Ee?Ce:Ee;e.d=t.d.map((t,n)=>G(e.d[n])?0:e.d[n]),e.s=_t(t.s)}const U=gt(+_||k,12),W={parent:this,id:Me++,property:s,target:e,_value:null,_func:Ae.func,_ease:ve(y),_fromNumbers:_t(Ee.d),_toNumbers:_t(Ce.d),_strings:_t(Ce.s),_fromNumber:Ee.n,_toNumber:Ce.n,_numbers:_t(Ee.d),_number:Ee.n,_unit:Ce.u,_modifier:M,_currentTime:0,_startTime:F,_delay:+w,_updateDuration:U,_changeDuration:U,_absoluteStartTime:H,_tweenType:r,_valueType:Ce.t,_composition:C,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};C!==v.none&&Jt(W,p),isNaN(m)&&(m=W._startTime),g=gt(F+U,12),f=W,I++,kt(this,W)}(isNaN(O)||m<O)&&(O=m),(isNaN(M)||g>M)&&(M=g),3===r&&(d=I-b,h=I)}if(!isNaN(d)){let t=0;wt(this,e=>{t>=d&&t<h&&(e._renderTransforms=1,e._composition===v.blend&&wt(Lt.animation,t=>{t.id===e.id&&(t._renderTransforms=1)})),t++})}}l||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),O?(wt(this,t=>{t._startTime-t._delay||(t._delay-=O),t._startTime-=O}),M-=O):O=0,M||(M=k,this.iterationCount=0),this.targets=a,this.duration=M===k?k:bt((M+this._loopDelay)*this.iterationCount-this._loopDelay)||k,this.onRender=b||y.onRender,this._ease=w,this._delay=O,this.iterationDuration=M,this._inlineStyles=N,!this._autoplay&&P&&this.onRender(this)}stretch(t){const e=this.duration;if(e===yt(t))return this;const n=t/e;return wt(this,t=>{t._updateDuration=yt(t._updateDuration*n),t._changeDuration=yt(t._changeDuration*n),t._currentTime*=n,t._startTime*=n,t._absoluteStartTime*=n}),super.stretch(t)}refresh(){return wt(this,t=>{const e=Wt(t.target,t.property,t._tweenType);zt(e,Yt),t._fromNumbers=_t(Yt.d),t._fromNumber=Yt.n,t._func&&(zt(t._func(),Ce),t._toNumbers=_t(Ce.d),t._strings=_t(Ce.s),t._toNumber=Ce.n)}),this}revert(){return super.revert(),ke(this)}then(t){return super.then(t)}}const Ie=(t,e)=>new Oe(t,e,null,0,!1).init();x.filter(t=>["X","Y","Z"].some(e=>t.endsWith(e))),f&&(G(CSS)||Object.hasOwnProperty.call(CSS,"registerProperty"));const Pe={_head:null,_tail:null},De=(t,e,n)=>{let i=Pe._head;for(;i;){const o=i._next,r=i.$el===t,s=!e||i.property===e,a=!n||i.parent===n;if(r&&s&&a){const t=i.animation;try{t.commitStyles()}catch{}t.cancel(),Tt(Pe,i);const e=i.parent;e&&(e._completed++,e.animations.length===e._completed&&(e.completed=!0,e.muteCallbacks||(e.paused=!0,e.onComplete(e),e._resolve(e))))}i=o}};const Be=(t,e,n)=>{let i=!1;return wt(e,o=>{const r=o.target;if(t.includes(r)){const t=o.property,s=o._tweenType,a=ye(n,r,s);(!a||a&&a===t)&&(o.parent._tail===o&&3===o._tweenType&&o._prev&&3===o._prev._tweenType&&(o._prev._renderTransforms=1),Tt(e,o),Qt(o),i=!0)}},!0),i},Re=(t,e,n)=>{const i=Pt(t),o=e||jt,r=e&&e.controlAnimation&&e;for(let t=0,e=i.length;t<e;t++){const e=i[t];De(e,n,r)}let s;if(o._hasChildren){let e=0;wt(o,r=>{if(!r._hasChildren)if(s=Be(i,r,n),s&&!r._head)r.cancel(),Tt(o,r);else{const t=r._offset+r._delay+r.duration;t>e&&(e=t)}r._head?Re(t,r,n):r._hasChildren=!1},!0),G(o.iterationDuration)||(o.iterationDuration=e)}else s=Be(i,o,n);return s&&!o._head&&(o._hasChildren=!1,o.cancel&&o.cancel()),i},Fe=(t,e,n)=>{const i=10**(n||0);return ut((Math.random()*(e-t+1/i)+t)*i)/i},He=t=>(...e)=>{const n=t(...e);return new Proxy(N,{apply:(t,e,[i])=>n(i),get:(t,e)=>He((...t)=>{const i=Ue[e](...t);return t=>i(n(t))})})},qe=(t,e=0)=>(...n)=>(n.length<t.length?He(((t,e=0)=>(...n)=>e?e=>t(...n,e):e=>t(e,...n))(t,e)):t)(...n),Ue={$:Dt,get:function(t,e,n){const i=Dt(t);if(!i.length)return;const[o]=i,r=qt(o,e),s=ye(e,o,r);let a=Wt(o,s);if(G(n))return a;if(zt(a,Yt),0===Yt.t||1===Yt.t){if(!1===n)return Yt.n;{const t=Te(o,Yt,n,!1);return`${gt(t.n,q.precision)}${t.u}`}}},set:(t,e)=>{if(!G(e))return e.duration=k,e.composition=Ft(e.composition,v.none),new Oe(t,e,null,0,!0).resume()},remove:Re,cleanInlineStyles:ke,random:Fe,randomPick:t=>t[Fe(0,t.length-1)],shuffle:t=>{let e,n,i=t.length;for(;i;)n=Fe(0,--i),e=t[i],t[i]=t[n],t[n]=e;return t},lerp:(t,e,n,i)=>{let o=C/q.defaults.frameRate;if(!1!==i){const t=i||jt._hasChildren&&jt;t&&t.deltaTime&&(o=t.deltaTime)}const r=1-Math.exp(-n*o*.1);return n?1===n?e:(1-r)*t+r*e:t},sync:(t=N)=>new ie({duration:1*q.timeScale,onComplete:t},null,0).resume(),clamp:qe(ft),round:qe(gt),snap:qe((t,e)=>z(e)?e.reduce((e,n)=>lt(n-t)<lt(e-t)?n:e):e?pt(t/e)*e:t),wrap:qe((t,e,n)=>((t-e)%(n-e)+(n-e))%(n-e)+e),interpolate:qe(vt,1),mapRange:qe((t,e,n,i,o)=>i+(t-e)/(n-e)*(o-i)),roundPad:qe((t,e)=>(+t).toFixed(e)),padStart:qe((t,e,n)=>`${t}`.padStart(e,n)),padEnd:qe((t,e,n)=>`${t}`.padEnd(e,n)),degToRad:qe(t=>t*ht/180),radToDeg:qe(t=>180*t/ht)};new Map;var We=window.matchMedia("(prefers-reduced-motion: reduce)").matches,$e=function(){return $e=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},$e.apply(this,arguments)},ze={offset:0,ease:"cubicBezier(1,0,.7,1)",duration:300,replaceState:!1},Ve=function(){function t(t,e){var n=this;this.handleClick=function(t){t.preventDefault();var e=t.currentTarget.getAttribute("href");if(e){var i=r(e);i&&n.scrollTo(i,e)}};var i=$e($e({},ze),e),o=i.ease,s=i.duration,l=i.onBegin,c=i.onComplete;this.elems="string"==typeof t?a(t):t,this.options=i;var u=We?0:s;this.animeOptions={duration:u,ease:o,onBegin:l,onComplete:c},this.init()}return t.prototype.init=function(){this.addListeners()},t.prototype.addListeners=function(){var t=this;this.elems.forEach(function(e){return l(e,"click",t.handleClick)})},t.prototype.destroy=function(){var t=this;this.elems.forEach(function(e){return n=e,i=t.handleClick,n.removeEventListener("click",i);var n,i})},t.prototype.scrollTo=function(t,e){var n=this.options,i=n.offset,o=void 0===i?0:i,r=n.scrollTop,s=n.container,a=t.getBoundingClientRect().top,l=window.pageYOffset,c=[document.documentElement,document.body],u="function"==typeof o?o(t):o;s&&(c=s,l=s.scrollTop);var d="function"==typeof r?r(t,l):a+l-u,h=this.animeOptions,p=h.duration,f=h.ease,m=h.onBegin,g=h.onComplete;this.anime=Ie(c,{scrollTop:d,duration:p,ease:f,onBegin:m,onComplete:g}),this.options.replaceState&&window.history.replaceState(null,"",document.location.pathname+e)},t}();const Ye=Ve;function Ke(t,e){void 0===e&&(e=3),t.hidden=!0,new Ye([t]);var n=window.innerHeight*e;p(function(){window.pageYOffset>n?t.hidden=!1:t.hidden=!0})}var Xe=r(".js-to-top-btn"),Ge=r(".js-journey-to-top-btn");Xe&&Ke(Xe),Ge&&Ke(Ge,3.75);var Ze=function(){function t(t){var e=this;this.handleElemKeyDown=function(t){32===t.keyCode&&(t.preventDefault(),e.toggle())},this.elem=t,this.target=this.getTarget(this.elem),this.activeClass="is-toggled",this.enabledClass="has-toggler";var n=t.getAttribute("data-toggle-linked");this.linked=n?'[data-toggle-linked="'.concat(n,'"]'):null;var i=t.getAttribute("data-toggle-group");this.group=i?'[data-toggle-group="'.concat(i,'"]'):null,t.getAttribute("data-toggle-group-parent"),this.groupParent=i?r(".".concat(i)):null,this.toggleAllParent=r("[data-toggle-all-group]"),this.handleElemClick=this.handleElemClick.bind(this),this.focusTargetSelector=t.getAttribute("data-toggle-focus"),this.focusTargetSelector&&(this.focusTarget=r(this.focusTargetSelector)),this.init()}return t.prototype.init=function(){var t;this.target&&(this.addListeners(),this.elem.classList.add(this.enabledClass),this.target.classList.add(this.enabledClass),null===(t=this.groupParent)||void 0===t||t.classList.add(this.enabledClass))},t.prototype.destroy=function(){var t,e;this.elem.classList.remove(this.enabledClass),this.elem.classList.remove(this.activeClass),this.target.classList.remove(this.enabledClass),this.target.classList.remove(this.activeClass),null===(t=this.groupParent)||void 0===t||t.classList.remove(this.enabledClass),null===(e=this.groupParent)||void 0===e||e.classList.remove(this.activeClass),this.elem.removeEventListener("click",this.handleElemClick),this.elem.removeEventListener("keydown",this.handleElemKeyDown)},t.prototype.addListeners=function(){this.elem.addEventListener("click",this.handleElemClick),this.elem.addEventListener("keydown",this.handleElemKeyDown)},t.prototype.getTarget=function(t){var e=t.getAttribute("data-toggle-target");if(e)return r(e)},t.prototype.handleElemClick=function(t){t.preventDefault(),this.toggle()},t.prototype.closeGroup=function(){var t=this;if(this.group){var e=a(this.group);e&&e.forEach(function(e){var n=t.getTarget(e);t.close(e,n)})}},t.prototype.toggleLinked=function(){var t=this;if(this.linked){var e=a(this.linked);e&&e.forEach(function(e){var n=t.getTarget(e);if(t.isToggled(n))return t.close(e,n);t.open(e,n)})}},t.prototype.open=function(t,e){var n=this;this.groupParent&&this.groupParent.classList.add(this.activeClass),e&&e.classList.add(this.activeClass),t&&(t.classList.add(this.activeClass),this.setAriaExpanded(t,!0),this.focusTarget&&setTimeout(function(){var t,e=null===(t=n.focusTarget)||void 0===t?void 0:t.querySelector("input");null==e||e.focus()},100))},t.prototype.setAriaExpanded=function(t,e){t.hasAttribute("aria-expanded")&&t.setAttribute("aria-expanded",String(e))},t.prototype.close=function(t,e){this.groupParent&&this.groupParent.classList.remove(this.activeClass),e&&e.classList.remove(this.activeClass),t&&(t.classList.remove(this.activeClass),this.setAriaExpanded(t,!1),this.toggleAllParent&&this.isToggled(this.toggleAllParent)&&this.toggleAllParent.classList.remove(this.activeClass))},t.prototype.isToggled=function(t){return t.classList.contains(this.activeClass)},t.prototype.toggle=function(){if(!this.isToggled(this.target))return this.group&&this.closeGroup(),this.linked&&this.toggleLinked(),this.open(this.elem,this.target);this.close(this.elem,this.target)},t}();a("[data-toggle-target]").forEach(function(t){return new Ze(t)});var Je=function(){function t(t){this.elem=t,this.videoElement=r(".journey-section__video",this.elem),this.controls=r("[data-journey-video-trigger]",this.elem),this.playButton=r(".journey-video--button-play",this.elem),this.pauseButton=r(".journey-video--button-pause",this.elem),this.handleClick=this.handleClick.bind(this),this.init()}return t.prototype.init=function(){this.addListeners(),window.matchMedia("(max-width: 512px)").matches||We?(this.videoElement.autoplay=!1,this.controls.classList.add("not-playing"),this.controls.setAttribute("aria-hidden","true")):(this.controls.setAttribute("aria-hidden","false"),this.playButton.setAttribute("aria-hidden","true"),this.pauseButton.setAttribute("aria-hidden","false"))},t.prototype.addListeners=function(){this.controls.addEventListener("click",this.handleClick)},t.prototype.handleClick=function(t){this.controls.classList.toggle("not-playing"),this.controls.classList.contains("not-playing")?(this.videoElement.pause(),this.playButton.setAttribute("aria-hidden","false"),this.pauseButton.setAttribute("aria-hidden","true")):(this.videoElement.play(),this.playButton.setAttribute("aria-hidden","true"),this.pauseButton.setAttribute("aria-hidden","false"))},t}(),Qe=a(".journey-section");function tn(t){return function(t){if(Array.isArray(t))return en(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return en(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Qe.shift(),Qe.forEach(function(t){new Je(t)});var nn,on,rn,sn,an,ln=(nn=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],on=function(){function t(e){var n=e.targetModal,i=e.triggers,o=void 0===i?[]:i,r=e.onShow,s=void 0===r?function(){}:r,a=e.onClose,l=void 0===a?function(){}:a,c=e.openTrigger,u=void 0===c?"data-micromodal-trigger":c,d=e.closeTrigger,h=void 0===d?"data-micromodal-close":d,p=e.openClass,f=void 0===p?"is-open":p,m=e.disableScroll,g=void 0!==m&&m,v=e.disableFocus,b=void 0!==v&&v,y=e.awaitCloseAnimation,_=void 0!==y&&y,w=e.awaitOpenAnimation,T=void 0!==w&&w,k=e.debugMode,E=void 0!==k&&k;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal="string"==typeof n?document.getElementById(n):n,this.config={debugMode:E,disableScroll:g,openTrigger:u,closeTrigger:h,openClass:f,onShow:s,onClose:l,awaitCloseAnimation:_,awaitOpenAnimation:T,disableFocus:b},o.length>0&&this.registerTriggers.apply(this,tn(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e;return(e=[{key:"registerTriggers",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.filter(Boolean).forEach(function(e){e.addEventListener("click",function(e){return t.showModal(e)})})}},{key:"showModal",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",function e(){t.modal.removeEventListener("animationend",e,!1),t.setFocusToFirstNode()},!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,e)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",function t(){e.classList.remove(n),e.removeEventListener("animationend",t,!1)},!1)}else e.classList.remove(this.config.openClass)}},{key:"closeModalByIdOrElement",value:function(t){this.modal="string"==typeof t?document.getElementById(t):t,this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:""});break;case"disable":Object.assign(e.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){(t.target.hasAttribute(this.config.closeTrigger)||t.target.parentNode.hasAttribute(this.config.closeTrigger))&&(t.preventDefault(),t.stopPropagation(),this.closeModal(t))}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(nn);return Array.apply(void 0,tn(t))}},{key:"setFocusToFirstNode",value:function(){var t=this;if(!this.config.disableFocus){var e=this.getFocusableNodes();if(0!==e.length){var n=e.filter(function(e){return!e.hasAttribute(t.config.closeTrigger)});n.length>0&&n[0].focus(),0===n.length&&e[0].focus()}}}},{key:"retainFocus",value:function(t){var e=this.getFocusableNodes();if(0!==e.length)if(e=e.filter(function(t){return null!==t.offsetParent}),this.modal.contains(document.activeElement)){var n=e.indexOf(document.activeElement);t.shiftKey&&0===n&&(e[e.length-1].focus(),t.preventDefault()),!t.shiftKey&&e.length>0&&n===e.length-1&&(e[0].focus(),t.preventDefault())}else e[0].focus()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),rn=null,sn=function(t){if("string"==typeof id?!document.getElementById(t):!t)return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},an=function(t,e){if(function(t){t.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(t),!e)return!0;for(var n in e)sn(n);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),n=tn(document.querySelectorAll("[".concat(e.openTrigger,"]"))),i=function(t,e){var n=[];return t.forEach(function(t){var i=t.attributes[e].value;void 0===n[i]&&(n[i]=[]),n[i].push(t)}),n}(n,e.openTrigger);if(!0!==e.debugMode||!1!==an(n,i))for(var o in i){var r=i[o];e.targetModal=o,e.triggers=tn(r),rn=new on(e)}},show:function(t,e){var n=e||{};n.targetModal=t,!0===n.debugMode&&!1===sn(t)||(rn&&rn.removeEventListeners(),(rn=new on(n)).showModal())},close:function(t){t?rn.closeModalByIdOrElement(t):rn.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=ln);const cn=ln;var un=function(){function t(t){var e=this;this.handleKeyUp=function(t){32===t.keyCode&&(t.preventDefault(),e.showVideo())},this.handleVideoEmbedClick=function(t){t.preventDefault(),e.showVideo()},this.elem=t,this.originalContent=t,this.content=r(".js-video-content",t),this.link=r(".js-video-link",t),this.iframe=t.getAttribute("data-video"),this.activeClass="has-video",this.hideVideo=this.hideVideo.bind(this),this.init()}return t.prototype.init=function(){this.addListeners()},t.prototype.addListeners=function(){this.link&&(l(this.link,"click",this.handleVideoEmbedClick),l(this.link,"keydown",this.handleKeyUp))},t.prototype.hideVideo=function(){this.elem.classList.remove(this.activeClass),this.content&&(this.content.innerHTML=this.link.outerHTML),this.link=r(".js-video-link",this.elem),this.addListeners()},t.prototype.showVideo=function(){var t=this;if(this.elem.classList.add(this.activeClass),this.iframe){var e,n,i,o=function(t){var e=document.createElement("div");return e.innerHTML=t,0===e.childNodes.length?"":e.childNodes[0].nodeValue}(this.iframe);this.content&&(this.content.innerHTML=o||this.iframe,r("iframe",this.content).ariaLabel="Video player"),e=this.elem,n=function(){t.hideVideo()},(i=new IntersectionObserver(function(t){t.forEach(function(t){0===t.intersectionRatio&&(n(),i.unobserve(e))})})).observe(e)}else console.warn("No data-video set for video",this.elem)},t}();a(".js-video").forEach(function(t){return new un(t)});const dn=un;var hn=function(){function t(t){this.elem=t,this.modalElem=r(".journey-modal--block"),this.swiperClass=".journey-swiper",this.paginationClass=".swiper-pagination",this.paginationEl=r(this.paginationClass),this.swiperParentEl=r(".journey-modal__pagination"),this.swiperParentWrapperEl=r(".journey-modal__pagination-wrapper"),this.activeVideoClass="has-video",this.translate=0,this.halfWindowWidth=window.innerWidth/2,this.closeBtn=r("[data-journey-overlay-close]"),this.loadingEls=a("[data-loading]"),this.swiperInit=this.swiperInit.bind(this),this.swiperUpdate=this.swiperUpdate.bind(this),this.scrollToTop=this.scrollToTop.bind(this),this.handleHashChange=this.handleHashChange.bind(this),this.resetNavigation=this.resetNavigation.bind(this),this.init()}return t.prototype.elementOnLoad=function(t,e){var n,i,o,s,a;(n=t,i=void 0,o=void 0,s=void 0,a=function(){return function(t,e){var n,i,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(t){switch(t.label){case 0:return null!==r(n)?[3,2]:[4,new Promise(function(t){return window.requestAnimationFrame(t)})];case 1:return t.sent(),[3,0];case 2:return[2,n]}})},new(s||(s=Promise))(function(t,e){function n(t){try{l(a.next(t))}catch(t){e(t)}}function r(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s(function(t){t(i)})).then(n,r)}l((a=a.apply(i,o||[])).next())})).then(function(t){e(t)})},t.prototype.init=function(){this.swiperInit(),this.addListeners()},t.prototype.getSwiper=function(){return t=this,e=void 0,i=function(){var t=this;return function(t,e){var n,i,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(e){return[2,s.e(979).then(s.bind(s,236)).then(function(e){var n=e.default;s.e(979).then(s.bind(s,94)).then(function(e){var i=e.Navigation,o=e.Pagination,r=e.HashNavigation,s=e.A11y;t.loadingEls.forEach(function(t){return t.classList.add("has-loaded")}),t.swiperEl=new n(t.swiperClass,{modules:[i,o,r,s],autoHeight:!0,hashNavigation:{replaceState:!0,watchState:!0},navigation:{nextEl:".js-journey-next-button",prevEl:".js-journey-prev-button"},pagination:{el:t.paginationClass,bulletClass:"journey-modal__cb-link",clickable:!0,renderBullet:function(t,e){return'\n                  <a class="journey-modal__cb-link '.concat(e,'" href="#" role="button">\n                    <span class="cb-link__text">\n                      ').concat(["Why Middlebury","Immersive Environments","The Undergraduate Experience","Alumni in the World","Middlebury in the News","Students in Action","Connected Middlebury","Middlebury College","Graduate and Professional Schools"][t],'\n                    </span>\n                    <span class="cb-link__circle-wrapper">\n                      <span class="cb-link__circle inner"></span>\n                      <span class="cb-link__circle outer"></span>\n                    </span>\n                  </a>')}},on:{slideNextTransitionStart:function(t){t.allowSlideNext=!1},slideNextTransitionEnd:function(t){t.allowSlideNext=!0},slidePrevTransitionStart:function(t){t.allowSlidePrev=!1},slidePrevTransitionEnd:function(t){t.allowSlidePrev=!0},transitionStart:function(){t.swiperUpdate(),t.scrollToTop()}}})})}).catch(function(t){return"An error occurred while loading Swiper"})]})},new((n=void 0)||(n=Promise))(function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}l((i=i.apply(t,e||[])).next())});var t,e,n,i},t.prototype.swiperInit=function(){var t=this;this.getSwiper().then(function(){t.closeBtn.focus(),e()("[data-journey-gallery-item] img").observe(),t.swiperParentEl.style.transform="translateX(".concat(t.translate,"px)"),t.initVideoElems()})},t.prototype.addListeners=function(){var t=this;this.elementOnLoad(".journey-modal__cb-link",function(e){t.paginationDotEls=a(e),t.paginationDotEls.forEach(function(e){window.matchMedia("(min-width: 1024px)").matches&&(e.addEventListener("mouseenter",function(e){t.handleMouseEvent(e)}),e.addEventListener("mouseleave",function(e){t.handleMouseEvent(e)}))})}),a(".transcript__button").forEach(function(e){e.addEventListener("click",function(e){var n;null===(n=t.swiperEl)||void 0===n||n.updateAutoHeight(50)})}),window.matchMedia("(min-width: 512px)").matches&&window.addEventListener("resize",function(e){clearTimeout(t.timeout),t.timeout=setTimeout(t.resetNavigation,250)}),window.addEventListener("hashchange",function(e){t.elementOnLoad(".journey-modal--block.is-open",t.handleHashChange)})},t.prototype.scrollToTop=function(){this.modalElem.scrollTop>0&&Ie(this.modalElem,{scrollTop:0,ease:"inSine",autoplay:!0,duration:300})},t.prototype.handleHashChange=function(){var t,e,n,i=parseInt(window.location.hash.replace("#slide","")),o=window.MicroModal;isNaN(i)?null==o||o.close():i!==(null===(t=this.swiperEl)||void 0===t?void 0:t.activeIndex)?null===(e=this.swiperEl)||void 0===e||e.slideTo(i,300,!1):i==(null===(n=this.swiperEl)||void 0===n?void 0:n.activeIndex)&&this.swiperUpdate()},t.prototype.resetNavigation=function(){this.halfWindowWidth=window.innerWidth/2,this.swiperUpdate()},t.prototype.handleMouseEvent=function(t){var e=t.target.parentElement;"mouseenter"===t.type?e.classList.add("show-label"):"mouseleave"===t.type&&e.classList.remove("show-label")},t.prototype.initVideoElems=function(){a(".js-expand-video",this.elem).forEach(function(t){return new dn(t)})},t.prototype.swiperUpdate=function(){var t;this.currentEl=r(".swiper-pagination-bullet-active",this.paginationEl);var e=this.swiperParentEl.scrollWidth;e>this.swiperParentEl.offsetWidth&&(e=this.swiperParentEl.offsetWidth),this.hiddenWidth=e-this.swiperParentWrapperEl.offsetWidth;var n=null===(t=this.currentEl)||void 0===t?void 0:t.getBoundingClientRect().left;this.currentEl&&(this.translate=this.translate+(this.halfWindowWidth-n-16),this.translate>0&&(this.translate=0),Math.abs(this.translate)>this.hiddenWidth&&(this.translate=-this.hiddenWidth),this.translate<=0&&Math.abs(this.translate)<=this.hiddenWidth&&(this.swiperParentEl.style.transform="translateX(".concat(this.translate,"px)")))},t}();const pn=hn;var fn=function(){function t(t){this.elem=t,this.journeySections=a(".js-journey-section"),this.firstSection=this.journeySections.shift(),this.animPauseThreshold=0,this.sectionIndex=0,this.sectionNames=["learning","thinking","opportunity"],this.sectionLinksElems={},this.deviceInfo={desktop:{dotsAnimBreaks:[0,34,70],lineAnimBreaks:[25,60,101]},tablet:{dotsAnimBreaks:[0,39,77],lineAnimBreaks:[29,67,101]},mobile:{dotsAnimBreaks:[0,32,70],lineAnimBreaks:[28,65,101]}},this.handleIntersection=this.handleIntersection.bind(this),this.handleScroll=this.handleScroll.bind(this),this.deviceInit=this.deviceInit.bind(this),this.init()}return t.prototype.init=function(){window.location.hash="",this.deviceInit(),this.addListeners(),We||(this.svgInit(),this.animInit(),this.sectionInit())},t.prototype.deviceInit=function(){this.handleScroll(),window.matchMedia("(min-width: 1024px)").matches?this.deviceType="desktop":window.matchMedia("(min-width: 512px)").matches?this.deviceType="tablet":this.deviceType="mobile",this.pathEl=r(".journey-line--".concat(this.deviceType," path"),this.elem);for(var t=0;t<3;t++)this.sectionLinksElems[t]=r(".journey-links--".concat(this.deviceType," .").concat(this.sectionNames[t]))},t.prototype.addListeners=function(){var t=this;window.addEventListener("resize",function(e){clearTimeout(t.timeout),t.timeout=setTimeout(t.handleScroll,250)}),this.scrollRef=p(this.handleScroll),Object.values(this.sectionLinksElems).forEach(function(t){return r(".journey--link:last-child",t).addEventListener("animationend",function(){c(t,"disable-animate")})})},t.prototype.handleScroll=function(){this.firstSection.clientHeight-window.innerHeight>-this.firstSection.getBoundingClientRect().top?r(".school-picker").classList.remove("not-fixed"):r(".school-picker").classList.add("not-fixed")},t.prototype.svgInit=function(){this.totalPathLength=this.pathEl.getTotalLength();var t="4, 4",e=t.split(/[\s,]/).map(function(t){return parseFloat(t)||0}).reduce(function(t,e){return t+e},0),n=Math.ceil(this.totalPathLength/e)+1,i=new Array(n).join(t+" ")+" 0, "+this.totalPathLength;this.pathEl.setAttribute("stroke-dashoffset","".concat(this.totalPathLength)),this.pathEl.setAttribute("stroke-dasharray",i)},t.prototype.animInit=function(){var t=this;this.journeyLineAnimInstance=Ie(this.pathEl,{strokeDashoffset:[this.totalPathLength,0],duration:1e4,ease:"linear",autoplay:!1,onUpdate:function(e){t.animUpdate(e)}})},t.prototype.getAnimationThreshold=function(t,e){return"line"===e?this.deviceInfo[this.deviceType].lineAnimBreaks[t]:this.deviceInfo[this.deviceType].dotsAnimBreaks[t]},t.prototype.animUpdate=function(t){for(var e=Math.round(100*t.progress),n=0;n<this.sectionNames.length;n++)e>=this.getAnimationThreshold(n,"dots")&&(this.sectionIndex=n);c(this.sectionLinksElems[this.sectionIndex],"animate"),e>=this.animPauseThreshold-.5&&e<=this.animPauseThreshold+.5&&(this.journeyLineAnimInstance.pause(),console.log(this.journeyLineAnimInstance))},t.prototype.sectionInit=function(){var t=this;this.io=new IntersectionObserver(this.handleIntersection,{threshold:.4}),this.journeySections.forEach(function(e){return t.io.observe(e)})},t.prototype.loadVideo=function(t){var e=r(".journey-section__video",t),n=r("source",e);n.src=n.dataset.src,e.load()},t.prototype.handleIntersection=function(t){var e=this;t.forEach(function(t){if(t.isIntersecting){var n=0,i=t.target.id;i===e.sectionNames[0]?n=0:i===e.sectionNames[1]?n=1:i===e.sectionNames[2]&&(n=2),window.matchMedia("(min-width: 512px)").matches&&!We&&e.loadVideo(t.target),e.getAnimationThreshold(n,"line")>e.animPauseThreshold&&(e.animPauseThreshold=e.getAnimationThreshold(n,"line"),e.journeyLineAnimInstance.play()),e.io.unobserve(t.target)}})},t}();cn.init({openTrigger:"data-journey-overlay-open",closeTrigger:"data-journey-overlay-close",onShow:function(t){if(!t.swiper){var e=r(".journey-swiper");t.swiper=new pn(e)}t.swiper&&t.swiper.scrollToTop(),a("[data-journey-overlay-close]",t).forEach(function(t){return t.focus()})},disableScroll:!0}),a(".journey").forEach(function(t){return new fn(t)});var mn=window.matchMedia("(min-aspect-ratio: 16/13) and (max-aspect-ratio: 16/7)").matches,gn=window.innerHeight-r(".journey section").getBoundingClientRect().height,vn={container:document.body,panelSelector:".journey section",directionThreshold:gn>0?gn:50,delay:0,duration:600,easing:function(t){return t}},bn=a(".journey");0!==bn.length&&function(){return t=this,e=void 0,i=function(){var t;return function(t,e){var n,i,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(e){switch(e.label){case 0:return!mn||We?[3,2]:[4,s.e(231).then(s.t.bind(s,59,23))];case 1:t=e.sent().default,bn.forEach(function(){return new t(vn)}),e.label=2;case 2:return[2]}})},new((n=void 0)||(n=Promise))(function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}l((i=i.apply(t,e||[])).next())});var t,e,n,i}().catch(function(t){return"An error occurred while loading panelsnap"})})()})();