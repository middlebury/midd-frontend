/*! For license information please see journey.bundle.js.LICENSE.txt */
(()=>{var t,e,n,i,r={317:function(t){t.exports=function(){"use strict";function t(){return"undefined"!=typeof window}function e(t){return(o=t)&&o.document&&function(t){return 9===t.nodeType}(o.document)?(n=(e=t).document,i=n.body,r=n.documentElement,{scrollHeight:function(){return Math.max(i.scrollHeight,r.scrollHeight,i.offsetHeight,r.offsetHeight,i.clientHeight,r.clientHeight)},height:function(){return e.innerHeight||r.clientHeight||i.clientHeight},scrollY:function(){return void 0!==e.pageYOffset?e.pageYOffset:(r||i.parentNode||i).scrollTop}}):function(t){return{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}}}(t);var e,n,i,r,o}function n(t,n,i){var r,o=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}(),a=!1,s=e(t),l=s.scrollY(),c={};function u(){var t=Math.round(s.scrollY()),e=s.height(),r=s.scrollHeight();c.scrollY=t,c.lastScrollY=l,c.direction=t>l?"down":"up",c.distance=Math.abs(t-l),c.isOutOfBounds=t<0||t+e>r,c.top=t<=n.offset[c.direction],c.bottom=t+e>=r,c.toleranceExceeded=c.distance>n.tolerance[c.direction],i(c),l=t,a=!1}function d(){a||(a=!0,r=requestAnimationFrame(u))}var h=!!o&&{passive:!0,capture:!1};return t.addEventListener("scroll",d,h),u(),{destroy:function(){cancelAnimationFrame(r),t.removeEventListener("scroll",d,h)}}}function i(t){return t===Object(t)?t:{down:t,up:t}}function r(t,e){e=e||{},Object.assign(this,r.options,e),this.classes=Object.assign({},r.options.classes,e.classes),this.elem=t,this.tolerance=i(this.tolerance),this.offset=i(this.offset),this.initialised=!1,this.frozen=!1}return r.prototype={constructor:r,init:function(){return r.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout((function(t){t.scrollTracker=n(t.scroller,{offset:t.offset,tolerance:t.tolerance},t.update.bind(t))}),100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(t){return"down"===t.direction&&!t.top&&t.toleranceExceeded},shouldPin:function(t){return"up"===t.direction&&t.toleranceExceeded||t.top},addClass:function(t){this.elem.classList.add.apply(this.elem.classList,this.classes[t].split(" "))},removeClass:function(t){this.elem.classList.remove.apply(this.elem.classList,this.classes[t].split(" "))},hasClass:function(t){return this.classes[t].split(" ").every((function(t){return this.classList.contains(t)}),this.elem)},update:function(t){t.isOutOfBounds||!0!==this.frozen&&(t.top?this.top():this.notTop(),t.bottom?this.bottom():this.notBottom(),this.shouldUnpin(t)?this.unpin():this.shouldPin(t)&&this.pin())}},r.options={tolerance:{up:0,down:0},offset:0,scroller:t()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},r.cutsTheMustard=!!(t()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),r}()},510:function(t){t.exports=function(){"use strict";var t="undefined"!=typeof document&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(e){if("picture"===e.nodeName.toLowerCase()){var n=e.querySelector("img"),i=!1;null===n&&(n=document.createElement("img"),i=!0),t&&e.getAttribute("data-iesrc")&&(n.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(n.alt=e.getAttribute("data-alt")),i&&e.append(n)}if("video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var r=e.children,o=void 0,a=0;a<=r.length-1;a++)(o=r[a].getAttribute("data-src"))&&(r[a].src=o);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset"));var s=",";if(e.getAttribute("data-background-delimiter")&&(s=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image"))e.style.backgroundImage="url('"+e.getAttribute("data-background-image").split(s).join("'),url('")+"')";else if(e.getAttribute("data-background-image-set")){var l=e.getAttribute("data-background-image-set").split(s),c=l[0].substr(0,l[0].indexOf(" "))||l[0];c=-1===c.indexOf("url(")?"url("+c+")":c,1===l.length?e.style.backgroundImage=c:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: "+c+"; background-image: -webkit-image-set("+l+"); background-image: image-set("+l+")")}e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function n(t){t.setAttribute("data-loaded",!0)}var i=function(t){return"true"===t.getAttribute("data-loaded")},r=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var t,o,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=Object.assign({},e,s),c=l.root,u=l.rootMargin,d=l.threshold,h=l.load,f=l.loaded,p=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(p=new IntersectionObserver((t=h,o=f,function(e,r){e.forEach((function(e){(0<e.intersectionRatio||e.isIntersecting)&&(r.unobserve(e.target),i(e.target)||(t(e.target),n(e.target),o(e.target)))}))}),{root:c,rootMargin:u,threshold:d}));for(var g,m=r(a,c),v=0;v<m.length;v++)(g=m[v]).getAttribute("data-placeholder-background")&&(g.style.background=g.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=r(a,c),e=0;e<t.length;e++)i(t[e])||(p?p.observe(t[e]):(h(t[e]),n(t[e]),f(t[e])))},triggerLoad:function(t){i(t)||(h(t),n(t),f(t))},observer:p}}}()},976:()=>{!function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),r=window.setTimeout((function(){e(n+i)}),i);return t=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={exports:{}};return r[t].call(n.exports,n,n.exports,a),n.exports}a.m=r,a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,a.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var r=Object.create(null);a.r(r);var o={};t=t||[null,e({}),e([]),e(e)];for(var s=2&i&&n;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((t=>o[t]=()=>n[t]));return o.default=()=>n,a.d(r,o),r},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.f={},a.e=t=>Promise.all(Object.keys(a.f).reduce(((e,n)=>(a.f[n](t,e),e)),[])),a.u=t=>({231:"panelsnap",979:"swiper"}[t]+".bundle.js"),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n={},i="midd-frontend:",a.l=(t,e,r,o)=>{if(n[t])n[t].push(e);else{var s,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==i+r){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",i+r),s.src=t),n[t]=[e];var h=(e,i)=>{s.onerror=s.onload=null,clearTimeout(f);var r=n[t];if(delete n[t],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((t=>t(i))),e)return e(i)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.p="/themes/custom/middlebury_theme/js/",(()=>{var t={569:0};a.f.j=(e,n)=>{var i=a.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise(((n,r)=>i=t[e]=[n,r]));n.push(i[2]=r);var o=a.p+a.u(e),s=new Error;a.l(o,(n=>{if(a.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,i[1](s)}}),"chunk-"+e,e)}};var e=(e,n)=>{var i,r,[o,s,l]=n,c=0;if(o.some((e=>0!==t[e]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);l&&l(a)}for(e&&e(n);c<o.length;c++)r=o[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0},n=globalThis.webpackChunkmidd_frontend=globalThis.webpackChunkmidd_frontend||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),(()=>{"use strict";a(976);var t=a(510),e=a.n(t);e()(".js-lazy-load").observe();var n,i=a(317),r=a.n(i),o=function(t,e){return void 0===e&&(e=document),e.querySelector(t)},s=function(t,e){return void 0===e&&(e=document),Array.from(e.querySelectorAll(t))},l=function(t,e,n){return t.addEventListener(e,n)},c=function(t,e){return t.classList.add(e)},u=o(".js-headroom");if(u&&!o("#toolbar-administration")){n=u.offsetHeight;var d=new(r())(u,{offset:n,tolerance:{up:10,down:0},scroller:o("#midd-journey-overlay")||window});document.body.style.paddingTop=n+"px",d.init(),window.location.hash&&!o("#midd-journey-overlay")&&setTimeout((function(){d.unpin()}),1e3)}function h(t,e){void 0===e&&(e=window);var n=0,i=!1,r=function(e){t(n,e),i=!1},o=function(t){n=t.target.scrollTop||window.pageYOffset,i||(window.requestAnimationFrame(r),i=!0)};return e.addEventListener("scroll",o),{destroy:function(){e.removeEventListener("scroll",o)}}}var f={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},p={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},g=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],m={CSS:{},springs:{}};function v(t,e,n){return Math.min(Math.max(t,e),n)}function y(t,e){return t.indexOf(e)>-1}function b(t,e){return t.apply(null,e)}var w={arr:function(t){return Array.isArray(t)},obj:function(t){return y(Object.prototype.toString.call(t),"Object")},pth:function(t){return w.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||w.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},nil:function(t){return w.und(t)||null===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return w.hex(t)||w.rgb(t)||w.hsl(t)},key:function(t){return!f.hasOwnProperty(t)&&!p.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function k(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map((function(t){return parseFloat(t)})):[]}function E(t,e){var n=k(t),i=v(w.und(n[0])?1:n[0],.1,100),r=v(w.und(n[1])?100:n[1],.1,100),o=v(w.und(n[2])?10:n[2],.1,100),a=v(w.und(n[3])?0:n[3],.1,100),s=Math.sqrt(r/i),l=o/(2*Math.sqrt(r*i)),c=l<1?s*Math.sqrt(1-l*l):0,u=l<1?(l*s-a)/c:-a+s;function d(t){var n=e?e*t/1e3:t;return n=l<1?Math.exp(-n*l*s)*(1*Math.cos(c*n)+u*Math.sin(c*n)):(1+u*n)*Math.exp(-n*s),0===t||1===t?t:1-n}return e?d:function(){var e=m.springs[t];if(e)return e;for(var n=1/6,i=0,r=0;;)if(1===d(i+=n)){if(++r>=16)break}else r=0;var o=i*n*1e3;return m.springs[t]=o,o}}function C(t){return void 0===t&&(t=10),function(e){return Math.ceil(v(e,1e-6,1)*t)*(1/t)}}var T,A,L=function(){var t=.1;function e(t,e){return 1-3*e+3*t}function n(t,e){return 3*e-6*t}function i(t){return 3*t}function r(t,r,o){return((e(r,o)*t+n(r,o))*t+i(r))*t}function o(t,r,o){return 3*e(r,o)*t*t+2*n(r,o)*t+i(r)}return function(e,n,i,a){if(0<=e&&e<=1&&0<=i&&i<=1){var s=new Float32Array(11);if(e!==n||i!==a)for(var l=0;l<11;++l)s[l]=r(l*t,e,i);return function(l){return e===n&&i===a||0===l||1===l?l:r(function(n){for(var a=0,l=1;10!==l&&s[l]<=n;++l)a+=t;--l;var c=a+(n-s[l])/(s[l+1]-s[l])*t,u=o(c,e,i);return u>=.001?function(t,e,n,i){for(var a=0;a<4;++a){var s=o(e,n,i);if(0===s)return e;e-=(r(e,n,i)-t)/s}return e}(n,c,e,i):0===u?c:function(t,e,n,i,o){var a,s,l=0;do{(a=r(s=e+(n-e)/2,i,o)-t)>0?n=s:e=s}while(Math.abs(a)>1e-7&&++l<10);return s}(n,a,a+t,e,i)}(l),n,a)}}}}(),x=(T={linear:function(){return function(t){return t}}},A={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Expo:function(){return function(t){return t?Math.pow(2,10*t-10):0}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}},Elastic:function(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var n=v(t,1,10),i=v(e,.1,2);return function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin((t-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint"].forEach((function(t,e){A[t]=function(){return function(t){return Math.pow(t,e+2)}}})),Object.keys(A).forEach((function(t){var e=A[t];T["easeIn"+t]=e,T["easeOut"+t]=function(t,n){return function(i){return 1-e(t,n)(1-i)}},T["easeInOut"+t]=function(t,n){return function(i){return i<.5?e(t,n)(2*i)/2:1-e(t,n)(-2*i+2)/2}},T["easeOutIn"+t]=function(t,n){return function(i){return i<.5?(1-e(t,n)(1-2*i))/2:(e(t,n)(2*i-1)+1)/2}}})),T);function M(t,e){if(w.fnc(t))return t;var n=t.split("(")[0],i=x[n],r=k(t);switch(n){case"spring":return E(t,e);case"cubicBezier":return b(L,r);case"steps":return b(C,r);default:return b(i,r)}}function j(t){try{return document.querySelectorAll(t)}catch(t){return}}function O(t,e){for(var n=t.length,i=arguments.length>=2?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in t){var a=t[o];e.call(i,a,o,t)&&r.push(a)}return r}function S(t){return t.reduce((function(t,e){return t.concat(w.arr(e)?S(e):e)}),[])}function P(t){return w.arr(t)?t:(w.str(t)&&(t=j(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function I(t,e){return t.some((function(t){return t===e}))}function B(t){var e={};for(var n in t)e[n]=t[n];return e}function N(t,e){var n=B(t);for(var i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function F(t,e){var n=B(t);for(var i in e)n[i]=w.und(t[i])?e[i]:t[i];return n}function H(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function _(t,e){return w.fnc(t)?t(e.target,e.id,e.total):t}function D(t,e){return t.getAttribute(e)}function q(t,e,n){if(I([n,"deg","rad","turn"],H(e)))return e;var i=m.CSS[e+n];if(!w.und(i))return i;var r=document.createElement(t.tagName),o=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;o.appendChild(r),r.style.position="absolute",r.style.width=100+n;var a=100/r.offsetWidth;o.removeChild(r);var s=a*parseFloat(e);return m.CSS[e+n]=s,s}function W(t,e,n){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return n?q(t,r,n):r}}function V(t,e){return w.dom(t)&&!w.inp(t)&&(!w.nil(D(t,e))||w.svg(t)&&t[e])?"attribute":w.dom(t)&&I(g,e)?"transform":w.dom(t)&&"transform"!==e&&W(t,e)?"css":null!=t[e]?"object":void 0}function z(t){if(w.dom(t)){for(var e,n=t.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;e=i.exec(n);)r.set(e[1],e[2]);return r}}function U(t,e,n,i){switch(V(t,e)){case"transform":return function(t,e,n,i){var r=y(e,"scale")?1:0+function(t){return y(t,"translate")||"perspective"===t?"px":y(t,"rotate")||y(t,"skew")?"deg":void 0}(e),o=z(t).get(e)||r;return n&&(n.transforms.list.set(e,o),n.transforms.last=e),i?q(t,o,i):o}(t,e,i,n);case"css":return W(t,e,n);case"attribute":return D(t,e);default:return t[e]||0}}function Y(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=H(t)||0,r=parseFloat(e),o=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return r+o+i;case"-":return r-o+i;case"*":return r*o+i}}function K(t,e){if(w.col(t))return function(t){return w.rgb(t)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=t))?"rgba("+n[1]+",1)":e:w.hex(t)?function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,i){return e+e+n+n+i+i})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(t):w.hsl(t)?function(t){var e,n,i,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),o=parseInt(r[1],10)/360,a=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100,l=r[4]||1;function c(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==a)e=n=i=s;else{var u=s<.5?s*(1+a):s+a-s*a,d=2*s-u;e=c(d,u,o+1/3),n=c(d,u,o),i=c(d,u,o-1/3)}return"rgba("+255*e+","+255*n+","+255*i+","+l+")"}(t):void 0;var e,n}(t);if(/\s/g.test(t))return t;var n=H(t),i=n?t.substr(0,t.length-n.length):t;return e?i+e:i}function R(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function G(t){for(var e,n=t.points,i=0,r=0;r<n.numberOfItems;r++){var o=n.getItem(r);r>0&&(i+=R(e,o)),e=o}return i}function $(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*D(t,"r")}(t);case"rect":return function(t){return 2*D(t,"width")+2*D(t,"height")}(t);case"line":return function(t){return R({x:D(t,"x1"),y:D(t,"y1")},{x:D(t,"x2"),y:D(t,"y2")})}(t);case"polyline":return G(t);case"polygon":return function(t){var e=t.points;return G(t)+R(e.getItem(e.numberOfItems-1),e.getItem(0))}(t)}}function X(t,e){var n=e||{},i=n.el||function(t){for(var e=t.parentNode;w.svg(e)&&w.svg(e.parentNode);)e=e.parentNode;return e}(t),r=i.getBoundingClientRect(),o=D(i,"viewBox"),a=r.width,s=r.height,l=n.viewBox||(o?o.split(" "):[0,0,a,s]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:a,h:s,vW:l[2],vH:l[3]}}function Z(t,e,n){function i(n){void 0===n&&(n=0);var i=e+n>=1?e+n:0;return t.el.getPointAtLength(i)}var r=X(t.el,t.svg),o=i(),a=i(-1),s=i(1),l=n?1:r.w/r.vW,c=n?1:r.h/r.vH;switch(t.property){case"x":return(o.x-r.x)*l;case"y":return(o.y-r.y)*c;case"angle":return 180*Math.atan2(s.y-a.y,s.x-a.x)/Math.PI}}function Q(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=K(w.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:w.str(t)||e?i.split(n):[]}}function J(t){return O(t?S(w.arr(t)?t.map(P):P(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function tt(t){var e=J(t);return e.map((function(t,n){return{target:t,id:n,total:e.length,transforms:{list:z(t)}}}))}function et(t,e){var n=B(e);if(/^spring/.test(n.easing)&&(n.duration=E(n.easing)),w.arr(t)){var i=t.length;2!==i||w.obj(t[0])?w.fnc(e.duration)||(n.duration=e.duration/i):t={value:t}}var r=w.arr(t)?t:[t];return r.map((function(t,n){var i=w.obj(t)&&!w.pth(t)?t:{value:t};return w.und(i.delay)&&(i.delay=n?0:e.delay),w.und(i.endDelay)&&(i.endDelay=n===r.length-1?e.endDelay:0),i})).map((function(t){return F(t,n)}))}var nt={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){if(i.list.set(e,n),e===i.last||r){var o="";i.list.forEach((function(t,e){o+=e+"("+t+") "})),t.style.transform=o}}};function it(t,e){tt(t).forEach((function(t){for(var n in e){var i=_(e[n],t),r=t.target,o=H(i),a=U(r,n,o,t),s=Y(K(i,o||H(a)),a),l=V(r,n);nt[l](r,n,s,t.transforms,!0)}}))}function rt(t,e){return O(S(t.map((function(t){return e.map((function(e){return function(t,e){var n=V(t.target,e.name);if(n){var i=function(t,e){var n;return t.tweens.map((function(i){var r=function(t,e){var n={};for(var i in t){var r=_(t[i],e);w.arr(r)&&1===(r=r.map((function(t){return _(t,e)}))).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(i,e),o=r.value,a=w.arr(o)?o[1]:o,s=H(a),l=U(e.target,t.name,s,e),c=n?n.to.original:l,u=w.arr(o)?o[0]:c,d=H(u)||H(l),h=s||d;return w.und(a)&&(a=c),r.from=Q(u,h),r.to=Q(Y(a,u),h),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=M(r.easing,r.duration),r.isPath=w.pth(o),r.isPathTargetInsideSVG=r.isPath&&w.svg(e.target),r.isColor=w.col(r.from.original),r.isColor&&(r.round=1),n=r,r}))}(e,t),r=i[i.length-1];return{type:n,property:e.name,animatable:t,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}(t,e)}))}))),(function(t){return!w.und(t)}))}function ot(t,e){var n=t.length,i=function(t){return t.timelineOffset?t.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,t.map((function(t){return i(t)+t.duration}))):e.duration,r.delay=n?Math.min.apply(Math,t.map((function(t){return i(t)+t.delay}))):e.delay,r.endDelay=n?r.duration-Math.max.apply(Math,t.map((function(t){return i(t)+t.duration-t.endDelay}))):e.endDelay,r}var at=0,st=[],lt=function(){var t;function e(n){for(var i=st.length,r=0;r<i;){var o=st[r];o.paused?(st.splice(r,1),i--):(o.tick(n),r++)}t=r>0?requestAnimationFrame(e):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){ut.suspendWhenDocumentHidden&&(ct()?t=cancelAnimationFrame(t):(st.forEach((function(t){return t._onDocumentVisibility()})),lt()))})),function(){t||ct()&&ut.suspendWhenDocumentHidden||!(st.length>0)||(t=requestAnimationFrame(e))}}();function ct(){return!!document&&document.hidden}function ut(t){void 0===t&&(t={});var e,n=0,i=0,r=0,o=0,a=null;function s(t){var e=window.Promise&&new Promise((function(t){return a=t}));return t.finished=e,e}var l=function(t){var e=N(f,t),n=N(p,t),i=function(t,e){var n=[],i=e.keyframes;for(var r in i&&(e=F(function(t){for(var e=O(S(t.map((function(t){return Object.keys(t)}))),(function(t){return w.key(t)})).reduce((function(t,e){return t.indexOf(e)<0&&t.push(e),t}),[]),n={},i=function(i){var r=e[i];n[r]=t.map((function(t){var e={};for(var n in t)w.key(n)?n==r&&(e.value=t[n]):e[n]=t[n];return e}))},r=0;r<e.length;r++)i(r);return n}(i),e)),e)w.key(r)&&n.push({name:r,tweens:et(e[r],t)});return n}(n,t),r=tt(t.targets),o=rt(r,i),a=ot(o,n),s=at;return at++,F(e,{id:s,children:[],animatables:r,animations:o,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}(t);function c(){var t=l.direction;"alternate"!==t&&(l.direction="normal"!==t?"normal":"reverse"),l.reversed=!l.reversed,e.forEach((function(t){return t.reversed=l.reversed}))}function u(t){return l.reversed?l.duration-t:t}function d(){n=0,i=u(l.currentTime)*(1/ut.speed)}function h(t,e){e&&e.seek(t-e.timelineOffset)}function g(t){for(var e=0,n=l.animations,i=n.length;e<i;){var r=n[e],o=r.animatable,a=r.tweens,s=a.length-1,c=a[s];s&&(c=O(a,(function(e){return t<e.end}))[0]||c);for(var u=v(t-c.start-c.delay,0,c.duration)/c.duration,d=isNaN(u)?1:c.easing(u),h=c.to.strings,f=c.round,p=[],g=c.to.numbers.length,m=void 0,y=0;y<g;y++){var b=void 0,w=c.to.numbers[y],k=c.from.numbers[y]||0;b=c.isPath?Z(c.value,d*w,c.isPathTargetInsideSVG):k+d*(w-k),f&&(c.isColor&&y>2||(b=Math.round(b*f)/f)),p.push(b)}var E=h.length;if(E){m=h[0];for(var C=0;C<E;C++){h[C];var T=h[C+1],A=p[C];isNaN(A)||(m+=T?A+T:A+" ")}}else m=p[0];nt[r.type](o.target,r.property,m,o.transforms),r.currentValue=m,e++}}function m(t){l[t]&&!l.passThrough&&l[t](l)}function y(t){var d=l.duration,f=l.delay,p=d-l.endDelay,y=u(t);l.progress=v(y/d*100,0,100),l.reversePlayback=y<l.currentTime,e&&function(t){if(l.reversePlayback)for(var n=o;n--;)h(t,e[n]);else for(var i=0;i<o;i++)h(t,e[i])}(y),!l.began&&l.currentTime>0&&(l.began=!0,m("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,m("loopBegin")),y<=f&&0!==l.currentTime&&g(0),(y>=p&&l.currentTime!==d||!d)&&g(d),y>f&&y<p?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,m("changeBegin")),m("change"),g(y)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,m("changeComplete")),l.currentTime=v(y,0,d),l.began&&m("update"),t>=d&&(i=0,l.remaining&&!0!==l.remaining&&l.remaining--,l.remaining?(n=r,m("loopComplete"),l.loopBegan=!1,"alternate"===l.direction&&c()):(l.paused=!0,l.completed||(l.completed=!0,m("loopComplete"),m("complete"),!l.passThrough&&"Promise"in window&&(a(),s(l)))))}return s(l),l.reset=function(){var t=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed="reverse"===t,l.remaining=l.loop,e=l.children;for(var n=o=e.length;n--;)l.children[n].reset();(l.reversed&&!0!==l.loop||"alternate"===t&&1===l.loop)&&l.remaining++,g(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(t,e){return it(t,e),l},l.tick=function(t){r=t,n||(n=r),y((r+(i-n))*ut.speed)},l.seek=function(t){y(u(t))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,st.push(l),d(),lt())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(t){ht(J(t),l)},l.reset(),l.autoplay&&l.play(),l}function dt(t,e){for(var n=e.length;n--;)I(t,e[n].animatable.target)&&e.splice(n,1)}function ht(t,e){var n=e.animations,i=e.children;dt(t,n);for(var r=i.length;r--;){var o=i[r],a=o.animations;dt(t,a),a.length||o.children.length||i.splice(r,1)}n.length||i.length||e.pause()}ut.version="3.2.1",ut.speed=1,ut.suspendWhenDocumentHidden=!0,ut.running=st,ut.remove=function(t){for(var e=J(t),n=st.length;n--;)ht(e,st[n])},ut.get=U,ut.set=it,ut.convertPx=q,ut.path=function(t,e){var n=w.str(t)?j(t)[0]:t,i=e||100;return function(t){return{property:t,el:n,svg:X(n),totalLength:$(n)*(i/100)}}},ut.setDashoffset=function(t){var e=$(t);return t.setAttribute("stroke-dasharray",e),e},ut.stagger=function(t,e){void 0===e&&(e={});var n=e.direction||"normal",i=e.easing?M(e.easing):null,r=e.grid,o=e.axis,a=e.from||0,s="first"===a,l="center"===a,c="last"===a,u=w.arr(t),d=u?parseFloat(t[0]):parseFloat(t),h=u?parseFloat(t[1]):0,f=H(u?t[1]:t)||0,p=e.start||0+(u?d:0),g=[],m=0;return function(t,e,v){if(s&&(a=0),l&&(a=(v-1)/2),c&&(a=v-1),!g.length){for(var y=0;y<v;y++){if(r){var b=l?(r[0]-1)/2:a%r[0],w=l?(r[1]-1)/2:Math.floor(a/r[0]),k=b-y%r[0],E=w-Math.floor(y/r[0]),C=Math.sqrt(k*k+E*E);"x"===o&&(C=-k),"y"===o&&(C=-E),g.push(C)}else g.push(Math.abs(a-y));m=Math.max.apply(Math,g)}i&&(g=g.map((function(t){return i(t/m)*m}))),"reverse"===n&&(g=g.map((function(t){return o?t<0?-1*t:-t:Math.abs(m-t)})))}return p+(u?(h-d)/m:d)*(Math.round(100*g[e])/100)+f}},ut.timeline=function(t){void 0===t&&(t={});var e=ut(t);return e.duration=0,e.add=function(n,i){var r=st.indexOf(e),o=e.children;function a(t){t.passThrough=!0}r>-1&&st.splice(r,1);for(var s=0;s<o.length;s++)a(o[s]);var l=F(n,N(p,t));l.targets=l.targets||t.targets;var c=e.duration;l.autoplay=!1,l.direction=e.direction,l.timelineOffset=w.und(i)?c:Y(i,c),a(e),e.seek(l.timelineOffset);var u=ut(l);a(u),o.push(u);var d=ot(o,t);return e.delay=d.delay,e.endDelay=d.endDelay,e.duration=d.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e},ut.easing=M,ut.penner=x,ut.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};const ft=ut;var pt=window.matchMedia("(prefers-reduced-motion: reduce)").matches,gt=function(){return gt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},gt.apply(this,arguments)},mt={offset:0,easing:"easeInCubic",duration:300,elasticity:500,replaceState:!1},vt=function(){function t(t,e){var n=this;this.handleClick=function(t){t.preventDefault();var e=t.currentTarget.getAttribute("href");if(e){var i=o(e);i&&n.scrollTo(i,e)}};var i=gt(gt({},mt),e),r=i.easing,a=i.duration,l=i.elasticity,c=i.begin,u=i.complete;this.elems="string"==typeof t?s(t):t,this.options=i;var d=pt?0:a;this.animeOptions={duration:d,easing:r,elasticity:l,begin:c,complete:u},this.init()}return t.prototype.init=function(){this.addListeners()},t.prototype.addListeners=function(){var t=this;this.elems.forEach((function(e){return l(e,"click",t.handleClick)}))},t.prototype.destroy=function(){var t=this;this.elems.forEach((function(e){return n=e,i=t.handleClick,n.removeEventListener("click",i);var n,i}))},t.prototype.scrollTo=function(t,e){var n=this.options,i=n.offset,r=void 0===i?0:i,o=n.scrollTop,a=n.container,s=t.getBoundingClientRect().top,l=window.pageYOffset,c=[document.documentElement,document.body],u="function"==typeof r?r(t):r;a&&(c=a,l=a.scrollTop);var d="function"==typeof o?o(t,l):s+l-u,h=this.animeOptions,f=h.duration,p=h.easing,g=h.elasticity,m=h.begin,v=h.complete;this.anime=ft({scrollTop:d,targets:c,duration:f,easing:p,elasticity:g,begin:m,complete:v}),this.options.replaceState&&window.history.replaceState(null,"",document.location.pathname+e)},t}();const yt=vt;function bt(t,e){void 0===e&&(e=3),t.hidden=!0,new yt([t]);var n=window.innerHeight*e;h((function(){window.pageYOffset>n?t.hidden=!1:t.hidden=!0}))}var wt=o(".js-to-top-btn"),kt=o(".js-journey-to-top-btn");wt&&bt(wt),kt&&bt(kt,3.75);var Et=function(){function t(t){var e=this;this.handleElemKeyDown=function(t){32===t.keyCode&&(t.preventDefault(),e.toggle())},this.elem=t,this.target=this.getTarget(this.elem),this.activeClass="is-toggled",this.enabledClass="has-toggler";var n=t.getAttribute("data-toggle-linked");this.linked=n?'[data-toggle-linked="'.concat(n,'"]'):null;var i=t.getAttribute("data-toggle-group");this.group=i?'[data-toggle-group="'.concat(i,'"]'):null,t.getAttribute("data-toggle-group-parent"),this.groupParent=i?o(".".concat(i)):null,this.toggleAllParent=o("[data-toggle-all-group]"),this.handleElemClick=this.handleElemClick.bind(this),this.focusTargetSelector=t.getAttribute("data-toggle-focus"),this.focusTargetSelector&&(this.focusTarget=o(this.focusTargetSelector)),this.init()}return t.prototype.init=function(){var t;this.target&&(this.addListeners(),this.elem.classList.add(this.enabledClass),this.target.classList.add(this.enabledClass),null===(t=this.groupParent)||void 0===t||t.classList.add(this.enabledClass))},t.prototype.destroy=function(){var t,e;this.elem.classList.remove(this.enabledClass),this.elem.classList.remove(this.activeClass),this.target.classList.remove(this.enabledClass),this.target.classList.remove(this.activeClass),null===(t=this.groupParent)||void 0===t||t.classList.remove(this.enabledClass),null===(e=this.groupParent)||void 0===e||e.classList.remove(this.activeClass),this.elem.removeEventListener("click",this.handleElemClick),this.elem.removeEventListener("keydown",this.handleElemKeyDown)},t.prototype.addListeners=function(){this.elem.addEventListener("click",this.handleElemClick),this.elem.addEventListener("keydown",this.handleElemKeyDown)},t.prototype.getTarget=function(t){var e=t.getAttribute("data-toggle-target");if(e)return o(e)},t.prototype.handleElemClick=function(t){t.preventDefault(),this.toggle()},t.prototype.closeGroup=function(){var t=this;if(this.group){var e=s(this.group);e&&e.forEach((function(e){var n=t.getTarget(e);t.close(e,n)}))}},t.prototype.toggleLinked=function(){var t=this;if(this.linked){var e=s(this.linked);e&&e.forEach((function(e){var n=t.getTarget(e);if(t.isToggled(n))return t.close(e,n);t.open(e,n)}))}},t.prototype.open=function(t,e){var n=this;this.groupParent&&this.groupParent.classList.add(this.activeClass),e&&e.classList.add(this.activeClass),t&&(t.classList.add(this.activeClass),this.setAriaExpanded(t,!0),this.focusTarget&&setTimeout((function(){var t,e=null===(t=n.focusTarget)||void 0===t?void 0:t.querySelector("input");null==e||e.focus()}),100))},t.prototype.setAriaExpanded=function(t,e){t.hasAttribute("aria-expanded")&&t.setAttribute("aria-expanded",String(e))},t.prototype.close=function(t,e){this.groupParent&&this.groupParent.classList.remove(this.activeClass),e&&e.classList.remove(this.activeClass),t&&(t.classList.remove(this.activeClass),this.setAriaExpanded(t,!1),this.toggleAllParent&&this.isToggled(this.toggleAllParent)&&this.toggleAllParent.classList.remove(this.activeClass))},t.prototype.isToggled=function(t){return t.classList.contains(this.activeClass)},t.prototype.toggle=function(){if(!this.isToggled(this.target))return this.group&&this.closeGroup(),this.linked&&this.toggleLinked(),this.open(this.elem,this.target);this.close(this.elem,this.target)},t}();s("[data-toggle-target]").forEach((function(t){return new Et(t)}));var Ct=function(){function t(t){this.elem=t,this.videoElement=o(".journey-section__video",this.elem),this.controls=o("[data-journey-video-trigger]",this.elem),this.playButton=o(".journey-video--button-play",this.elem),this.pauseButton=o(".journey-video--button-pause",this.elem),this.handleClick=this.handleClick.bind(this),this.init()}return t.prototype.init=function(){this.addListeners(),window.matchMedia("(max-width: 512px)").matches||pt?(this.videoElement.autoplay=!1,this.controls.classList.add("not-playing"),this.controls.setAttribute("aria-hidden","true")):(this.controls.setAttribute("aria-hidden","false"),this.playButton.setAttribute("aria-hidden","true"),this.pauseButton.setAttribute("aria-hidden","false"))},t.prototype.addListeners=function(){this.controls.addEventListener("click",this.handleClick)},t.prototype.handleClick=function(t){this.controls.classList.toggle("not-playing"),this.controls.classList.contains("not-playing")?(this.videoElement.pause(),this.playButton.setAttribute("aria-hidden","false"),this.pauseButton.setAttribute("aria-hidden","true")):(this.videoElement.play(),this.playButton.setAttribute("aria-hidden","true"),this.pauseButton.setAttribute("aria-hidden","false"))},t}(),Tt=s(".journey-section");function At(t){return function(t){if(Array.isArray(t))return Lt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Lt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Tt.shift(),Tt.forEach((function(t){new Ct(t)}));var xt,Mt,jt,Ot,St,Pt=(xt=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],Mt=function(){function t(e){var n=e.targetModal,i=e.triggers,r=void 0===i?[]:i,o=e.onShow,a=void 0===o?function(){}:o,s=e.onClose,l=void 0===s?function(){}:s,c=e.openTrigger,u=void 0===c?"data-micromodal-trigger":c,d=e.closeTrigger,h=void 0===d?"data-micromodal-close":d,f=e.openClass,p=void 0===f?"is-open":f,g=e.disableScroll,m=void 0!==g&&g,v=e.disableFocus,y=void 0!==v&&v,b=e.awaitCloseAnimation,w=void 0!==b&&b,k=e.awaitOpenAnimation,E=void 0!==k&&k,C=e.debugMode,T=void 0!==C&&C;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal="string"==typeof n?document.getElementById(n):n,this.config={debugMode:T,disableScroll:m,openTrigger:u,closeTrigger:h,openClass:p,onShow:a,onClose:l,awaitCloseAnimation:w,awaitOpenAnimation:E,disableFocus:y},r.length>0&&this.registerTriggers.apply(this,At(r)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e;return(e=[{key:"registerTriggers",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.filter(Boolean).forEach((function(e){e.addEventListener("click",(function(e){return t.showModal(e)}))}))}},{key:"showModal",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",(function e(){t.modal.removeEventListener("animationend",e,!1),t.setFocusToFirstNode()}),!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,e)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",(function t(){e.classList.remove(n),e.removeEventListener("animationend",t,!1)}),!1)}else e.classList.remove(this.config.openClass)}},{key:"closeModalByIdOrElement",value:function(t){this.modal="string"==typeof t?document.getElementById(t):t,this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:""});break;case"disable":Object.assign(e.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){(t.target.hasAttribute(this.config.closeTrigger)||t.target.parentNode.hasAttribute(this.config.closeTrigger))&&(t.preventDefault(),t.stopPropagation(),this.closeModal(t))}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(xt);return Array.apply(void 0,At(t))}},{key:"setFocusToFirstNode",value:function(){var t=this;if(!this.config.disableFocus){var e=this.getFocusableNodes();if(0!==e.length){var n=e.filter((function(e){return!e.hasAttribute(t.config.closeTrigger)}));n.length>0&&n[0].focus(),0===n.length&&e[0].focus()}}}},{key:"retainFocus",value:function(t){var e=this.getFocusableNodes();if(0!==e.length)if(e=e.filter((function(t){return null!==t.offsetParent})),this.modal.contains(document.activeElement)){var n=e.indexOf(document.activeElement);t.shiftKey&&0===n&&(e[e.length-1].focus(),t.preventDefault()),!t.shiftKey&&e.length>0&&n===e.length-1&&(e[0].focus(),t.preventDefault())}else e[0].focus()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),jt=null,Ot=function(t){if("string"==typeof id?!document.getElementById(t):!t)return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},St=function(t,e){if(function(t){t.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(t),!e)return!0;for(var n in e)Ot(n);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),n=At(document.querySelectorAll("[".concat(e.openTrigger,"]"))),i=function(t,e){var n=[];return t.forEach((function(t){var i=t.attributes[e].value;void 0===n[i]&&(n[i]=[]),n[i].push(t)})),n}(n,e.openTrigger);if(!0!==e.debugMode||!1!==St(n,i))for(var r in i){var o=i[r];e.targetModal=r,e.triggers=At(o),jt=new Mt(e)}},show:function(t,e){var n=e||{};n.targetModal=t,!0===n.debugMode&&!1===Ot(t)||(jt&&jt.removeEventListeners(),(jt=new Mt(n)).showModal())},close:function(t){t?jt.closeModalByIdOrElement(t):jt.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=Pt);const It=Pt;var Bt=function(){function t(t){var e=this;this.handleKeyUp=function(t){32===t.keyCode&&(t.preventDefault(),e.showVideo())},this.handleVideoEmbedClick=function(t){t.preventDefault(),e.showVideo()},this.elem=t,this.originalContent=t,this.content=o(".js-video-content",t),this.link=o(".js-video-link",t),this.iframe=t.getAttribute("data-video"),this.activeClass="has-video",this.hideVideo=this.hideVideo.bind(this),this.init()}return t.prototype.init=function(){this.addListeners()},t.prototype.addListeners=function(){this.link&&(l(this.link,"click",this.handleVideoEmbedClick),l(this.link,"keydown",this.handleKeyUp))},t.prototype.hideVideo=function(){this.elem.classList.remove(this.activeClass),this.content&&(this.content.innerHTML=this.link.outerHTML),this.link=o(".js-video-link",this.elem),this.addListeners()},t.prototype.showVideo=function(){var t=this;if(this.elem.classList.add(this.activeClass),this.iframe){var e,n,i,r=function(t){var e=document.createElement("div");return e.innerHTML=t,0===e.childNodes.length?"":e.childNodes[0].nodeValue}(this.iframe);this.content&&(this.content.innerHTML=r||this.iframe,o("iframe",this.content).ariaLabel="Video player"),e=this.elem,n=function(){t.hideVideo()},(i=new IntersectionObserver((function(t){t.forEach((function(t){0===t.intersectionRatio&&(n(),i.unobserve(e))}))}))).observe(e)}else console.warn("No data-video set for video",this.elem)},t}();s(".js-video").forEach((function(t){return new Bt(t)}));const Nt=Bt;var Ft=function(){function t(t){this.elem=t,this.modalElem=o(".journey-modal--block"),this.swiperClass=".journey-swiper",this.paginationClass=".swiper-pagination",this.paginationEl=o(this.paginationClass),this.swiperParentEl=o(".journey-modal__pagination"),this.swiperParentWrapperEl=o(".journey-modal__pagination-wrapper"),this.activeVideoClass="has-video",this.translate=0,this.halfWindowWidth=window.innerWidth/2,this.closeBtn=o("[data-journey-overlay-close]"),this.loadingEls=s("[data-loading]"),this.swiperInit=this.swiperInit.bind(this),this.swiperUpdate=this.swiperUpdate.bind(this),this.scrollToTop=this.scrollToTop.bind(this),this.handleHashChange=this.handleHashChange.bind(this),this.resetNavigation=this.resetNavigation.bind(this),this.init()}return t.prototype.elementOnLoad=function(t,e){var n,i,r,a,s;(n=t,i=void 0,r=void 0,a=void 0,s=function(){return function(t,e){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(t){switch(t.label){case 0:return null!==o(n)?[3,2]:[4,new Promise((function(t){return window.requestAnimationFrame(t)}))];case 1:return t.sent(),[3,0];case 2:return[2,n]}}))},new(a||(a=Promise))((function(t,e){function n(t){try{l(s.next(t))}catch(t){e(t)}}function o(t){try{l(s.throw(t))}catch(t){e(t)}}function l(e){var i;e.done?t(e.value):(i=e.value,i instanceof a?i:new a((function(t){t(i)}))).then(n,o)}l((s=s.apply(i,r||[])).next())}))).then((function(t){e(t)}))},t.prototype.init=function(){this.swiperInit(),this.addListeners()},t.prototype.getSwiper=function(){return t=this,e=void 0,i=function(){var t=this;return function(t,e){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(e){return[2,a.e(979).then(a.bind(a,236)).then((function(e){var n=e.default;a.e(979).then(a.bind(a,94)).then((function(e){var i=e.Navigation,r=e.Pagination,o=e.HashNavigation,a=e.A11y;t.loadingEls.forEach((function(t){return t.classList.add("has-loaded")})),t.swiperEl=new n(t.swiperClass,{modules:[i,r,o,a],autoHeight:!0,hashNavigation:{replaceState:!0,watchState:!0},navigation:{nextEl:".js-journey-next-button",prevEl:".js-journey-prev-button"},pagination:{el:t.paginationClass,bulletClass:"journey-modal__cb-link",clickable:!0,renderBullet:function(t,e){return'\n                  <a class="journey-modal__cb-link '.concat(e,'" href="#" role="button">\n                    <span class="cb-link__text">\n                      ').concat(["Why Middlebury","Immersive Environments","The Undergraduate Experience","Alumni in the World","Middlebury in the News","Students in Action","Connected Middlebury","Middlebury College","Graduate and Professional Schools"][t],'\n                    </span>\n                    <span class="cb-link__circle-wrapper">\n                      <span class="cb-link__circle inner"></span>\n                      <span class="cb-link__circle outer"></span>\n                    </span>\n                  </a>')}},on:{slideNextTransitionStart:function(t){t.allowSlideNext=!1},slideNextTransitionEnd:function(t){t.allowSlideNext=!0},slidePrevTransitionStart:function(t){t.allowSlidePrev=!1},slidePrevTransitionEnd:function(t){t.allowSlidePrev=!0},transitionStart:function(){t.swiperUpdate(),t.scrollToTop()}}})}))})).catch((function(t){return"An error occurred while loading Swiper"}))]}))},new((n=void 0)||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}));var t,e,n,i},t.prototype.swiperInit=function(){var t=this;this.getSwiper().then((function(){t.closeBtn.focus(),e()("[data-journey-gallery-item] img").observe(),t.swiperParentEl.style.transform="translateX(".concat(t.translate,"px)"),t.initVideoElems()}))},t.prototype.addListeners=function(){var t=this;this.elementOnLoad(".journey-modal__cb-link",(function(e){t.paginationDotEls=s(e),t.paginationDotEls.forEach((function(e){window.matchMedia("(min-width: 1024px)").matches&&(e.addEventListener("mouseenter",(function(e){t.handleMouseEvent(e)})),e.addEventListener("mouseleave",(function(e){t.handleMouseEvent(e)})))}))})),s(".transcript__button").forEach((function(e){e.addEventListener("click",(function(e){var n;null===(n=t.swiperEl)||void 0===n||n.updateAutoHeight(50)}))})),window.matchMedia("(min-width: 512px)").matches&&window.addEventListener("resize",(function(e){clearTimeout(t.timeout),t.timeout=setTimeout(t.resetNavigation,250)})),window.addEventListener("hashchange",(function(e){t.elementOnLoad(".journey-modal--block.is-open",t.handleHashChange)}))},t.prototype.scrollToTop=function(){this.modalElem.scrollTop>0&&ft({targets:this.modalElem,scrollTop:0,easing:"easeInSine",autoplay:!0,duration:300})},t.prototype.handleHashChange=function(){var t,e,n,i=parseInt(window.location.hash.replace("#slide","")),r=window.MicroModal;isNaN(i)?null==r||r.close():i!==(null===(t=this.swiperEl)||void 0===t?void 0:t.activeIndex)?null===(e=this.swiperEl)||void 0===e||e.slideTo(i,300,!1):i==(null===(n=this.swiperEl)||void 0===n?void 0:n.activeIndex)&&this.swiperUpdate()},t.prototype.resetNavigation=function(){this.halfWindowWidth=window.innerWidth/2,this.swiperUpdate()},t.prototype.handleMouseEvent=function(t){var e=t.target.parentElement;"mouseenter"===t.type?e.classList.add("show-label"):"mouseleave"===t.type&&e.classList.remove("show-label")},t.prototype.initVideoElems=function(){s(".js-expand-video",this.elem).forEach((function(t){return new Nt(t)}))},t.prototype.swiperUpdate=function(){var t;this.currentEl=o(".swiper-pagination-bullet-active",this.paginationEl);var e=this.swiperParentEl.scrollWidth;e>this.swiperParentEl.offsetWidth&&(e=this.swiperParentEl.offsetWidth),this.hiddenWidth=e-this.swiperParentWrapperEl.offsetWidth;var n=null===(t=this.currentEl)||void 0===t?void 0:t.getBoundingClientRect().left;this.currentEl&&(this.translate=this.translate+(this.halfWindowWidth-n-16),this.translate>0&&(this.translate=0),Math.abs(this.translate)>this.hiddenWidth&&(this.translate=-this.hiddenWidth),this.translate<=0&&Math.abs(this.translate)<=this.hiddenWidth&&(this.swiperParentEl.style.transform="translateX(".concat(this.translate,"px)")))},t}();const Ht=Ft;var _t=function(){function t(t){this.elem=t,this.journeySections=s(".js-journey-section"),this.firstSection=this.journeySections.shift(),this.animPauseThreshold=0,this.sectionIndex=0,this.sectionNames=["learning","thinking","opportunity"],this.sectionLinksElems={},this.deviceInfo={desktop:{dotsAnimBreaks:[0,34,70],lineAnimBreaks:[25,60,101]},tablet:{dotsAnimBreaks:[0,39,77],lineAnimBreaks:[29,67,101]},mobile:{dotsAnimBreaks:[0,32,70],lineAnimBreaks:[28,65,101]}},this.handleIntersection=this.handleIntersection.bind(this),this.handleScroll=this.handleScroll.bind(this),this.deviceInit=this.deviceInit.bind(this),this.init()}return t.prototype.init=function(){window.location.hash="",this.deviceInit(),this.addListeners(),pt||(this.svgInit(),this.animInit(),this.sectionInit())},t.prototype.deviceInit=function(){this.handleScroll(),window.matchMedia("(min-width: 1024px)").matches?this.deviceType="desktop":window.matchMedia("(min-width: 512px)").matches?this.deviceType="tablet":this.deviceType="mobile",this.pathEl=o(".journey-line--".concat(this.deviceType," path"),this.elem);for(var t=0;t<3;t++)this.sectionLinksElems[t]=o(".journey-links--".concat(this.deviceType," .").concat(this.sectionNames[t]))},t.prototype.addListeners=function(){var t=this;window.addEventListener("resize",(function(e){clearTimeout(t.timeout),t.timeout=setTimeout(t.handleScroll,250)})),this.scrollRef=h(this.handleScroll),Object.values(this.sectionLinksElems).forEach((function(t){return o(".journey--link:last-child",t).addEventListener("animationend",(function(){c(t,"disable-animate")}))}))},t.prototype.handleScroll=function(){this.firstSection.clientHeight-window.innerHeight>-this.firstSection.getBoundingClientRect().top?o(".school-picker").classList.remove("not-fixed"):o(".school-picker").classList.add("not-fixed")},t.prototype.svgInit=function(){this.totalPathLength=this.pathEl.getTotalLength();var t="4, 4",e=t.split(/[\s,]/).map((function(t){return parseFloat(t)||0})).reduce((function(t,e){return t+e}),0),n=Math.ceil(this.totalPathLength/e)+1,i=new Array(n).join(t+" ")+" 0, "+this.totalPathLength;this.pathEl.setAttribute("stroke-dashoffset","".concat(this.totalPathLength)),this.pathEl.setAttribute("stroke-dasharray",i)},t.prototype.animInit=function(){var t=this;this.journeyLineAnimInstance=ft({targets:this.pathEl,strokeDashoffset:[this.totalPathLength,0],duration:1e4,easing:"linear",autoplay:!1,update:function(e){t.animUpdate(e)}})},t.prototype.getAnimationThreshold=function(t,e){return"line"===e?this.deviceInfo[this.deviceType].lineAnimBreaks[t]:this.deviceInfo[this.deviceType].dotsAnimBreaks[t]},t.prototype.animUpdate=function(t){for(var e=Math.round(10*t.progress)/10,n=0;n<this.sectionNames.length;n++)e>=this.getAnimationThreshold(n,"dots")&&(this.sectionIndex=n);c(this.sectionLinksElems[this.sectionIndex],"animate"),e>=this.animPauseThreshold-.5&&e<=this.animPauseThreshold+.5&&this.journeyLineAnimInstance.pause()},t.prototype.sectionInit=function(){var t=this;this.io=new IntersectionObserver(this.handleIntersection,{threshold:.4}),this.journeySections.forEach((function(e){return t.io.observe(e)}))},t.prototype.loadVideo=function(t){var e=o(".journey-section__video",t),n=o("source",e);n.src=n.dataset.src,e.load()},t.prototype.handleIntersection=function(t){var e=this;t.forEach((function(t){if(t.isIntersecting){var n=0,i=t.target.id;i===e.sectionNames[0]?n=0:i===e.sectionNames[1]?n=1:i===e.sectionNames[2]&&(n=2),window.matchMedia("(min-width: 512px)").matches&&!pt&&e.loadVideo(t.target),e.getAnimationThreshold(n,"line")>e.animPauseThreshold&&(e.animPauseThreshold=e.getAnimationThreshold(n,"line"),e.journeyLineAnimInstance.play()),e.io.unobserve(t.target)}}))},t}();It.init({openTrigger:"data-journey-overlay-open",closeTrigger:"data-journey-overlay-close",onShow:function(t){if(!t.swiper){var e=o(".journey-swiper");t.swiper=new Ht(e)}t.swiper&&t.swiper.scrollToTop(),s("[data-journey-overlay-close]",t).forEach((function(t){return t.focus()}))},disableScroll:!0}),s(".journey").forEach((function(t){return new _t(t)}));var Dt=window.matchMedia("(min-aspect-ratio: 16/13) and (max-aspect-ratio: 16/7)").matches,qt=window.innerHeight-o(".journey section").getBoundingClientRect().height,Wt={container:document.body,panelSelector:".journey section",directionThreshold:qt>0?qt:50,delay:0,duration:600,easing:function(t){return t}},Vt=s(".journey");0!==Vt.length&&function(){return t=this,e=void 0,i=function(){var t;return function(t,e){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(e){switch(e.label){case 0:return!Dt||pt?[3,2]:[4,a.e(231).then(a.t.bind(a,59,23))];case 1:t=e.sent().default,Vt.forEach((function(){return new t(Wt)})),e.label=2;case 2:return[2]}}))},new((n=void 0)||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}));var t,e,n,i}().catch((function(t){return"An error occurred while loading panelsnap"}))})()})();