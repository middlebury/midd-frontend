/*! For license information please see journey.bundle.js.LICENSE.txt */
(()=>{var t,e,n,i,o={317:function(t){t.exports=function(){"use strict";function t(){return"undefined"!=typeof window}function e(t){return(r=t)&&r.document&&function(t){return 9===t.nodeType}(r.document)?(n=(e=t).document,i=n.body,o=n.documentElement,{scrollHeight:function(){return Math.max(i.scrollHeight,o.scrollHeight,i.offsetHeight,o.offsetHeight,i.clientHeight,o.clientHeight)},height:function(){return e.innerHeight||o.clientHeight||i.clientHeight},scrollY:function(){return void 0!==e.pageYOffset?e.pageYOffset:(o||i.parentNode||i).scrollTop}}):function(t){return{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}}}(t);var e,n,i,o,r}function n(t,n,i){var o,r=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}(),s=!1,a=e(t),l=a.scrollY(),c={};function u(){var t=Math.round(a.scrollY()),e=a.height(),o=a.scrollHeight();c.scrollY=t,c.lastScrollY=l,c.direction=t>l?"down":"up",c.distance=Math.abs(t-l),c.isOutOfBounds=t<0||t+e>o,c.top=t<=n.offset[c.direction],c.bottom=t+e>=o,c.toleranceExceeded=c.distance>n.tolerance[c.direction],i(c),l=t,s=!1}function d(){s||(s=!0,o=requestAnimationFrame(u))}var h=!!r&&{passive:!0,capture:!1};return t.addEventListener("scroll",d,h),u(),{destroy:function(){cancelAnimationFrame(o),t.removeEventListener("scroll",d,h)}}}function i(t){return t===Object(t)?t:{down:t,up:t}}function o(t,e){e=e||{},Object.assign(this,o.options,e),this.classes=Object.assign({},o.options.classes,e.classes),this.elem=t,this.tolerance=i(this.tolerance),this.offset=i(this.offset),this.initialised=!1,this.frozen=!1}return o.prototype={constructor:o,init:function(){return o.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout((function(t){t.scrollTracker=n(t.scroller,{offset:t.offset,tolerance:t.tolerance},t.update.bind(t))}),100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(t){return"down"===t.direction&&!t.top&&t.toleranceExceeded},shouldPin:function(t){return"up"===t.direction&&t.toleranceExceeded||t.top},addClass:function(t){this.elem.classList.add.apply(this.elem.classList,this.classes[t].split(" "))},removeClass:function(t){this.elem.classList.remove.apply(this.elem.classList,this.classes[t].split(" "))},hasClass:function(t){return this.classes[t].split(" ").every((function(t){return this.classList.contains(t)}),this.elem)},update:function(t){t.isOutOfBounds||!0!==this.frozen&&(t.top?this.top():this.notTop(),t.bottom?this.bottom():this.notBottom(),this.shouldUnpin(t)?this.unpin():this.shouldPin(t)&&this.pin())}},o.options={tolerance:{up:0,down:0},offset:0,scroller:t()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},o.cutsTheMustard=!!(t()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),o}()},510:function(t){t.exports=function(){"use strict";var t="undefined"!=typeof document&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(e){if("picture"===e.nodeName.toLowerCase()){var n=e.querySelector("img"),i=!1;null===n&&(n=document.createElement("img"),i=!0),t&&e.getAttribute("data-iesrc")&&(n.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(n.alt=e.getAttribute("data-alt")),i&&e.append(n)}if("video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var o=e.children,r=void 0,s=0;s<=o.length-1;s++)(r=o[s].getAttribute("data-src"))&&(o[s].src=r);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset"));var a=",";if(e.getAttribute("data-background-delimiter")&&(a=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image"))e.style.backgroundImage="url('"+e.getAttribute("data-background-image").split(a).join("'),url('")+"')";else if(e.getAttribute("data-background-image-set")){var l=e.getAttribute("data-background-image-set").split(a),c=l[0].substr(0,l[0].indexOf(" "))||l[0];c=-1===c.indexOf("url(")?"url("+c+")":c,1===l.length?e.style.backgroundImage=c:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: "+c+"; background-image: -webkit-image-set("+l+"); background-image: image-set("+l+")")}e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function n(t){t.setAttribute("data-loaded",!0)}var i=function(t){return"true"===t.getAttribute("data-loaded")},o=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var t,r,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=Object.assign({},e,a),c=l.root,u=l.rootMargin,d=l.threshold,h=l.load,p=l.loaded,f=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(f=new IntersectionObserver((t=h,r=p,function(e,o){e.forEach((function(e){(0<e.intersectionRatio||e.isIntersecting)&&(o.unobserve(e.target),i(e.target)||(t(e.target),n(e.target),r(e.target)))}))}),{root:c,rootMargin:u,threshold:d}));for(var m,g=o(s,c),v=0;v<g.length;v++)(m=g[v]).getAttribute("data-placeholder-background")&&(m.style.background=m.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=o(s,c),e=0;e<t.length;e++)i(t[e])||(f?f.observe(t[e]):(h(t[e]),n(t[e]),p(t[e])))},triggerLoad:function(t){i(t)||(h(t),n(t),p(t))},observer:f}}}()},976:()=>{!function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),o=window.setTimeout((function(){e(n+i)}),i);return t=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()}},r={};function s(t){var e=r[t];if(void 0!==e)return e.exports;var n=r[t]={exports:{}};return o[t].call(n.exports,n,n.exports,s),n.exports}s.m=o,s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,s.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var o=Object.create(null);s.r(o);var r={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>r[t]=()=>n[t]));return r.default=()=>n,s.d(o,r),o},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce(((e,n)=>(s.f[n](t,e),e)),[])),s.u=t=>({231:"panelsnap",979:"swiper"}[t]+".bundle.js"),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n={},i="midd-frontend:",s.l=(t,e,o,r)=>{if(n[t])n[t].push(e);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==i+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",i+o),a.src=t),n[t]=[e];var h=(e,i)=>{a.onerror=a.onload=null,clearTimeout(p);var o=n[t];if(delete n[t],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((t=>t(i))),e)return e(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.p="/themes/custom/middlebury_theme/js/",(()=>{var t={569:0};s.f.j=(e,n)=>{var i=s.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,o)=>i=t[e]=[n,o]));n.push(i[2]=o);var r=s.p+s.u(e),a=new Error;s.l(r,(n=>{if(s.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,i[1](a)}}),"chunk-"+e,e)}};var e=(e,n)=>{var i,o,[r,a,l]=n,c=0;if(r.some((e=>0!==t[e]))){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);l&&l(s)}for(e&&e(n);c<r.length;c++)o=r[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=globalThis.webpackChunkmidd_frontend=globalThis.webpackChunkmidd_frontend||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),(()=>{"use strict";s(976);var t=s(510),e=s.n(t);e()(".js-lazy-load").observe();var n,i=s(317),o=s.n(i),r=function(t,e){return void 0===e&&(e=document),e.querySelector(t)},a=function(t,e){return void 0===e&&(e=document),Array.from(e.querySelectorAll(t))},l=function(t,e,n){return t.addEventListener(e,n)},c=function(t,e){return t.classList.add(e)},u=r(".js-headroom");if(u&&!r("#toolbar-administration")){n=u.offsetHeight;var d=new(o())(u,{offset:n,tolerance:{up:10,down:0},scroller:r("#midd-journey-overlay")||window});document.body.style.paddingTop=n+"px",d.init(),window.location.hash&&!r("#midd-journey-overlay")&&setTimeout((function(){d.unpin()}),1e3)}function h(t,e){void 0===e&&(e=window);var n=0,i=!1,o=function(e){t(n,e),i=!1},r=function(t){n=t.target.scrollTop||window.pageYOffset,i||(window.requestAnimationFrame(o),i=!0)};return e.addEventListener("scroll",r),{destroy:function(){e.removeEventListener("scroll",r)}}}const p="undefined"!=typeof window,f=p?window:null,m=p?document:null,g={replace:0,none:1,blend:2},v=Symbol(),b=Symbol(),y=Symbol(),_=Symbol(),w=(Symbol(),Symbol()),T=1e-11,k=1e12,E=1e3,C="",A=new Map;A.set("x","translateX"),A.set("y","translateY"),A.set("z","translateZ");const L=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],x=L.reduce(((t,e)=>({...t,[e]:e+"("})),{}),S=()=>{},N=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,j=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,M=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,O=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,I=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,P=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,D=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,B=/([a-z])([A-Z])/g,R=/(\w+)(\([^)]+\)+)/g,F={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:120,loop:0,reversed:!1,alternate:!1,autoplay:!0,duration:E,delay:0,loopDelay:0,ease:"out(2)",composition:g.replace,modifier:t=>t,onBegin:S,onBeforeUpdate:S,onUpdate:S,onLoop:S,onPause:S,onComplete:S,onRender:S},H={defaults:F,root:m,scope:null,precision:4,timeScale:1,tickThreshold:200},q={version:"4.0.1",engine:null};p&&(f.AnimeJS||(f.AnimeJS=[]),f.AnimeJS.push(q));const U=(t,e)=>0===t.indexOf(e),W=Date.now,$=Array.isArray,z=t=>t&&t.constructor===Object,V=t=>"number"==typeof t&&!isNaN(t),Y=t=>"string"==typeof t,K=t=>"function"==typeof t,X=t=>void 0===t,G=t=>X(t)||null===t,Z=t=>p&&t instanceof SVGElement,J=t=>N.test(t),Q=t=>U(t,"rgb"),tt=t=>U(t,"hsl"),et=t=>!H.defaults.hasOwnProperty(t),nt=t=>Y(t)?parseFloat(t):t,it=Math.pow,ot=Math.sqrt,rt=Math.sin,st=Math.cos,at=Math.abs,lt=(Math.exp,Math.ceil),ct=Math.floor,ut=Math.asin,dt=(Math.max,Math.atan2,Math.PI),ht=Math.round,pt=(t,e,n)=>t<e?e:t>n?n:t,ft={},mt=(t,e)=>{if(e<0)return t;if(!e)return ht(t);let n=ft[e];return n||(n=ft[e]=10**e),ht(t*n)/n},gt=(t,e,n)=>t+(e-t)*n,vt=t=>t===1/0?k:t===-1/0?-1e12:t,bt=t=>t<T?T:t,yt=t=>$(t)?[...t]:t,_t=(t,e,n,i="_prev",o="_next")=>{let r=t._head,s=o;for(n&&(r=t._tail,s=i);r;){const t=r[s];e(r),r=t}},wt=(t,e,n="_prev",i="_next")=>{const o=e[n],r=e[i];o?o[i]=r:t._head=r,r?r[n]=o:t._tail=o,e[n]=null,e[i]=null},Tt=(t,e,n,i="_prev",o="_next")=>{let r=t._tail;for(;r&&n&&n(r,e);)r=r[i];const s=r?r[o]:t._head;r?r[o]=e:t._head=e,s?s[i]=e:t._tail=e,e[i]=r,e[o]=s};class kt{constructor(t=0){this.deltaTime=0,this._currentTime=t,this._elapsedTime=t,this._startTime=t,this._lastTime=t,this._scheduledTime=0,this._frameDuration=mt(E/120,0),this._fps=120,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(t){const e=this._frameDuration,n=+t,i=n<T?T:n,o=mt(E/i,0);this._fps=i,this._frameDuration=o,this._scheduledTime+=o-e}get speed(){return this._speed}set speed(t){const e=+t;this._speed=e<T?T:e}requestTick(t){const e=this._scheduledTime,n=this._elapsedTime;if(this._elapsedTime+=t-n,n<e)return 0;const i=this._frameDuration,o=n-e;return this._scheduledTime+=o<i?i:o,1}computeDeltaTime(t){const e=t-this._lastTime;return this.deltaTime=e,this._lastTime=t,e}}const Et=(t,e,n,i,o)=>{const r=t.parent,s=t.duration,a=t.completed,l=t.iterationDuration,c=t.iterationCount,u=t._currentIteration,d=t._loopDelay,h=t._reversed,p=t._alternate,f=t._hasChildren,m=t._delay,v=t._currentTime,b=m+l,y=e-m,w=pt(v,-m,s),k=pt(y,-m,s),E=y-v,A=k>0,L=k>=s,S=s<=T,N=2===o;let j=0,M=y,O=0;if(c>1){const e=~~(k/(l+(L?0:d)));t._currentIteration=pt(e,0,c),L&&t._currentIteration--,j=t._currentIteration%2,M=k%(l+d)||0}const I=h^(p&&j),P=t._ease;let D=L?I?0:s:I?l-M:M;P&&(D=l*P(D/l)||0);const B=(r?r.backwards:y<v)?!I:!!I;if(t._currentTime=y,t._iterationTime=D,t.backwards=B,A&&!t.began?(t.began=!0,n||r&&(B||!r.began)||t.onBegin(t)):y<=0&&(t.began=!1),n||f||!A||t._currentIteration===u||t.onLoop(t),N||1===o&&(e>=m&&e<=b||e<=m&&w>m||e>=b&&w!==s)||D>=b&&w!==s||D<=m&&w>0||e<=w&&w===s&&a||L&&!a&&S){if(A&&(t.computeDeltaTime(w),n||t.onBeforeUpdate(t)),!f){const e=N||(B?-1*E:E)>=H.tickThreshold,o=t._offset+(r?r._offset:0)+m+D;let s,a,l,c,u=t._head,d=0;for(;u;){const t=u._composition,n=u._currentTime,r=u._changeDuration,h=u._absoluteStartTime+u._changeDuration,p=u._nextRep,f=u._prevRep,m=t!==g.none;if((e||(n!==r||o<=h+(p?p._delay:0))&&(0!==n||o>=u._absoluteStartTime))&&(!m||!u._isOverridden&&(!u._isOverlapped||o<=h)&&(!p||p._isOverridden||o<=p._absoluteStartTime)&&(!f||f._isOverridden||o>=f._absoluteStartTime+f._changeDuration+u._delay))){const e=u._currentTime=pt(D-u._startTime,0,r),n=u._ease(e/u._updateDuration),o=u._modifier,h=u._valueType,p=u._tweenType,f=0===p,v=0===h,b=v&&f||0===n||1===n?-1:H.precision;let y,w;if(v)y=w=o(mt(gt(u._fromNumber,u._toNumber,n),b));else if(1===h)w=o(mt(gt(u._fromNumber,u._toNumber,n),b)),y=`${w}${u._unit}`;else if(2===h){const t=u._fromNumbers,e=u._toNumbers,i=mt(pt(o(gt(t[0],e[0],n)),0,255),0),r=mt(pt(o(gt(t[1],e[1],n)),0,255),0),s=mt(pt(o(gt(t[2],e[2],n)),0,255),0),a=pt(o(mt(gt(t[3],e[3],n),b)),0,1);if(y=`rgba(${i},${r},${s},${a})`,m){const t=u._numbers;t[0]=i,t[1]=r,t[2]=s,t[3]=a}}else if(3===h){y=u._strings[0];for(let t=0,e=u._toNumbers.length;t<e;t++){const e=o(mt(gt(u._fromNumbers[t],u._toNumbers[t],n),b)),i=u._strings[t+1];y+=`${i?e+i:e}`,m&&(u._numbers[t]=e)}}if(m&&(u._number=w),i||t===g.blend)u._value=y;else{const t=u.property;s=u.target,f?s[t]=y:1===p?s.setAttribute(t,y):(a=s.style,3===p?(s!==l&&(l=s,c=s[_]),c[t]=y,d=1):2===p?a[t]=y:4===p&&a.setProperty(t,y)),A&&(O=1)}}if(d&&u._renderTransforms){let t=C;for(let e in c)t+=`${x[e]}${c[e]}) `;a.transform=t,d=0}u=u._next}!n&&O&&t.onRender(t)}!n&&A&&t.onUpdate(t)}return r&&S?!n&&(r.began&&!B&&y>=s&&!a||B&&y<=T&&a)&&(t.onComplete(t),t.completed=!B):A&&L?c===1/0?t._startTime+=t.duration:t._currentIteration>=c-1&&(t.paused=!0,a||f||(t.completed=!0,n||r&&(B||!r.began)||(t.onComplete(t),t._resolve(t)))):t.completed=!1,O},Ct=(t,e,n,i,o)=>{const r=t._currentIteration;if(Et(t,e,n,i,o),t._hasChildren){const s=t,a=s.backwards,l=i?e:s._iterationTime,c=W();let u=0,d=!0;if(!i&&s._currentIteration!==r){const t=s.iterationDuration;_t(s,(e=>{if(a){const i=e.duration,o=e._offset+e._delay;n||!(i<=T)||o&&o+i!==t||e.onComplete(e)}else!e.completed&&!e.backwards&&e._currentTime<e.iterationDuration&&Et(e,t,n,1,2),e.began=!1,e.completed=!1})),n||s.onLoop(s)}_t(s,(t=>{const e=mt((l-t._offset)*t._speed,12),r=t._fps<s._fps?t.requestTick(c):o;u+=Et(t,e,n,i,r),!t.completed&&d&&(d=!1)}),a),!n&&u&&s.onRender(s),d&&s._currentTime>=s.duration&&(s.paused=!0,s.completed||(s.completed=!0,n||(s.onComplete(s),s._resolve(s))))}},At={animation:null,update:S},Lt=p?requestAnimationFrame:setImmediate,xt=p?cancelAnimationFrame:clearImmediate;class St extends kt{constructor(t){super(t),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=F,this.paused=!(!p||!m.hidden),this.reqId=null}update(){const t=this._currentTime=W();if(this.requestTick(t)){this.computeDeltaTime(t);const e=this._speed,n=this._fps;let i=this._head;for(;i;){const o=i._next;i.paused?(wt(this,i),this._hasChildren=!!this._tail,i._running=!1,i.completed&&!i._cancelled&&i.cancel()):Ct(i,(t-i._startTime)*i._speed*e,0,0,i._fps<n?i.requestTick(t):1),i=o}At.update()}}wake(){return!this.useDefaultMainLoop||this.reqId||this.paused||(this.reqId=Lt(jt)),this}pause(){return this.paused=!0,Mt()}resume(){if(this.paused)return this.paused=!1,_t(this,(t=>t.resetTime())),this.wake()}get speed(){return this._speed*(1===H.timeScale?1:E)}set speed(t){this._speed=t*H.timeScale,_t(this,(t=>t.speed=t._speed))}get timeUnit(){return 1===H.timeScale?"ms":"s"}set timeUnit(t){const e="s"===t,n=e?.001:1;if(H.timeScale!==n){H.timeScale=n,H.tickThreshold=200*n;const t=e?.001:E;this.defaults.duration*=t,this._speed*=t}}get precision(){return H.precision}set precision(t){H.precision=t}}const Nt=(()=>{const t=new St(W());return p&&(q.engine=t,m.addEventListener("visibilitychange",(()=>{t.pauseOnDocumentHidden&&(m.hidden?t.pause():t.resume())}))),t})(),jt=()=>{Nt._head?(Nt.reqId=Lt(jt),Nt.update()):Nt.reqId=0},Mt=()=>(xt(Nt.reqId),Nt.reqId=0,Nt);function Ot(t){const e=Y(t)?H.root.querySelectorAll(t):t;if(e instanceof NodeList||e instanceof HTMLCollection)return e}function It(t){if(G(t))return[];if($(t)){const e=t.flat(1/0),n=[];for(let t=0,i=e.length;t<i;t++){const i=e[t];if(!G(i)){const t=Ot(i);if(t)for(let e=0,i=t.length;e<i;e++){const i=t[e];if(!G(i)){let t=!1;for(let e=0,o=n.length;e<o;e++)if(n[e]===i){t=!0;break}t||n.push(i)}}else{let t=!1;for(let e=0,o=n.length;e<o;e++)if(n[e]===i){t=!0;break}t||n.push(i)}}}return n}if(!p)return[t];const e=Ot(t);return e?Array.from(e):[t]}function Pt(t){const e=It(t),n=e.length;if(n)for(let t=0;t<n;t++){const n=e[t];if(!n[v]){n[v]=!0;const t=Z(n);(n.nodeType||t)&&(n[b]=!0,n[y]=t,n[_]={})}}return e}const Dt=["opacity","rotate","overflow","color"],Bt=(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),Rt=(t,e)=>X(t)?e:t,Ft=(t,e,n,i,o)=>{if(K(t)){const r=()=>{const o=t(e,n,i);return isNaN(+o)?o||0:+o};return o&&(o.func=r),r()}return t},Ht=(t,e)=>t[b]?t[y]&&((t,e)=>{if(Dt.includes(e))return!1;if(t.getAttribute(e)||e in t){if("scale"===e){const e=t.parentNode;return e&&"filter"===e.tagName}return!0}})(t,e)?1:L.includes(e)||A.get(e)?3:U(e,"--")?4:e in t.style?2:e in t?0:1:0,qt=(t,e,n)=>{const i=t.style[e];i&&n&&(n[e]=i);const o=i||getComputedStyle(t[w]||t).getPropertyValue(e);return"auto"===o?"0":o},Ut=(t,e,n,i)=>{const o=X(n)?Ht(t,e):n;return 0===o?t[e]||0:1===o?t.getAttribute(e):3===o?((t,e,n)=>{const i=t.style.transform;let o;if(i){const r=t[_];let s;for(;s=R.exec(i);){const t=s[1],i=s[2].slice(1,-1);r[t]=i,t===e&&(o=i,n&&(n[e]=i))}}return i&&!X(o)?o:U(e,"scale")?"1":U(e,"rotate")||U(e,"skew")?"0deg":"0px"})(t,e,i):4===o?qt(t,e,i).trimStart():qt(t,e,i)},Wt=(t,e,n)=>"-"===n?t-e:"+"===n?t+e:t*e,$t=(t,e)=>{if(e.t=0,e.n=0,e.u=null,e.o=null,e.d=null,e.s=null,!t)return e;const n=+t;if(isNaN(n)){let n=t;"="===n[1]&&(e.o=n[0],n=n.slice(2));const o=!n.includes(" ")&&D.exec(n);if(o)return e.t=1,e.n=+o[1],e.u=o[2],e;if(e.o)return e.n=+n,e;if((t=>J(t)||Q(t)||tt(t))(n))return e.t=2,e.d=Q(i=n)?(t=>{const e=j.exec(t)||M.exec(t),n=X(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],n]})(i):J(i)?(t=>{const e=t.length,n=4===e||5===e;return[+("0x"+t[1]+t[n?1:2]),+("0x"+t[n?2:3]+t[n?2:4]),+("0x"+t[n?3:5]+t[n?3:6]),5===e||9===e?+(+("0x"+t[n?4:7]+t[n?4:8])/255).toFixed(3):1]})(i):tt(i)?(t=>{const e=O.exec(t)||I.exec(t),n=+e[1]/360,i=+e[2]/100,o=+e[3]/100,r=X(e[4])?1:+e[4];let s,a,l;if(0===i)s=a=l=o;else{const t=o<.5?o*(1+i):o+i-o*i,e=2*o-t;s=mt(255*Bt(e,t,n+1/3),0),a=mt(255*Bt(e,t,n),0),l=mt(255*Bt(e,t,n-1/3),0)}return[s,a,l,r]})(i):[0,0,0,1],e;{const t=n.match(P);return e.t=3,e.d=t?t.map(Number):[],e.s=n.split(P)||[],e}}var i;return e.n=n,e},zt=(t,e)=>(e.t=t._valueType,e.n=t._toNumber,e.u=t._unit,e.o=null,e.d=yt(t._toNumbers),e.s=yt(t._strings),e),Vt={t:0,n:0,u:null,o:null,d:null,s:null},Yt={_rep:new WeakMap,_add:new Map},Kt=(t,e,n="_rep")=>{const i=Yt[n];let o=i.get(t);return o||(o={},i.set(t,o)),o[e]?o[e]:o[e]={_head:null,_tail:null}},Xt=(t,e)=>t._isOverridden||t._absoluteStartTime>e._absoluteStartTime,Gt=t=>{t._isOverlapped=1,t._isOverridden=1,t._changeDuration=T,t._currentTime=T},Zt=(t,e)=>{const n=t._composition;if(n===g.replace){const n=t._absoluteStartTime;Tt(e,t,Xt,"_prevRep","_nextRep");const i=t._prevRep;if(i){const e=i.parent,o=i._absoluteStartTime+i._changeDuration;if(t.parent.id!==e.id&&e.iterationCount>1&&o+(e.duration-e.iterationDuration)>n){Gt(i);let t=i._prevRep;for(;t&&t.parent.id===e.id;)Gt(t),t=t._prevRep}const r=n-t._delay;if(o>r){const t=i._startTime,e=o-(t+i._updateDuration);i._changeDuration=r-e-t,i._currentTime=i._changeDuration,i._isOverlapped=1,i._changeDuration<T&&Gt(i)}let s=!0;if(_t(e,(t=>{t._isOverlapped||(s=!1)})),s){const t=e.parent;if(t){let n=!0;_t(t,(t=>{t!==e&&_t(t,(t=>{t._isOverlapped||(n=!1)}))})),n&&t.cancel()}else e.cancel()}}}else if(n===g.blend){const e=Kt(t.target,t.property,"_add"),n=(t=>{let e=At.animation;return e||(e={duration:T,computeDeltaTime:S,_offset:0,_delay:0,_head:null,_tail:null},At.animation=e,At.update=()=>{t.forEach((t=>{for(let e in t){const n=t[e],i=n._head;if(i){const t=i._valueType,e=3===t||2===t?yt(i._fromNumbers):null;let o=i._fromNumber,r=n._tail;for(;r&&r!==i;){if(e)for(let t=0,n=r._numbers.length;t<n;t++)e[t]+=r._numbers[t];else o+=r._number;r=r._prevAdd}i._toNumber=o,i._toNumbers=e}}})),Et(e,1,1,0,2)}),e})(Yt._add);let i=e._head;i||(i={...t},i._composition=g.replace,i._updateDuration=T,i._startTime=0,i._numbers=yt(t._fromNumbers),i._number=0,i._next=null,i._prev=null,Tt(e,i),Tt(n,i));const o=t._toNumber;if(t._fromNumber=i._fromNumber-o,t._toNumber=0,t._numbers=yt(t._fromNumbers),t._number=0,i._fromNumber=o,t._toNumbers){const e=yt(t._toNumbers);e&&e.forEach(((e,n)=>{t._fromNumbers[n]=i._fromNumbers[n]-e,t._toNumbers[n]=0})),i._fromNumbers=e}Tt(e,t,null,"_prevAdd","_nextAdd")}return t},Jt=t=>{const e=t._composition;if(e!==g.none){const n=t.target,i=t.property,o=Yt._rep.get(n)[i];if(wt(o,t,"_prevRep","_nextRep"),e===g.blend){const e=Yt._add,o=e.get(n);if(!o)return;const r=o[i],s=At.animation;wt(r,t,"_prevAdd","_nextAdd");const a=r._head;if(a&&a===r._tail){wt(r,a,"_prevAdd","_nextAdd"),wt(s,a);let t=!0;for(let e in o)if(o[e]._head){t=!1;break}t&&e.delete(n)}}}return t},Qt=t=>(t.paused=!0,t.began=!1,t.completed=!1,t),te=t=>t._cancelled?(t._hasChildren?_t(t,te):_t(t,(t=>{t._composition!==g.none&&Zt(t,Kt(t.target,t.property))})),t._cancelled=0,t):t;let ee=0;class ne extends kt{constructor(t={},e=null,n=0){super(0);const{id:i,delay:o,duration:r,reversed:s,alternate:a,loop:l,loopDelay:c,autoplay:u,frameRate:d,playbackRate:h,onComplete:p,onLoop:f,onPause:m,onBegin:g,onBeforeUpdate:v,onUpdate:b}=t;H.scope&&H.scope.revertibles.push(this);const y=e?0:Nt._elapsedTime,_=e?e.defaults:H.defaults,w=K(o)||X(o)?_.delay:+o,k=K(r)||X(r)?1/0:+r,E=Rt(l,_.loop),C=Rt(c,_.loopDelay),A=!0===E||E===1/0||E<0?1/0:E+1;let L=0;if(e)L=n;else{let t=W();Nt.paused&&(Nt.requestTick(t),t=Nt._elapsedTime),L=t-Nt._startTime}this.id=X(i)?++ee:i,this.parent=e,this.duration=vt((k+C)*A-C)||T,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=g||_.onBegin,this.onBeforeUpdate=v||_.onBeforeUpdate,this.onUpdate=b||_.onUpdate,this.onLoop=f||_.onLoop,this.onPause=m||_.onPause,this.onComplete=p||_.onComplete,this.iterationDuration=k,this.iterationCount=A,this._autoplay=!e&&Rt(u,_.autoplay),this._offset=L,this._delay=w,this._loopDelay=C,this._iterationTime=0,this._currentIteration=0,this._resolve=S,this._running=!1,this._reversed=+Rt(s,_.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=Rt(a,_.alternate),this._prev=null,this._next=null,this._elapsedTime=y,this._startTime=y,this._lastTime=y,this._fps=Rt(d,_.frameRate),this._speed=Rt(h,_.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(t){t?this.cancel():this.reset(1).play()}get currentTime(){return pt(mt(this._currentTime,H.precision),-this._delay,this.duration)}set currentTime(t){const e=this.paused;this.pause().seek(+t),e||this.resume()}get iterationCurrentTime(){return mt(this._iterationTime,H.precision)}set iterationCurrentTime(t){this.currentTime=this.iterationDuration*this._currentIteration+t}get progress(){return pt(mt(this._currentTime/this.duration,5),0,1)}set progress(t){this.currentTime=this.duration*t}get iterationProgress(){return pt(mt(this._iterationTime/this.iterationDuration,5),0,1)}set iterationProgress(t){const e=this.iterationDuration;this.currentTime=e*this._currentIteration+e*t}get currentIteration(){return this._currentIteration}set currentIteration(t){this.currentTime=this.iterationDuration*pt(+t,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(t){t?this.reverse():this.play()}get speed(){return super.speed}set speed(t){super.speed=t,this.resetTime()}reset(t=0){return te(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,Ct(this,0,1,t,2),Qt(this),this._hasChildren&&_t(this,Qt),this}init(t=0){this.fps=this._fps,this.speed=this._speed,!t&&this._hasChildren&&Ct(this,this.duration,1,t,2),this.reset(t);const e=this._autoplay;return!0===e?this.resume():e&&!X(e.linked)&&e.link(this),this}resetTime(){const t=1/(this._speed*Nt._speed);return this._startTime=W()-(this._currentTime+this._delay)*t,this}pause(){return this.paused||(this.paused=!0,this.onPause(this)),this}resume(){return this.paused?(this.paused=!1,this.duration<=T&&!this._hasChildren?Ct(this,T,0,0,2):(this._running||(Tt(Nt,this),Nt._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,Nt.wake()),this):this}restart(){return this.reset(0).resume()}seek(t,e=0,n=0){te(this),this.completed=!1;const i=this.paused;return this.paused=!0,Ct(this,t+this._delay,~~e,~~n,1),i?this:this.resume()}alternate(){const t=this._reversed,e=this.iterationCount,n=this.iterationDuration,i=e===1/0?ct(k/n):e;return this._reversed=+(!this._alternate||i%2?!t:t),e===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(n*i-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?_t(this,(t=>t.cancel()),!0):_t(this,Jt),this._cancelled=1,this.pause()}stretch(t){const e=this.duration;if(e===bt(t))return this;const n=t/e,i=t<=T;return this.duration=i?T:bt(vt(mt(e*n,12))),this.iterationDuration=i?T:bt(vt(mt(this.iterationDuration*n,12))),this._offset*=n,this._delay*=n,this._loopDelay*=n,this}revert(){Ct(this,0,1,0,1);const t=this._autoplay;return t&&t.linked&&t.linked===this&&t.revert(),this.cancel()}complete(){return this.seek(this.duration).cancel()}then(t=S){const e=this.then,n=()=>{this.then=null,t(this),this.then=e,this._resolve=S};return new Promise((t=>(this._resolve=()=>t(n()),this.completed&&this._resolve(),this)))}}const ie=t=>t,oe=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,re=(t=.5,e=0,n=.5,i=1)=>t===e&&n===i?ie:o=>0===o||1===o?o:oe(((t,e,n)=>{let i,o,r=0,s=1,a=0;do{o=r+(s-r)/2,i=oe(o,e,n)-t,i>0?s=o:r=o}while(at(i)>1e-7&&++a<100);return o})(o,t,n),e,i),se=(t=10,e)=>{const n=e?lt:ct;return e=>n(pt(e,0,1)*t)*(1/t)},ae=(...t)=>{const e=t.length;if(!e)return ie;const n=e-1,i=t[0],o=t[n],r=[0],s=[nt(i)];for(let e=1;e<n;e++){const i=t[e],o=Y(i)?i.trim().split(" "):[i],a=o[0],l=o[1];r.push(X(l)?e/n:nt(l)/100),s.push(nt(a))}return s.push(nt(o)),r.push(1),function(t){for(let e=1,n=r.length;e<n;e++){const n=r[e];if(t<=n){const i=r[e-1],o=s[e-1];return o+(s[e]-o)*(t-i)/(n-i)}}return s[s.length-1]}},le=(t=10,e=1)=>{const n=[0],i=t-1;for(let t=1;t<i;t++){const o=n[t-1],r=t/i,s=r*(1-e)+(r+((t+1)/i-r)*Math.random())*e;n.push(pt(s,o,1))}return n.push(1),ae(...n)},ce=dt/2,ue=2*dt,de=(t=1.68)=>e=>it(e,+t),he={[C]:de,Quad:de(2),Cubic:de(3),Quart:de(4),Quint:de(5),Sine:t=>1-st(t*ce),Circ:t=>1-ot(1-t*t),Expo:t=>t?it(2,10*t-10):0,Bounce:t=>{let e,n=4;for(;t<((e=it(2,--n))-1)/11;);return 1/it(4,3-n)-7.5625*it((3*e-2)/22-t,2)},Back:(t=1.70158)=>e=>(+t+1)*e*e*e-+t*e*e,Elastic:(t=1,e=.3)=>{const n=pt(+t,1,10),i=pt(+e,T,2),o=i/ue*ut(1/n),r=ue/i;return t=>0===t||1===t?t:-n*it(2,-10*(1-t))*rt((1-t-o)*r)}},pe={in:t=>e=>t(e),out:t=>e=>1-t(1-e),inOut:t=>e=>e<.5?t(2*e)/2:1-t(-2*e+2)/2,outIn:t=>e=>e<.5?(1-t(1-2*e))/2:(t(2*e-1)+1)/2},fe=(()=>{const t={linear:ae,irregular:le,steps:se,cubicBezier:re};for(let e in pe)for(let n in he){const i=he[n],o=pe[e];t[e+n]=n===C||"Back"===n||"Elastic"===n?(t,e)=>o(i(t,e)):o(i)}return t})(),me={linear:ie},ge=t=>K(t)?t:Y(t)?((t,e,n)=>{if(n[t])return n[t];if(t.indexOf("(")<=-1){const i=pe[t]||t.includes("Back")||t.includes("Elastic")?e[t]():e[t];return i?n[t]=i:ie}{const i=t.slice(0,-1).split("("),o=e[i[0]];return o?n[t]=o(...i[1].split(",")):ie}})(t,fe,me):ie,ve={},be=(t,e,n)=>{if(3===n){return A.get(t)||t}if(2===n||1===n&&Z(e)&&t in e.style){const e=ve[t];if(e)return e;{const e=t?t.replace(B,"$1-$2").toLowerCase():t;return ve[t]=e,e}}return t},ye={deg:1,rad:180/dt,turn:360},_e={},we=(t,e,n,i=!1)=>{const o=e.u,r=e.n;if(1===e.t&&o===n)return e;const s=r+o+n,a=_e[s];if(X(a)||i){let i;if(o in ye)i=r*ye[o]/ye[n];else{const e=100,s=t.cloneNode(),a=t.parentNode,l=a&&a!==m?a:m.body;l.appendChild(s);const c=s.style;c.width=e+o;const u=s.offsetWidth||e;c.width=e+n;const d=u/(s.offsetWidth||e);l.removeChild(s),i=d*r}e.n=i,_e[s]=i}else e.n=a;return e.t,e.u=n,e},Te=t=>{if(t._hasChildren)_t(t,Te,!0);else{const e=t;e.pause(),_t(e,(t=>{const n=t.property,i=t.target;if(i[b]){const o=i.style,r=e._inlineStyles[n];if(3===t._tweenType){const e=i[_];if(X(r)||r===C?delete e[n]:e[n]=r,t._renderTransforms)if(Object.keys(e).length){let t=C;for(let n in e)t+=x[n]+e[n]+") ";o.transform=t}else o.removeProperty("transform")}else X(r)||r===C?o.removeProperty(n):o[n]=r;e._tail===t&&e.targets.forEach((t=>{t.getAttribute&&t.getAttribute("style")===C&&t.removeAttribute("style")}))}}))}return t},ke={t:0,n:0,u:null,o:null,d:null,s:null},Ee={t:0,n:0,u:null,o:null,d:null,s:null},Ce={func:null},Ae=[null],Le=[null,null],xe={to:null};let Se,Ne,je=0;class Me extends ne{constructor(t,e,n,i,o=!1,r=0,s=0){super(e,n,i);const a=Pt(t),l=a.length,c=e.keyframes,u=c?((t,e)=>{const n={...t};for(let i in e){const o=t[i];n[i]=X(o)?e[i]:o}return n})(((t,e)=>{const n={};if($(t)){const e=[].concat(...t.map((t=>Object.keys(t)))).filter(et);for(let i=0,o=e.length;i<o;i++){const o=e[i],r=t.map((t=>{const e={};for(let n in t){const i=t[n];et(n)?n===o&&(e.to=i):e[n]=i}return e}));n[o]=r}}else{const i=Rt(e.duration,H.defaults.duration),o=Object.keys(t).map((e=>({o:parseFloat(e)/100,p:t[e]}))).sort(((t,e)=>t.o-e.o));o.forEach((t=>{const e=t.o,o=t.p;for(let t in o)if(et(t)){let r=n[t];r||(r=n[t]=[]);const s=e*i;let a=r.length,l=r[a-1];const c={to:o[t]};let u=0;for(let t=0;t<a;t++)u+=r[t].duration;1===a&&(c.from=l.to),o.ease&&(c.ease=o.ease),c.duration=s-(a?u:0),r.push(c)}return t}));for(let t in n){const e=n[t];let i;for(let t=0,n=e.length;t<n;t++){const n=e[t],o=n.ease;n.ease=i||void 0,i=o}e[0].duration||e.shift()}}return n})(c,e),e):e,{delay:d,duration:h,ease:p,playbackEase:f,modifier:m,composition:v,onRender:b}=u,y=n?n.defaults:H.defaults,_=Rt(f,y.playbackEase),w=_?ge(_):null,k=!X(p)&&!X(p.ease),C=k?p.ease:Rt(p,w?"linear":y.ease),A=k?p.duration:Rt(h,y.duration),L=Rt(d,y.delay),x=m||y.modifier,S=X(v)&&l>=E?g.none:X(v)?y.composition:v,N={},j=this._offset+(n?n._offset:0);let M=NaN,O=NaN,I=0,P=0;for(let t=0;t<l;t++){const e=a[t],i=r||t,c=s||l;let d=NaN,h=NaN;for(let t in u)if(et(t)){const r=Ht(e,t),s=be(t,e,r);let a=u[t];const l=$(a);if(o&&!l&&(Le[0]=a,Le[1]=a,a=Le),l){const t=a.length,e=!z(a[0]);2===t&&e?(xe.to=a,Ae[0]=xe,Se=Ae):t>2&&e?(Se=[],a.forEach(((t,e)=>{e?1===e?(Le[1]=t,Se.push(Le)):Se.push(t):Le[0]=t}))):Se=a}else Ae[0]=a,Se=Ae;let p=null,f=null,m=NaN,v=0,b=0;for(let t=Se.length;b<t;b++){const o=Se[b];z(o)?Ne=o:(xe.to=o,Ne=xe),Ce.func=null;const a=Ft(Ne.to,e,i,c,Ce);let l;z(a)&&!X(a.to)?(Ne=a,l=a.to):l=a;const u=Ft(Ne.from,e,i,c),d=Ne.ease,h=!X(d)&&!X(d.ease),y=h?d.ease:d||C,_=h?d.duration:Ft(Rt(Ne.duration,t>1?Ft(A,e,i,c)/t:A),e,i,c),w=Ft(Rt(Ne.delay,b?0:L),e,i,c),k=Ft(Rt(Ne.composition,S),e,i,c),E=V(k)?k:g[k],M=Ne.modifier||x,O=!X(u),D=!X(l),B=$(l),R=B||O&&D,F=f?v+w:w,H=j+F;P||!O&&!B||(P=1);let q=f;if(E!==g.none){p||(p=Kt(e,s));let t=p._head;for(;t&&!t._isOverridden&&t._absoluteStartTime<=H;)if(q=t,t=t._nextRep,t&&t._absoluteStartTime>=H)for(;t;)Gt(t),t=t._nextRep}if(R?($t(B?Ft(l[0],e,i,c):u,ke),$t(B?Ft(l[1],e,i,c,Ce):l,Ee),0===ke.t&&(q?1===q._valueType&&(ke.t=1,ke.u=q._unit):($t(Ut(e,s,r,N),Vt),1===Vt.t&&(ke.t=1,ke.u=Vt.u)))):(D?$t(l,Ee):f?zt(f,Ee):$t(n&&q&&q.parent.parent===n?q._value:Ut(e,s,r,N),Ee),O?$t(u,ke):f?zt(f,ke):$t(n&&q&&q.parent.parent===n?q._value:Ut(e,s,r,N),ke)),ke.o&&(ke.n=Wt(q?q._toNumber:$t(Ut(e,s,r,N),Vt).n,ke.n,ke.o)),Ee.o&&(Ee.n=Wt(ke.n,Ee.n,Ee.o)),ke.t!==Ee.t)if(3===ke.t||3===Ee.t){const t=3===ke.t?ke:Ee,e=3===ke.t?Ee:ke;e.t=3,e.s=yt(t.s),e.d=t.d.map((()=>e.n))}else if(1===ke.t||1===Ee.t){const t=1===ke.t?ke:Ee,e=1===ke.t?Ee:ke;e.t=1,e.u=t.u}else if(2===ke.t||2===Ee.t){const t=2===ke.t?ke:Ee,e=2===ke.t?Ee:ke;e.t=2,e.s=t.s,e.d=[0,0,0,1]}if(ke.u!==Ee.u){let t=Ee.u?ke:Ee;t=we(e,t,Ee.u?Ee.u:ke.u,!1)}if(Ee.d&&ke.d&&Ee.d.length!==ke.d.length){const t=ke.d.length>Ee.d.length?ke:Ee,e=t===ke?Ee:ke;e.d=t.d.map(((t,n)=>X(e.d[n])?0:e.d[n])),e.s=yt(t.s)}const U=mt(+_||T,12),W={parent:this,id:je++,property:s,target:e,_value:null,_func:Ce.func,_ease:ge(y),_fromNumbers:yt(ke.d),_toNumbers:yt(Ee.d),_strings:yt(Ee.s),_fromNumber:ke.n,_toNumber:Ee.n,_numbers:yt(ke.d),_number:ke.n,_unit:Ee.u,_modifier:M,_currentTime:0,_startTime:F,_delay:+w,_updateDuration:U,_changeDuration:U,_absoluteStartTime:H,_tweenType:r,_valueType:Ee.t,_composition:E,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};E!==g.none&&Zt(W,p),isNaN(m)&&(m=W._startTime),v=mt(F+U,12),f=W,I++,Tt(this,W)}(isNaN(O)||m<O)&&(O=m),(isNaN(M)||v>M)&&(M=v),3===r&&(d=I-b,h=I)}if(!isNaN(d)){let t=0;_t(this,(e=>{t>=d&&t<h&&(e._renderTransforms=1,e._composition===g.blend&&_t(At.animation,(t=>{t.id===e.id&&(t._renderTransforms=1)}))),t++}))}}l||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),O?(_t(this,(t=>{t._startTime-t._delay||(t._delay-=O),t._startTime-=O})),M-=O):O=0,M||(M=T,this.iterationCount=0),this.targets=a,this.duration=M===T?T:vt((M+this._loopDelay)*this.iterationCount-this._loopDelay)||T,this.onRender=b||y.onRender,this._ease=w,this._delay=O,this.iterationDuration=M,this._inlineStyles=N,!this._autoplay&&P&&this.onRender(this)}stretch(t){const e=this.duration;if(e===bt(t))return this;const n=t/e;return _t(this,(t=>{t._updateDuration=bt(mt(t._updateDuration*n,12)),t._changeDuration=bt(mt(t._changeDuration*n,12)),t._currentTime*=n,t._startTime*=n,t._absoluteStartTime*=n})),super.stretch(t)}refresh(){return _t(this,(t=>{const e=Ut(t.target,t.property,t._tweenType);$t(e,Vt),t._fromNumbers=yt(Vt.d),t._fromNumber=Vt.n,t._func&&($t(t._func(),Ee),t._toNumbers=yt(Ee.d),t._strings=yt(Ee.s),t._toNumber=Ee.n)})),this}revert(){return super.revert(),Te(this)}then(t){return super.then(t)}}const Oe=(t,e)=>new Me(t,e,null,0,!1).init();L.filter((t=>["X","Y","Z"].some((e=>t.endsWith(e))))),p&&(X(CSS)||Object.hasOwnProperty.call(CSS,"registerProperty"));const Ie={_head:null,_tail:null},Pe=(t,e,n)=>{let i=Ie._head;for(;i;){const o=i._next,r=i.$el===t,s=!e||i.property===e,a=!n||i.parent===n;if(r&&s&&a){const t=i.animation;try{t.commitStyles()}catch{}t.cancel(),wt(Ie,i);const e=i.parent;e&&(e._completed++,e.animations.length===e._completed&&(e.completed=!0,e.muteCallbacks||(e.paused=!0,e.onComplete(e),e._resolve(e))))}i=o}};const De=(t,e,n)=>{let i=!1;return _t(e,(o=>{const r=o.target;if(t.includes(r)){const t=o.property,s=o._tweenType,a=be(n,r,s);(!a||a&&a===t)&&(o.parent._tail===o&&3===o._tweenType&&o._prev&&3===o._prev._tweenType&&(o._prev._renderTransforms=1),wt(e,o),Jt(o),i=!0)}}),!0),i},Be=(t,e,n)=>{const i=It(t),o=e||Nt,r=e&&e.controlAnimation&&e;for(let t=0,e=i.length;t<e;t++){const e=i[t];Pe(e,n,r)}let s;if(o._hasChildren){let e=0;_t(o,(r=>{if(!r._hasChildren)if(s=De(i,r,n),s&&!r._head)r.cancel(),wt(o,r);else{const t=r._offset+r._delay+r.duration;t>e&&(e=t)}r._head?Be(t,r,n):r._hasChildren=!1}),!0),X(o.iterationDuration)||(o.iterationDuration=e)}else s=De(i,o,n);return s&&!o._head&&(o._hasChildren=!1,o.cancel&&o.cancel()),i},Re=(t,e,n)=>{const i=10**(n||0);return ct((Math.random()*(e-t+1/i)+t)*i)/i},Fe=t=>(...e)=>{const n=t(...e);return new Proxy(S,{apply:(t,e,[i])=>n(i),get:(t,e)=>Fe(((...t)=>{const i=qe[e](...t);return t=>i(n(t))}))})},He=(t,e=0)=>(...n)=>(n.length<t.length?Fe(((t,e=0)=>(...n)=>e?e=>t(...n,e):e=>t(e,...n))(t,e)):t)(...n),qe={$:Pt,get:function(t,e,n){const i=Pt(t);if(!i.length)return;const[o]=i,r=Ht(o,e),s=be(e,o,r);let a=Ut(o,s);if(X(n))return a;if($t(a,Vt),0===Vt.t||1===Vt.t){if(!1===n)return Vt.n;{const t=we(o,Vt,n,!1);return`${mt(t.n,H.precision)}${t.u}`}}},set:(t,e)=>{if(!X(e))return e.duration=T,e.composition=Rt(e.composition,g.none),new Me(t,e,null,0,!0).resume()},remove:Be,cleanInlineStyles:Te,random:Re,randomPick:t=>t[Re(0,t.length-1)],shuffle:t=>{let e,n,i=t.length;for(;i;)n=Re(0,--i),e=t[i],t[i]=t[n],t[n]=e;return t},lerp:(t,e,n,i)=>{let o=E/H.defaults.frameRate;if(!1!==i){const t=i||Nt._hasChildren&&Nt;t&&t.deltaTime&&(o=t.deltaTime)}const r=1-Math.exp(-n*o*.1);return n?1===n?e:(1-r)*t+r*e:t},sync:(t=S)=>new ne({duration:1*H.timeScale,onComplete:t},null,0).resume(),clamp:He(pt),round:He(mt),snap:He(((t,e)=>$(e)?e.reduce(((e,n)=>at(n-t)<at(e-t)?n:e)):e?ht(t/e)*e:t)),wrap:He(((t,e,n)=>((t-e)%(n-e)+(n-e))%(n-e)+e)),interpolate:He(gt,1),mapRange:He(((t,e,n,i,o)=>i+(t-e)/(n-e)*(o-i))),roundPad:He(((t,e)=>(+t).toFixed(e))),padStart:He(((t,e,n)=>`${t}`.padStart(e,n))),padEnd:He(((t,e,n)=>`${t}`.padEnd(e,n))),degToRad:He((t=>t*dt/180)),radToDeg:He((t=>180*t/dt))};new Map;var Ue=window.matchMedia("(prefers-reduced-motion: reduce)").matches,We=function(){return We=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},We.apply(this,arguments)},$e={offset:0,ease:"cubicBezier(1,0,.7,1)",duration:300,replaceState:!1},ze=function(){function t(t,e){var n=this;this.handleClick=function(t){t.preventDefault();var e=t.currentTarget.getAttribute("href");if(e){var i=r(e);i&&n.scrollTo(i,e)}};var i=We(We({},$e),e),o=i.ease,s=i.duration,l=i.onBegin,c=i.onComplete;this.elems="string"==typeof t?a(t):t,this.options=i;var u=Ue?0:s;this.animeOptions={duration:u,ease:o,onBegin:l,onComplete:c},this.init()}return t.prototype.init=function(){this.addListeners()},t.prototype.addListeners=function(){var t=this;this.elems.forEach((function(e){return l(e,"click",t.handleClick)}))},t.prototype.destroy=function(){var t=this;this.elems.forEach((function(e){return n=e,i=t.handleClick,n.removeEventListener("click",i);var n,i}))},t.prototype.scrollTo=function(t,e){var n=this.options,i=n.offset,o=void 0===i?0:i,r=n.scrollTop,s=n.container,a=t.getBoundingClientRect().top,l=window.pageYOffset,c=[document.documentElement,document.body],u="function"==typeof o?o(t):o;s&&(c=s,l=s.scrollTop);var d="function"==typeof r?r(t,l):a+l-u,h=this.animeOptions,p=h.duration,f=h.ease,m=h.onBegin,g=h.onComplete;this.anime=Oe(c,{scrollTop:d,duration:p,ease:f,onBegin:m,onComplete:g}),this.options.replaceState&&window.history.replaceState(null,"",document.location.pathname+e)},t}();const Ve=ze;function Ye(t,e){void 0===e&&(e=3),t.hidden=!0,new Ve([t]);var n=window.innerHeight*e;h((function(){window.pageYOffset>n?t.hidden=!1:t.hidden=!0}))}var Ke=r(".js-to-top-btn"),Xe=r(".js-journey-to-top-btn");Ke&&Ye(Ke),Xe&&Ye(Xe,3.75);var Ge=function(){function t(t){var e=this;this.handleElemKeyDown=function(t){32===t.keyCode&&(t.preventDefault(),e.toggle())},this.elem=t,this.target=this.getTarget(this.elem),this.activeClass="is-toggled",this.enabledClass="has-toggler";var n=t.getAttribute("data-toggle-linked");this.linked=n?'[data-toggle-linked="'.concat(n,'"]'):null;var i=t.getAttribute("data-toggle-group");this.group=i?'[data-toggle-group="'.concat(i,'"]'):null,t.getAttribute("data-toggle-group-parent"),this.groupParent=i?r(".".concat(i)):null,this.toggleAllParent=r("[data-toggle-all-group]"),this.handleElemClick=this.handleElemClick.bind(this),this.focusTargetSelector=t.getAttribute("data-toggle-focus"),this.focusTargetSelector&&(this.focusTarget=r(this.focusTargetSelector)),this.init()}return t.prototype.init=function(){var t;this.target&&(this.addListeners(),this.elem.classList.add(this.enabledClass),this.target.classList.add(this.enabledClass),null===(t=this.groupParent)||void 0===t||t.classList.add(this.enabledClass))},t.prototype.destroy=function(){var t,e;this.elem.classList.remove(this.enabledClass),this.elem.classList.remove(this.activeClass),this.target.classList.remove(this.enabledClass),this.target.classList.remove(this.activeClass),null===(t=this.groupParent)||void 0===t||t.classList.remove(this.enabledClass),null===(e=this.groupParent)||void 0===e||e.classList.remove(this.activeClass),this.elem.removeEventListener("click",this.handleElemClick),this.elem.removeEventListener("keydown",this.handleElemKeyDown)},t.prototype.addListeners=function(){this.elem.addEventListener("click",this.handleElemClick),this.elem.addEventListener("keydown",this.handleElemKeyDown)},t.prototype.getTarget=function(t){var e=t.getAttribute("data-toggle-target");if(e)return r(e)},t.prototype.handleElemClick=function(t){t.preventDefault(),this.toggle()},t.prototype.closeGroup=function(){var t=this;if(this.group){var e=a(this.group);e&&e.forEach((function(e){var n=t.getTarget(e);t.close(e,n)}))}},t.prototype.toggleLinked=function(){var t=this;if(this.linked){var e=a(this.linked);e&&e.forEach((function(e){var n=t.getTarget(e);if(t.isToggled(n))return t.close(e,n);t.open(e,n)}))}},t.prototype.open=function(t,e){var n=this;this.groupParent&&this.groupParent.classList.add(this.activeClass),e&&e.classList.add(this.activeClass),t&&(t.classList.add(this.activeClass),this.setAriaExpanded(t,!0),this.focusTarget&&setTimeout((function(){var t,e=null===(t=n.focusTarget)||void 0===t?void 0:t.querySelector("input");null==e||e.focus()}),100))},t.prototype.setAriaExpanded=function(t,e){t.hasAttribute("aria-expanded")&&t.setAttribute("aria-expanded",String(e))},t.prototype.close=function(t,e){this.groupParent&&this.groupParent.classList.remove(this.activeClass),e&&e.classList.remove(this.activeClass),t&&(t.classList.remove(this.activeClass),this.setAriaExpanded(t,!1),this.toggleAllParent&&this.isToggled(this.toggleAllParent)&&this.toggleAllParent.classList.remove(this.activeClass))},t.prototype.isToggled=function(t){return t.classList.contains(this.activeClass)},t.prototype.toggle=function(){if(!this.isToggled(this.target))return this.group&&this.closeGroup(),this.linked&&this.toggleLinked(),this.open(this.elem,this.target);this.close(this.elem,this.target)},t}();a("[data-toggle-target]").forEach((function(t){return new Ge(t)}));var Ze=function(){function t(t){this.elem=t,this.videoElement=r(".journey-section__video",this.elem),this.controls=r("[data-journey-video-trigger]",this.elem),this.playButton=r(".journey-video--button-play",this.elem),this.pauseButton=r(".journey-video--button-pause",this.elem),this.handleClick=this.handleClick.bind(this),this.init()}return t.prototype.init=function(){this.addListeners(),window.matchMedia("(max-width: 512px)").matches||Ue?(this.videoElement.autoplay=!1,this.controls.classList.add("not-playing"),this.controls.setAttribute("aria-hidden","true")):(this.controls.setAttribute("aria-hidden","false"),this.playButton.setAttribute("aria-hidden","true"),this.pauseButton.setAttribute("aria-hidden","false"))},t.prototype.addListeners=function(){this.controls.addEventListener("click",this.handleClick)},t.prototype.handleClick=function(t){this.controls.classList.toggle("not-playing"),this.controls.classList.contains("not-playing")?(this.videoElement.pause(),this.playButton.setAttribute("aria-hidden","false"),this.pauseButton.setAttribute("aria-hidden","true")):(this.videoElement.play(),this.playButton.setAttribute("aria-hidden","true"),this.pauseButton.setAttribute("aria-hidden","false"))},t}(),Je=a(".journey-section");function Qe(t){return function(t){if(Array.isArray(t))return tn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return tn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tn(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Je.shift(),Je.forEach((function(t){new Ze(t)}));var en,nn,on,rn,sn,an=(en=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],nn=function(){function t(e){var n=e.targetModal,i=e.triggers,o=void 0===i?[]:i,r=e.onShow,s=void 0===r?function(){}:r,a=e.onClose,l=void 0===a?function(){}:a,c=e.openTrigger,u=void 0===c?"data-micromodal-trigger":c,d=e.closeTrigger,h=void 0===d?"data-micromodal-close":d,p=e.openClass,f=void 0===p?"is-open":p,m=e.disableScroll,g=void 0!==m&&m,v=e.disableFocus,b=void 0!==v&&v,y=e.awaitCloseAnimation,_=void 0!==y&&y,w=e.awaitOpenAnimation,T=void 0!==w&&w,k=e.debugMode,E=void 0!==k&&k;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal="string"==typeof n?document.getElementById(n):n,this.config={debugMode:E,disableScroll:g,openTrigger:u,closeTrigger:h,openClass:f,onShow:s,onClose:l,awaitCloseAnimation:_,awaitOpenAnimation:T,disableFocus:b},o.length>0&&this.registerTriggers.apply(this,Qe(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e;return(e=[{key:"registerTriggers",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.filter(Boolean).forEach((function(e){e.addEventListener("click",(function(e){return t.showModal(e)}))}))}},{key:"showModal",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",(function e(){t.modal.removeEventListener("animationend",e,!1),t.setFocusToFirstNode()}),!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,e)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",(function t(){e.classList.remove(n),e.removeEventListener("animationend",t,!1)}),!1)}else e.classList.remove(this.config.openClass)}},{key:"closeModalByIdOrElement",value:function(t){this.modal="string"==typeof t?document.getElementById(t):t,this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:""});break;case"disable":Object.assign(e.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){(t.target.hasAttribute(this.config.closeTrigger)||t.target.parentNode.hasAttribute(this.config.closeTrigger))&&(t.preventDefault(),t.stopPropagation(),this.closeModal(t))}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(en);return Array.apply(void 0,Qe(t))}},{key:"setFocusToFirstNode",value:function(){var t=this;if(!this.config.disableFocus){var e=this.getFocusableNodes();if(0!==e.length){var n=e.filter((function(e){return!e.hasAttribute(t.config.closeTrigger)}));n.length>0&&n[0].focus(),0===n.length&&e[0].focus()}}}},{key:"retainFocus",value:function(t){var e=this.getFocusableNodes();if(0!==e.length)if(e=e.filter((function(t){return null!==t.offsetParent})),this.modal.contains(document.activeElement)){var n=e.indexOf(document.activeElement);t.shiftKey&&0===n&&(e[e.length-1].focus(),t.preventDefault()),!t.shiftKey&&e.length>0&&n===e.length-1&&(e[0].focus(),t.preventDefault())}else e[0].focus()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),on=null,rn=function(t){if("string"==typeof id?!document.getElementById(t):!t)return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},sn=function(t,e){if(function(t){t.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(t),!e)return!0;for(var n in e)rn(n);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),n=Qe(document.querySelectorAll("[".concat(e.openTrigger,"]"))),i=function(t,e){var n=[];return t.forEach((function(t){var i=t.attributes[e].value;void 0===n[i]&&(n[i]=[]),n[i].push(t)})),n}(n,e.openTrigger);if(!0!==e.debugMode||!1!==sn(n,i))for(var o in i){var r=i[o];e.targetModal=o,e.triggers=Qe(r),on=new nn(e)}},show:function(t,e){var n=e||{};n.targetModal=t,!0===n.debugMode&&!1===rn(t)||(on&&on.removeEventListeners(),(on=new nn(n)).showModal())},close:function(t){t?on.closeModalByIdOrElement(t):on.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=an);const ln=an;var cn=function(){function t(t){var e=this;this.handleKeyUp=function(t){32===t.keyCode&&(t.preventDefault(),e.showVideo())},this.handleVideoEmbedClick=function(t){t.preventDefault(),e.showVideo()},this.elem=t,this.originalContent=t,this.content=r(".js-video-content",t),this.link=r(".js-video-link",t),this.iframe=t.getAttribute("data-video"),this.activeClass="has-video",this.hideVideo=this.hideVideo.bind(this),this.init()}return t.prototype.init=function(){this.addListeners()},t.prototype.addListeners=function(){this.link&&(l(this.link,"click",this.handleVideoEmbedClick),l(this.link,"keydown",this.handleKeyUp))},t.prototype.hideVideo=function(){this.elem.classList.remove(this.activeClass),this.content&&(this.content.innerHTML=this.link.outerHTML),this.link=r(".js-video-link",this.elem),this.addListeners()},t.prototype.showVideo=function(){var t=this;if(this.elem.classList.add(this.activeClass),this.iframe){var e,n,i,o=function(t){var e=document.createElement("div");return e.innerHTML=t,0===e.childNodes.length?"":e.childNodes[0].nodeValue}(this.iframe);this.content&&(this.content.innerHTML=o||this.iframe,r("iframe",this.content).ariaLabel="Video player"),e=this.elem,n=function(){t.hideVideo()},(i=new IntersectionObserver((function(t){t.forEach((function(t){0===t.intersectionRatio&&(n(),i.unobserve(e))}))}))).observe(e)}else console.warn("No data-video set for video",this.elem)},t}();a(".js-video").forEach((function(t){return new cn(t)}));const un=cn;var dn=function(){function t(t){this.elem=t,this.modalElem=r(".journey-modal--block"),this.swiperClass=".journey-swiper",this.paginationClass=".swiper-pagination",this.paginationEl=r(this.paginationClass),this.swiperParentEl=r(".journey-modal__pagination"),this.swiperParentWrapperEl=r(".journey-modal__pagination-wrapper"),this.activeVideoClass="has-video",this.translate=0,this.halfWindowWidth=window.innerWidth/2,this.closeBtn=r("[data-journey-overlay-close]"),this.loadingEls=a("[data-loading]"),this.swiperInit=this.swiperInit.bind(this),this.swiperUpdate=this.swiperUpdate.bind(this),this.scrollToTop=this.scrollToTop.bind(this),this.handleHashChange=this.handleHashChange.bind(this),this.resetNavigation=this.resetNavigation.bind(this),this.init()}return t.prototype.elementOnLoad=function(t,e){var n,i,o,s,a;(n=t,i=void 0,o=void 0,s=void 0,a=function(){return function(t,e){var n,i,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(t){switch(t.label){case 0:return null!==r(n)?[3,2]:[4,new Promise((function(t){return window.requestAnimationFrame(t)}))];case 1:return t.sent(),[3,0];case 2:return[2,n]}}))},new(s||(s=Promise))((function(t,e){function n(t){try{l(a.next(t))}catch(t){e(t)}}function r(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s((function(t){t(i)}))).then(n,r)}l((a=a.apply(i,o||[])).next())}))).then((function(t){e(t)}))},t.prototype.init=function(){this.swiperInit(),this.addListeners()},t.prototype.getSwiper=function(){return t=this,e=void 0,i=function(){var t=this;return function(t,e){var n,i,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(e){return[2,s.e(979).then(s.bind(s,236)).then((function(e){var n=e.default;s.e(979).then(s.bind(s,94)).then((function(e){var i=e.Navigation,o=e.Pagination,r=e.HashNavigation,s=e.A11y;t.loadingEls.forEach((function(t){return t.classList.add("has-loaded")})),t.swiperEl=new n(t.swiperClass,{modules:[i,o,r,s],autoHeight:!0,hashNavigation:{replaceState:!0,watchState:!0},navigation:{nextEl:".js-journey-next-button",prevEl:".js-journey-prev-button"},pagination:{el:t.paginationClass,bulletClass:"journey-modal__cb-link",clickable:!0,renderBullet:function(t,e){return'\n                  <a class="journey-modal__cb-link '.concat(e,'" href="#" role="button">\n                    <span class="cb-link__text">\n                      ').concat(["Why Middlebury","Immersive Environments","The Undergraduate Experience","Alumni in the World","Middlebury in the News","Students in Action","Connected Middlebury","Middlebury College","Graduate and Professional Schools"][t],'\n                    </span>\n                    <span class="cb-link__circle-wrapper">\n                      <span class="cb-link__circle inner"></span>\n                      <span class="cb-link__circle outer"></span>\n                    </span>\n                  </a>')}},on:{slideNextTransitionStart:function(t){t.allowSlideNext=!1},slideNextTransitionEnd:function(t){t.allowSlideNext=!0},slidePrevTransitionStart:function(t){t.allowSlidePrev=!1},slidePrevTransitionEnd:function(t){t.allowSlidePrev=!0},transitionStart:function(){t.swiperUpdate(),t.scrollToTop()}}})}))})).catch((function(t){return"An error occurred while loading Swiper"}))]}))},new((n=void 0)||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}));var t,e,n,i},t.prototype.swiperInit=function(){var t=this;this.getSwiper().then((function(){t.closeBtn.focus(),e()("[data-journey-gallery-item] img").observe(),t.swiperParentEl.style.transform="translateX(".concat(t.translate,"px)"),t.initVideoElems()}))},t.prototype.addListeners=function(){var t=this;this.elementOnLoad(".journey-modal__cb-link",(function(e){t.paginationDotEls=a(e),t.paginationDotEls.forEach((function(e){window.matchMedia("(min-width: 1024px)").matches&&(e.addEventListener("mouseenter",(function(e){t.handleMouseEvent(e)})),e.addEventListener("mouseleave",(function(e){t.handleMouseEvent(e)})))}))})),a(".transcript__button").forEach((function(e){e.addEventListener("click",(function(e){var n;null===(n=t.swiperEl)||void 0===n||n.updateAutoHeight(50)}))})),window.matchMedia("(min-width: 512px)").matches&&window.addEventListener("resize",(function(e){clearTimeout(t.timeout),t.timeout=setTimeout(t.resetNavigation,250)})),window.addEventListener("hashchange",(function(e){t.elementOnLoad(".journey-modal--block.is-open",t.handleHashChange)}))},t.prototype.scrollToTop=function(){this.modalElem.scrollTop>0&&Oe(this.modalElem,{scrollTop:0,ease:"inSine",autoplay:!0,duration:300})},t.prototype.handleHashChange=function(){var t,e,n,i=parseInt(window.location.hash.replace("#slide","")),o=window.MicroModal;isNaN(i)?null==o||o.close():i!==(null===(t=this.swiperEl)||void 0===t?void 0:t.activeIndex)?null===(e=this.swiperEl)||void 0===e||e.slideTo(i,300,!1):i==(null===(n=this.swiperEl)||void 0===n?void 0:n.activeIndex)&&this.swiperUpdate()},t.prototype.resetNavigation=function(){this.halfWindowWidth=window.innerWidth/2,this.swiperUpdate()},t.prototype.handleMouseEvent=function(t){var e=t.target.parentElement;"mouseenter"===t.type?e.classList.add("show-label"):"mouseleave"===t.type&&e.classList.remove("show-label")},t.prototype.initVideoElems=function(){a(".js-expand-video",this.elem).forEach((function(t){return new un(t)}))},t.prototype.swiperUpdate=function(){var t;this.currentEl=r(".swiper-pagination-bullet-active",this.paginationEl);var e=this.swiperParentEl.scrollWidth;e>this.swiperParentEl.offsetWidth&&(e=this.swiperParentEl.offsetWidth),this.hiddenWidth=e-this.swiperParentWrapperEl.offsetWidth;var n=null===(t=this.currentEl)||void 0===t?void 0:t.getBoundingClientRect().left;this.currentEl&&(this.translate=this.translate+(this.halfWindowWidth-n-16),this.translate>0&&(this.translate=0),Math.abs(this.translate)>this.hiddenWidth&&(this.translate=-this.hiddenWidth),this.translate<=0&&Math.abs(this.translate)<=this.hiddenWidth&&(this.swiperParentEl.style.transform="translateX(".concat(this.translate,"px)")))},t}();const hn=dn;var pn=function(){function t(t){this.elem=t,this.journeySections=a(".js-journey-section"),this.firstSection=this.journeySections.shift(),this.animPauseThreshold=0,this.sectionIndex=0,this.sectionNames=["learning","thinking","opportunity"],this.sectionLinksElems={},this.deviceInfo={desktop:{dotsAnimBreaks:[0,34,70],lineAnimBreaks:[25,60,101]},tablet:{dotsAnimBreaks:[0,39,77],lineAnimBreaks:[29,67,101]},mobile:{dotsAnimBreaks:[0,32,70],lineAnimBreaks:[28,65,101]}},this.handleIntersection=this.handleIntersection.bind(this),this.handleScroll=this.handleScroll.bind(this),this.deviceInit=this.deviceInit.bind(this),this.init()}return t.prototype.init=function(){window.location.hash="",this.deviceInit(),this.addListeners(),Ue||(this.svgInit(),this.animInit(),this.sectionInit())},t.prototype.deviceInit=function(){this.handleScroll(),window.matchMedia("(min-width: 1024px)").matches?this.deviceType="desktop":window.matchMedia("(min-width: 512px)").matches?this.deviceType="tablet":this.deviceType="mobile",this.pathEl=r(".journey-line--".concat(this.deviceType," path"),this.elem);for(var t=0;t<3;t++)this.sectionLinksElems[t]=r(".journey-links--".concat(this.deviceType," .").concat(this.sectionNames[t]))},t.prototype.addListeners=function(){var t=this;window.addEventListener("resize",(function(e){clearTimeout(t.timeout),t.timeout=setTimeout(t.handleScroll,250)})),this.scrollRef=h(this.handleScroll),Object.values(this.sectionLinksElems).forEach((function(t){return r(".journey--link:last-child",t).addEventListener("animationend",(function(){c(t,"disable-animate")}))}))},t.prototype.handleScroll=function(){this.firstSection.clientHeight-window.innerHeight>-this.firstSection.getBoundingClientRect().top?r(".school-picker").classList.remove("not-fixed"):r(".school-picker").classList.add("not-fixed")},t.prototype.svgInit=function(){this.totalPathLength=this.pathEl.getTotalLength();var t="4, 4",e=t.split(/[\s,]/).map((function(t){return parseFloat(t)||0})).reduce((function(t,e){return t+e}),0),n=Math.ceil(this.totalPathLength/e)+1,i=new Array(n).join(t+" ")+" 0, "+this.totalPathLength;this.pathEl.setAttribute("stroke-dashoffset","".concat(this.totalPathLength)),this.pathEl.setAttribute("stroke-dasharray",i)},t.prototype.animInit=function(){var t=this;this.journeyLineAnimInstance=Oe(this.pathEl,{strokeDashoffset:[this.totalPathLength,0],duration:1e4,ease:"linear",autoplay:!1,onUpdate:function(e){t.animUpdate(e)}})},t.prototype.getAnimationThreshold=function(t,e){return"line"===e?this.deviceInfo[this.deviceType].lineAnimBreaks[t]:this.deviceInfo[this.deviceType].dotsAnimBreaks[t]},t.prototype.animUpdate=function(t){for(var e=Math.round(100*t.progress),n=0;n<this.sectionNames.length;n++)e>=this.getAnimationThreshold(n,"dots")&&(this.sectionIndex=n);c(this.sectionLinksElems[this.sectionIndex],"animate"),e>=this.animPauseThreshold-.5&&e<=this.animPauseThreshold+.5&&(this.journeyLineAnimInstance.pause(),console.log(this.journeyLineAnimInstance))},t.prototype.sectionInit=function(){var t=this;this.io=new IntersectionObserver(this.handleIntersection,{threshold:.4}),this.journeySections.forEach((function(e){return t.io.observe(e)}))},t.prototype.loadVideo=function(t){var e=r(".journey-section__video",t),n=r("source",e);n.src=n.dataset.src,e.load()},t.prototype.handleIntersection=function(t){var e=this;t.forEach((function(t){if(t.isIntersecting){var n=0,i=t.target.id;i===e.sectionNames[0]?n=0:i===e.sectionNames[1]?n=1:i===e.sectionNames[2]&&(n=2),window.matchMedia("(min-width: 512px)").matches&&!Ue&&e.loadVideo(t.target),e.getAnimationThreshold(n,"line")>e.animPauseThreshold&&(e.animPauseThreshold=e.getAnimationThreshold(n,"line"),e.journeyLineAnimInstance.play()),e.io.unobserve(t.target)}}))},t}();ln.init({openTrigger:"data-journey-overlay-open",closeTrigger:"data-journey-overlay-close",onShow:function(t){if(!t.swiper){var e=r(".journey-swiper");t.swiper=new hn(e)}t.swiper&&t.swiper.scrollToTop(),a("[data-journey-overlay-close]",t).forEach((function(t){return t.focus()}))},disableScroll:!0}),a(".journey").forEach((function(t){return new pn(t)}));var fn=window.matchMedia("(min-aspect-ratio: 16/13) and (max-aspect-ratio: 16/7)").matches,mn=window.innerHeight-r(".journey section").getBoundingClientRect().height,gn={container:document.body,panelSelector:".journey section",directionThreshold:mn>0?mn:50,delay:0,duration:600,easing:function(t){return t}},vn=a(".journey");0!==vn.length&&function(){return t=this,e=void 0,i=function(){var t;return function(t,e){var n,i,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(e){switch(e.label){case 0:return!fn||Ue?[3,2]:[4,s.e(231).then(s.t.bind(s,59,23))];case 1:t=e.sent().default,vn.forEach((function(){return new t(gn)})),e.label=2;case 2:return[2]}}))},new((n=void 0)||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}));var t,e,n,i}().catch((function(t){return"An error occurred while loading panelsnap"}))})()})();