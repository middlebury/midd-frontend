/*! For license information please see journey.bundle.js.LICENSE.txt */
(()=>{var t,e,n,i,o={317(t){t.exports=function(){"use strict";function t(){return"undefined"!=typeof window}function e(t){return(s=t)&&s.document&&function(t){return 9===t.nodeType}(s.document)?(n=(e=t).document,i=n.body,o=n.documentElement,{scrollHeight:function(){return Math.max(i.scrollHeight,o.scrollHeight,i.offsetHeight,o.offsetHeight,i.clientHeight,o.clientHeight)},height:function(){return e.innerHeight||o.clientHeight||i.clientHeight},scrollY:function(){return void 0!==e.pageYOffset?e.pageYOffset:(o||i.parentNode||i).scrollTop}}):function(t){return{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}}}(t);var e,n,i,o,s}function n(t,n,i){var o,s=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}(),r=!1,a=e(t),l=a.scrollY(),c={};function u(){var t=Math.round(a.scrollY()),e=a.height(),o=a.scrollHeight();c.scrollY=t,c.lastScrollY=l,c.direction=t>l?"down":"up",c.distance=Math.abs(t-l),c.isOutOfBounds=t<0||t+e>o,c.top=t<=n.offset[c.direction],c.bottom=t+e>=o,c.toleranceExceeded=c.distance>n.tolerance[c.direction],i(c),l=t,r=!1}function d(){r||(r=!0,o=requestAnimationFrame(u))}var h=!!s&&{passive:!0,capture:!1};return t.addEventListener("scroll",d,h),u(),{destroy:function(){cancelAnimationFrame(o),t.removeEventListener("scroll",d,h)}}}function i(t){return t===Object(t)?t:{down:t,up:t}}function o(t,e){e=e||{},Object.assign(this,o.options,e),this.classes=Object.assign({},o.options.classes,e.classes),this.elem=t,this.tolerance=i(this.tolerance),this.offset=i(this.offset),this.initialised=!1,this.frozen=!1}return o.prototype={constructor:o,init:function(){return o.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(t){t.scrollTracker=n(t.scroller,{offset:t.offset,tolerance:t.tolerance},t.update.bind(t))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(t){return"down"===t.direction&&!t.top&&t.toleranceExceeded},shouldPin:function(t){return"up"===t.direction&&t.toleranceExceeded||t.top},addClass:function(t){this.elem.classList.add.apply(this.elem.classList,this.classes[t].split(" "))},removeClass:function(t){this.elem.classList.remove.apply(this.elem.classList,this.classes[t].split(" "))},hasClass:function(t){return this.classes[t].split(" ").every(function(t){return this.classList.contains(t)},this.elem)},update:function(t){t.isOutOfBounds||!0!==this.frozen&&(t.top?this.top():this.notTop(),t.bottom?this.bottom():this.notBottom(),this.shouldUnpin(t)?this.unpin():this.shouldPin(t)&&this.pin())}},o.options={tolerance:{up:0,down:0},offset:0,scroller:t()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},o.cutsTheMustard=!!(t()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),o}()},510(t){t.exports=function(){"use strict";var t="undefined"!=typeof document&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(e){if("picture"===e.nodeName.toLowerCase()){var n=e.querySelector("img"),i=!1;null===n&&(n=document.createElement("img"),i=!0),t&&e.getAttribute("data-iesrc")&&(n.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(n.alt=e.getAttribute("data-alt")),i&&e.append(n)}if("video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var o=e.children,s=void 0,r=0;r<=o.length-1;r++)(s=o[r].getAttribute("data-src"))&&(o[r].src=s);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset"));var a=",";if(e.getAttribute("data-background-delimiter")&&(a=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image"))e.style.backgroundImage="url('"+e.getAttribute("data-background-image").split(a).join("'),url('")+"')";else if(e.getAttribute("data-background-image-set")){var l=e.getAttribute("data-background-image-set").split(a),c=l[0].substr(0,l[0].indexOf(" "))||l[0];c=-1===c.indexOf("url(")?"url("+c+")":c,1===l.length?e.style.backgroundImage=c:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: "+c+"; background-image: -webkit-image-set("+l+"); background-image: image-set("+l+")")}e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function n(t){t.setAttribute("data-loaded",!0)}var i=function(t){return"true"===t.getAttribute("data-loaded")},o=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var t,s,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=Object.assign({},e,a),c=l.root,u=l.rootMargin,d=l.threshold,h=l.load,f=l.loaded,p=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(p=new IntersectionObserver((t=h,s=f,function(e,o){e.forEach(function(e){(0<e.intersectionRatio||e.isIntersecting)&&(o.unobserve(e.target),i(e.target)||(t(e.target),n(e.target),s(e.target)))})}),{root:c,rootMargin:u,threshold:d}));for(var m,g=o(r,c),v=0;v<g.length;v++)(m=g[v]).getAttribute("data-placeholder-background")&&(m.style.background=m.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=o(r,c),e=0;e<t.length;e++)i(t[e])||(p?p.observe(t[e]):(h(t[e]),n(t[e]),f(t[e])))},triggerLoad:function(t){i(t)||(h(t),n(t),f(t))},observer:p}}}()},976(){!function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),o=window.setTimeout(function(){e(n+i)},i);return t=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()}},s={};function r(t){var e=s[t];if(void 0!==e)return e.exports;var n=s[t]={exports:{}};return o[t].call(n.exports,n,n.exports,r),n.exports}r.m=o,r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var o=Object.create(null);r.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&n;("object"==typeof a||"function"==typeof a)&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach(t=>s[t]=()=>n[t]);return s.default=()=>n,r.d(o,s),o},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce((e,n)=>(r.f[n](t,e),e),[])),r.u=t=>({231:"panelsnap",979:"swiper"}[t]+".bundle.js"),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n={},i="midd-frontend:",r.l=(t,e,o,s)=>{if(n[t])n[t].push(e);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==i+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",i+o),a.src=t),n[t]=[e];var h=(e,i)=>{a.onerror=a.onload=null,clearTimeout(f);var o=n[t];if(delete n[t],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach(t=>t(i)),e)return e(i)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.j=569,r.p="/themes/custom/middlebury_theme/js/",(()=>{var t={569:0};r.f.j=(e,n)=>{var i=r.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise((n,o)=>i=t[e]=[n,o]);n.push(i[2]=o);var s=r.p+r.u(e),a=new Error;r.l(s,n=>{if(r.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}},"chunk-"+e,e)}};var e=(e,n)=>{var i,o,[s,a,l]=n,c=0;if(s.some(e=>0!==t[e])){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);l&&l(r)}for(e&&e(n);c<s.length;c++)o=s[c],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=globalThis.webpackChunkmidd_frontend=globalThis.webpackChunkmidd_frontend||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),(()=>{"use strict";r(976);var t=r(510),e=r.n(t);e()(".js-lazy-load").observe();var n,i=r(317),o=r.n(i),s=function(t,e){return void 0===e&&(e=document),e.querySelector(t)},a=function(t,e){return void 0===e&&(e=document),Array.from(e.querySelectorAll(t))},l=function(t,e,n){return t.addEventListener(e,n)},c=function(t,e){return t.classList.add(e)},u=s(".js-headroom"),d=a(".js-curriculum-headroom");if(u&&!s("#toolbar-administration")){n=u.offsetHeight;var h=new(o())(u,{offset:n,tolerance:{up:10,down:0},scroller:s("#midd-journey-overlay")||window});document.body.style.paddingTop=n+"px",h.init(),window.location.hash&&!s("#midd-journey-overlay")&&setTimeout(function(){h.unpin()},1e3),d.length>0&&d.forEach(function(t){new(o())(t,{offset:n,tolerance:{up:10,down:0}}).init()})}function f(t,e){void 0===e&&(e=window);var n=0,i=!1,o=function(e){t(n,e),i=!1},s=function(t){n=t.target.scrollTop||window.pageYOffset,i||(window.requestAnimationFrame(o),i=!0)};return e.addEventListener("scroll",s),{destroy:function(){e.removeEventListener("scroll",s)}}}const p="undefined"!=typeof window,m=p?window:null,g=p?document:null,v={replace:0,none:1,blend:2},b=Symbol(),y=Symbol(),_=Symbol(),w=Symbol(),T=(Symbol(),Symbol()),k=1e-11,E=1e12,C=1e3,A="",L=(()=>{const t=new Map;return t.set("x","translateX"),t.set("y","translateY"),t.set("z","translateZ"),t})(),x=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","matrix","matrix3d","perspective"],N=x.reduce((t,e)=>({...t,[e]:e+"("}),{}),S=()=>{},j=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,O=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,M=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,I=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,P=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,D=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,B=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,q=/([a-z])([A-Z])/g,H=/(\w+)(\([^)]+\)+)/g,R=/var\(\s*(--[\w-]+)(?:\s*,\s*([^)]+))?\s*\)/,F={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:120,loop:0,reversed:!1,alternate:!1,autoplay:!0,persist:!1,duration:C,delay:0,loopDelay:0,ease:"out(2)",composition:v.replace,modifier:t=>t,onBegin:S,onBeforeUpdate:S,onUpdate:S,onLoop:S,onPause:S,onComplete:S,onRender:S},U={current:null,root:g},W={defaults:F,precision:4,timeScale:1,tickThreshold:200},V={version:"4.2.2",engine:null};p&&(m.AnimeJS||(m.AnimeJS=[]),m.AnimeJS.push(V));const z=t=>t.replace(q,"$1-$2").toLowerCase(),$=(t,e)=>0===t.indexOf(e),Y=Date.now,K=Array.isArray,G=t=>t&&t.constructor===Object,X=t=>"number"==typeof t&&!isNaN(t),Z=t=>"string"==typeof t,J=t=>"function"==typeof t,Q=t=>void 0===t,tt=t=>Q(t)||null===t,et=t=>p&&t instanceof SVGElement,nt=t=>j.test(t),it=t=>$(t,"rgb"),ot=t=>$(t,"hsl"),st=t=>!W.defaults.hasOwnProperty(t),rt=["opacity","rotate","overflow","color"],at=Math.pow,lt=Math.sqrt,ct=Math.sin,ut=Math.cos,dt=(Math.abs,Math.exp,Math.ceil,Math.floor),ht=Math.asin,ft=(Math.max,Math.atan2,Math.PI),pt=Math.round,mt=(t,e,n)=>t<e?e:t>n?n:t,gt={},vt=(t,e)=>{if(e<0)return t;if(!e)return pt(t);let n=gt[e];return n||(n=gt[e]=10**e),pt(t*n)/n},bt=(t,e,n)=>t+(e-t)*n,yt=t=>t===1/0?E:t===-1/0?-E:t,_t=t=>t<=k?k:yt(vt(t,11)),wt=t=>K(t)?[...t]:t,Tt=(t,e,n,i="_prev",o="_next")=>{let s=t._head,r=o;for(n&&(s=t._tail,r=i);s;){const t=s[r];e(s),s=t}},kt=(t,e,n="_prev",i="_next")=>{const o=e[n],s=e[i];o?o[i]=s:t._head=s,s?s[n]=o:t._tail=o,e[n]=null,e[i]=null},Et=(t,e,n,i="_prev",o="_next")=>{let s=t._tail;for(;s&&n&&n(s,e);)s=s[i];const r=s?s[o]:t._head;s?s[o]=e:t._head=e,r?r[i]=e:t._tail=e,e[i]=s,e[o]=r};function Ct(t){const e=Z(t)?U.root.querySelectorAll(t):t;if(e instanceof NodeList||e instanceof HTMLCollection)return e}const At=(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),Lt=(t,e)=>Q(t)?e:t,xt=(t,e,n,i,o)=>{let s;if(J(t))s=()=>{const o=t(e,n,i);return isNaN(+o)?o||0:+o};else{if(!Z(t)||!$(t,"var("))return t;s=()=>{const n=t.match(R),i=n[1],o=n[2];let s=getComputedStyle(e)?.getPropertyValue(i);return s&&s.trim()!==A||!o||(s=o.trim()),s||0}}return o&&(o.func=s),s()},Nt=(t,e)=>t[y]?t[_]&&((t,e)=>{if(rt.includes(e))return!1;if(t.getAttribute(e)||e in t){if("scale"===e){const e=t.parentNode;return e&&"filter"===e.tagName}return!0}})(t,e)?1:x.includes(e)||L.get(e)?3:$(e,"--")?4:e in t.style?2:e in t?0:1:0,St=(t,e,n)=>{const i=t.style[e];i&&n&&(n[e]=i);const o=i||getComputedStyle(t[T]||t).getPropertyValue(e);return"auto"===o?"0":o},jt=(t,e,n,i)=>{const o=Q(n)?Nt(t,e):n;return 0===o?t[e]||0:1===o?t.getAttribute(e):3===o?((t,e,n)=>{const i=t.style.transform;let o;if(i){const s=t[w];let r;for(;r=H.exec(i);){const t=r[1],i=r[2].slice(1,-1);s[t]=i,t===e&&(o=i,n&&(n[e]=i))}}return i&&!Q(o)?o:$(e,"scale")?"1":$(e,"rotate")||$(e,"skew")?"0deg":"0px"})(t,e,i):4===o?St(t,e,i).trimStart():St(t,e,i)},Ot=(t,e,n)=>"-"===n?t-e:"+"===n?t+e:t*e,Mt=(t,e)=>{if(e.t=0,e.n=0,e.u=null,e.o=null,e.d=null,e.s=null,!t)return e;const n=+t;if(isNaN(n)){let n=t;"="===n[1]&&(e.o=n[0],n=n.slice(2));const o=!n.includes(" ")&&B.exec(n);if(o)return e.t=1,e.n=+o[1],e.u=o[2],e;if(e.o)return e.n=+n,e;if((t=>nt(t)||it(t)||ot(t))(n))return e.t=2,e.d=it(i=n)?(t=>{const e=O.exec(t)||M.exec(t),n=Q(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],n]})(i):nt(i)?(t=>{const e=t.length,n=4===e||5===e;return[+("0x"+t[1]+t[n?1:2]),+("0x"+t[n?2:3]+t[n?2:4]),+("0x"+t[n?3:5]+t[n?3:6]),5===e||9===e?+(+("0x"+t[n?4:7]+t[n?4:8])/255).toFixed(3):1]})(i):ot(i)?(t=>{const e=I.exec(t)||P.exec(t),n=+e[1]/360,i=+e[2]/100,o=+e[3]/100,s=Q(e[4])?1:+e[4];let r,a,l;if(0===i)r=a=l=o;else{const t=o<.5?o*(1+i):o+i-o*i,e=2*o-t;r=vt(255*At(e,t,n+1/3),0),a=vt(255*At(e,t,n),0),l=vt(255*At(e,t,n-1/3),0)}return[r,a,l,s]})(i):[0,0,0,1],e;{const t=n.match(D);return e.t=3,e.d=t?t.map(Number):[],e.s=n.split(D)||[],e}}var i;return e.n=n,e},It=(t,e)=>(e.t=t._valueType,e.n=t._toNumber,e.u=t._unit,e.o=null,e.d=wt(t._toNumbers),e.s=wt(t._strings),e),Pt={t:0,n:0,u:null,o:null,d:null,s:null},Dt={},Bt=(t,e,n)=>{if(3===n){return L.get(t)||t}if(2===n||1===n&&et(e)&&t in e.style){const e=Dt[t];if(e)return e;{const e=t?z(t):t;return Dt[t]=e,e}}return t},qt=t=>{if(t._hasChildren)Tt(t,qt,!0);else{const e=t;e.pause(),Tt(e,t=>{const n=t.property,i=t.target;if(i[y]){const o=i.style,s=t._inlineValue,r=tt(s)||s===A;if(3===t._tweenType){const e=i[w];if(r?delete e[n]:e[n]=s,t._renderTransforms)if(Object.keys(e).length){let t=A;for(let n in e)t+=N[n]+e[n]+") ";o.transform=t}else o.removeProperty("transform")}else r?o.removeProperty(z(n)):o[n]=s;e._tail===t&&e.targets.forEach(t=>{t.getAttribute&&t.getAttribute("style")===A&&t.removeAttribute("style")})}})}return t},Ht={deg:1,rad:180/ft,turn:360},Rt={},Ft=(t,e,n,i=!1)=>{const o=e.u,s=e.n;if(1===e.t&&o===n)return e;const r=s+o+n,a=Rt[r];if(Q(a)||i){let i;if(o in Ht)i=s*Ht[o]/Ht[n];else{const e=100,r=t.cloneNode(),a=t.parentNode,l=a&&a!==g?a:g.body;l.appendChild(r);const c=r.style;c.width=e+o;const u=r.offsetWidth||e;c.width=e+n;const d=u/(r.offsetWidth||e);l.removeChild(r),i=d*s}e.n=i,Rt[r]=i}else e.n=a;return e.t,e.u=n,e},Ut=t=>t,Wt=(t=1.68)=>e=>at(e,+t),Vt={in:t=>e=>t(e),out:t=>e=>1-t(1-e),inOut:t=>e=>e<.5?t(2*e)/2:1-t(-2*e+2)/2,outIn:t=>e=>e<.5?(1-t(1-2*e))/2:(t(2*e-1)+1)/2},zt=ft/2,$t=2*ft,Yt={[A]:Wt,Quad:Wt(2),Cubic:Wt(3),Quart:Wt(4),Quint:Wt(5),Sine:t=>1-ut(t*zt),Circ:t=>1-lt(1-t*t),Expo:t=>t?at(2,10*t-10):0,Bounce:t=>{let e,n=4;for(;t<((e=at(2,--n))-1)/11;);return 1/at(4,3-n)-7.5625*at((3*e-2)/22-t,2)},Back:(t=1.7)=>e=>(+t+1)*e*e*e-+t*e*e,Elastic:(t=1,e=.3)=>{const n=mt(+t,1,10),i=mt(+e,k,2),o=i/$t*ht(1/n),s=$t/i;return t=>0===t||1===t?t:-n*at(2,-10*(1-t))*ct((1-t-o)*s)}},Kt=(()=>{const t={linear:Ut,none:Ut};for(let e in Vt)for(let n in Yt){const i=Yt[n],o=Vt[e];t[e+n]=n===A||"Back"===n||"Elastic"===n?(t,e)=>o(i(t,e)):o(i)}return t})(),Gt={linear:Ut,none:Ut},Xt=["steps(","irregular(","linear(","cubicBezier("],Zt=t=>{if(Z(t))for(let e=0,n=Xt.length;e<n;e++)if($(t,Xt[e]))return console.warn(`String syntax for \`ease: "${t}"\` has been removed from the core and replaced by importing and passing the easing function directly: \`ease: ${t}\``),Ut;return J(t)?t:Z(t)?(t=>{if(Gt[t])return Gt[t];if(t.indexOf("(")<=-1){const e=Vt[t]||t.includes("Back")||t.includes("Elastic")?Kt[t]():Kt[t];return e?Gt[t]=e:Ut}{const e=t.slice(0,-1).split("("),n=Kt[e[0]];return n?Gt[t]=n(...e[1].split(",")):Ut}})(t):Ut},Jt=(t,e,n,i,o)=>{const s=t.parent,r=t.duration,a=t.completed,l=t.iterationDuration,c=t.iterationCount,u=t._currentIteration,d=t._loopDelay,h=t._reversed,f=t._alternate,p=t._hasChildren,m=t._delay,g=t._currentTime,b=m+l,y=e-m,_=mt(g,-m,r),T=mt(y,-m,r),E=y-g,C=T>0,L=T>=r,x=r<=k,S=2===o;let j=0,O=y,M=0;if(c>1){const e=~~(T/(l+(L?0:d)));t._currentIteration=mt(e,0,c),L&&t._currentIteration--,j=t._currentIteration%2,O=T%(l+d)||0}const I=h^(f&&j),P=t._ease;let D=L?I?0:r:I?l-O:O;P&&(D=l*P(D/l)||0);const B=(s?s.backwards:y<g)?!I:!!I;if(t._currentTime=y,t._iterationTime=D,t.backwards=B,C&&!t.began?(t.began=!0,n||s&&(B||!s.began)||t.onBegin(t)):y<=0&&(t.began=!1),n||p||!C||t._currentIteration===u||t.onLoop(t),S||1===o&&(e>=m&&e<=b||e<=m&&_>m||e>=b&&_!==r)||D>=b&&_!==r||D<=m&&_>0||e<=_&&_===r&&a||L&&!a&&x){if(C&&(t.computeDeltaTime(_),n||t.onBeforeUpdate(t)),!p){const e=S||(B?-1*E:E)>=W.tickThreshold,o=t._offset+(s?s._offset:0)+m+D;let r,a,l,c,u=t._head,d=0;for(;u;){const t=u._composition,n=u._currentTime,s=u._changeDuration,h=u._absoluteStartTime+u._changeDuration,f=u._nextRep,p=u._prevRep,m=t!==v.none;if((e||(n!==s||o<=h+(f?f._delay:0))&&(0!==n||o>=u._absoluteStartTime))&&(!m||!u._isOverridden&&(!u._isOverlapped||o<=h)&&(!f||f._isOverridden||o<=f._absoluteStartTime)&&(!p||p._isOverridden||o>=p._absoluteStartTime+p._changeDuration+u._delay))){const e=u._currentTime=mt(D-u._startTime,0,s),n=u._ease(e/u._updateDuration),o=u._modifier,h=u._valueType,f=u._tweenType,p=0===f,g=0===h,b=g&&p||0===n||1===n?-1:W.precision;let y,_;if(g)y=_=o(vt(bt(u._fromNumber,u._toNumber,n),b));else if(1===h)_=o(vt(bt(u._fromNumber,u._toNumber,n),b)),y=`${_}${u._unit}`;else if(2===h){const t=u._fromNumbers,e=u._toNumbers,i=vt(mt(o(bt(t[0],e[0],n)),0,255),0),s=vt(mt(o(bt(t[1],e[1],n)),0,255),0),r=vt(mt(o(bt(t[2],e[2],n)),0,255),0),a=mt(o(vt(bt(t[3],e[3],n),b)),0,1);if(y=`rgba(${i},${s},${r},${a})`,m){const t=u._numbers;t[0]=i,t[1]=s,t[2]=r,t[3]=a}}else if(3===h){y=u._strings[0];for(let t=0,e=u._toNumbers.length;t<e;t++){const e=o(vt(bt(u._fromNumbers[t],u._toNumbers[t],n),b)),i=u._strings[t+1];y+=`${i?e+i:e}`,m&&(u._numbers[t]=e)}}if(m&&(u._number=_),i||t===v.blend)u._value=y;else{const t=u.property;r=u.target,p?r[t]=y:1===f?r.setAttribute(t,y):(a=r.style,3===f?(r!==l&&(l=r,c=r[w]),c[t]=y,d=1):2===f?a[t]=y:4===f&&a.setProperty(t,y)),C&&(M=1)}}if(d&&u._renderTransforms){let t=A;for(let e in c)t+=`${N[e]}${c[e]}) `;a.transform=t,d=0}u=u._next}!n&&M&&t.onRender(t)}!n&&C&&t.onUpdate(t)}return s&&x?!n&&(s.began&&!B&&y>0&&!a||B&&y<=k&&a)&&(t.onComplete(t),t.completed=!B):C&&L?c===1/0?t._startTime+=t.duration:t._currentIteration>=c-1&&(t.paused=!0,a||p||(t.completed=!0,n||s&&(B||!s.began)||(t.onComplete(t),t._resolve(t)))):t.completed=!1,M},Qt=(t,e,n,i,o)=>{const s=t._currentIteration;if(Jt(t,e,n,i,o),t._hasChildren){const r=t,a=r.backwards,l=i?e:r._iterationTime,c=Y();let u=0,d=!0;if(!i&&r._currentIteration!==s){const t=r.iterationDuration;Tt(r,e=>{if(a){const i=e.duration,o=e._offset+e._delay;n||!(i<=k)||o&&o+i!==t||e.onComplete(e)}else!e.completed&&!e.backwards&&e._currentTime<e.iterationDuration&&Jt(e,t,n,1,2),e.began=!1,e.completed=!1}),n||r.onLoop(r)}Tt(r,t=>{const e=vt((l-t._offset)*t._speed,12),s=t._fps<r._fps?t.requestTick(c):o;u+=Jt(t,e,n,i,s),!t.completed&&d&&(d=!1)},a),!n&&u&&r.onRender(r),(d||a)&&r._currentTime>=r.duration&&(r.paused=!0,r.completed||(r.completed=!0,n||(r.onComplete(r),r._resolve(r))))}},te={animation:null,update:S},ee={_rep:new WeakMap,_add:new Map},ne=(t,e,n="_rep")=>{const i=ee[n];let o=i.get(t);return o||(o={},i.set(t,o)),o[e]?o[e]:o[e]={_head:null,_tail:null}},ie=(t,e)=>t._isOverridden||t._absoluteStartTime>e._absoluteStartTime,oe=t=>{t._isOverlapped=1,t._isOverridden=1,t._changeDuration=k,t._currentTime=k},se=(t,e)=>{const n=t._composition;if(n===v.replace){const n=t._absoluteStartTime;Et(e,t,ie,"_prevRep","_nextRep");const i=t._prevRep;if(i){const e=i.parent,o=i._absoluteStartTime+i._changeDuration;if(t.parent.id!==e.id&&e.iterationCount>1&&o+(e.duration-e.iterationDuration)>n){oe(i);let t=i._prevRep;for(;t&&t.parent.id===e.id;)oe(t),t=t._prevRep}const s=n-t._delay;if(o>s){const t=i._startTime,e=o-(t+i._updateDuration),n=vt(s-e-t,12);i._changeDuration=n,i._currentTime=n,i._isOverlapped=1,n<k&&oe(i)}let r=!0;if(Tt(e,t=>{t._isOverlapped||(r=!1)}),r){const t=e.parent;if(t){let n=!0;Tt(t,t=>{t!==e&&Tt(t,t=>{t._isOverlapped||(n=!1)})}),n&&t.cancel()}else e.cancel()}}}else if(n===v.blend){const e=ne(t.target,t.property,"_add"),n=(t=>{let e=te.animation;return e||(e={duration:k,computeDeltaTime:S,_offset:0,_delay:0,_head:null,_tail:null},te.animation=e,te.update=()=>{t.forEach(t=>{for(let e in t){const n=t[e],i=n._head;if(i){const t=i._valueType,e=3===t||2===t?wt(i._fromNumbers):null;let o=i._fromNumber,s=n._tail;for(;s&&s!==i;){if(e)for(let t=0,n=s._numbers.length;t<n;t++)e[t]+=s._numbers[t];else o+=s._number;s=s._prevAdd}i._toNumber=o,i._toNumbers=e}}}),Jt(e,1,1,0,2)}),e})(ee._add);let i=e._head;i||(i={...t},i._composition=v.replace,i._updateDuration=k,i._startTime=0,i._numbers=wt(t._fromNumbers),i._number=0,i._next=null,i._prev=null,Et(e,i),Et(n,i));const o=t._toNumber;if(t._fromNumber=i._fromNumber-o,t._toNumber=0,t._numbers=wt(t._fromNumbers),t._number=0,i._fromNumber=o,t._toNumbers){const e=wt(t._toNumbers);e&&e.forEach((e,n)=>{t._fromNumbers[n]=i._fromNumbers[n]-e,t._toNumbers[n]=0}),i._fromNumbers=e}Et(e,t,null,"_prevAdd","_nextAdd")}return t},re=t=>{const e=t._composition;if(e!==v.none){const n=t.target,i=t.property,o=ee._rep.get(n)[i];if(kt(o,t,"_prevRep","_nextRep"),e===v.blend){const e=ee._add,o=e.get(n);if(!o)return;const s=o[i],r=te.animation;kt(s,t,"_prevAdd","_nextAdd");const a=s._head;if(a&&a===s._tail){kt(s,a,"_prevAdd","_nextAdd"),kt(r,a);let t=!0;for(let e in o)if(o[e]._head){t=!1;break}t&&e.delete(n)}}}return t};class ae{constructor(t=0){this.deltaTime=0,this._currentTime=t,this._elapsedTime=t,this._startTime=t,this._lastTime=t,this._scheduledTime=0,this._frameDuration=vt(C/120,0),this._fps=120,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(t){const e=this._frameDuration,n=+t,i=n<k?k:n,o=vt(C/i,0);this._fps=i,this._frameDuration=o,this._scheduledTime+=o-e}get speed(){return this._speed}set speed(t){const e=+t;this._speed=e<k?k:e}requestTick(t){const e=this._scheduledTime,n=this._elapsedTime;if(this._elapsedTime+=t-n,n<e)return 0;const i=this._frameDuration,o=n-e;return this._scheduledTime+=o<i?i:o,1}computeDeltaTime(t){const e=t-this._lastTime;return this.deltaTime=e,this._lastTime=t,e}}const le=(()=>p?requestAnimationFrame:setImmediate)(),ce=(()=>p?cancelAnimationFrame:clearImmediate)();class ue extends ae{constructor(t){super(t),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=F,this.paused=!0,this.reqId=0}update(){const t=this._currentTime=Y();if(this.requestTick(t)){this.computeDeltaTime(t);const e=this._speed,n=this._fps;let i=this._head;for(;i;){const o=i._next;i.paused?(kt(this,i),this._hasChildren=!!this._tail,i._running=!1,i.completed&&!i._cancelled&&i.cancel()):Qt(i,(t-i._startTime)*i._speed*e,0,0,i._fps<n?i.requestTick(t):1),i=o}te.update()}}wake(){return this.useDefaultMainLoop&&!this.reqId&&(this.requestTick(Y()),this.reqId=le(he)),this}pause(){if(this.reqId)return this.paused=!0,fe()}resume(){if(this.paused)return this.paused=!1,Tt(this,t=>t.resetTime()),this.wake()}get speed(){return this._speed*(1===W.timeScale?1:C)}set speed(t){this._speed=t*W.timeScale,Tt(this,t=>t.speed=t._speed)}get timeUnit(){return 1===W.timeScale?"ms":"s"}set timeUnit(t){const e="s"===t,n=e?.001:1;if(W.timeScale!==n){W.timeScale=n,W.tickThreshold=200*n;const t=e?.001:C;this.defaults.duration*=t,this._speed*=t}}get precision(){return W.precision}set precision(t){W.precision=t}}const de=(()=>{const t=new ue(Y());return p&&(V.engine=t,g.addEventListener("visibilitychange",()=>{t.pauseOnDocumentHidden&&(g.hidden?t.pause():t.resume())})),t})(),he=()=>{de._head?(de.reqId=le(he),de.update()):de.reqId=0},fe=()=>(ce(de.reqId),de.reqId=0,de),pe=t=>(t.paused=!0,t.began=!1,t.completed=!1,t),me=t=>t._cancelled?(t._hasChildren?Tt(t,me):Tt(t,t=>{t._composition!==v.none&&se(t,ne(t.target,t.property))}),t._cancelled=0,t):t;let ge=0;class ve extends ae{constructor(t={},e=null,n=0){super(0);const{id:i,delay:o,duration:s,reversed:r,alternate:a,loop:l,loopDelay:c,autoplay:u,frameRate:d,playbackRate:h,onComplete:f,onLoop:p,onPause:m,onBegin:g,onBeforeUpdate:v,onUpdate:b}=t;U.current&&U.current.register(this);const y=e?0:de._elapsedTime,_=e?e.defaults:W.defaults,w=J(o)||Q(o)?_.delay:+o,T=J(s)||Q(s)?1/0:+s,E=Lt(l,_.loop),C=Lt(c,_.loopDelay),A=!0===E||E===1/0||E<0?1/0:E+1;let L=0;e?L=n:(de.reqId||de.requestTick(Y()),L=(de._elapsedTime-de._startTime)*W.timeScale),this.id=Q(i)?++ge:i,this.parent=e,this.duration=yt((T+C)*A-C)||k,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=g||_.onBegin,this.onBeforeUpdate=v||_.onBeforeUpdate,this.onUpdate=b||_.onUpdate,this.onLoop=p||_.onLoop,this.onPause=m||_.onPause,this.onComplete=f||_.onComplete,this.iterationDuration=T,this.iterationCount=A,this._autoplay=!e&&Lt(u,_.autoplay),this._offset=L,this._delay=w,this._loopDelay=C,this._iterationTime=0,this._currentIteration=0,this._resolve=S,this._running=!1,this._reversed=+Lt(r,_.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=Lt(a,_.alternate),this._prev=null,this._next=null,this._elapsedTime=y,this._startTime=y,this._lastTime=y,this._fps=Lt(d,_.frameRate),this._speed=Lt(h,_.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(t){t?this.cancel():this.reset(!0).play()}get currentTime(){return mt(vt(this._currentTime,W.precision),-this._delay,this.duration)}set currentTime(t){const e=this.paused;this.pause().seek(+t),e||this.resume()}get iterationCurrentTime(){return vt(this._iterationTime,W.precision)}set iterationCurrentTime(t){this.currentTime=this.iterationDuration*this._currentIteration+t}get progress(){return mt(vt(this._currentTime/this.duration,10),0,1)}set progress(t){this.currentTime=this.duration*t}get iterationProgress(){return mt(vt(this._iterationTime/this.iterationDuration,10),0,1)}set iterationProgress(t){const e=this.iterationDuration;this.currentTime=e*this._currentIteration+e*t}get currentIteration(){return this._currentIteration}set currentIteration(t){this.currentTime=this.iterationDuration*mt(+t,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(t){t?this.reverse():this.play()}get speed(){return super.speed}set speed(t){super.speed=t,this.resetTime()}reset(t=!1){return me(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,Qt(this,0,1,~~t,2),pe(this),this._hasChildren&&Tt(this,pe),this}init(t=!1){this.fps=this._fps,this.speed=this._speed,!t&&this._hasChildren&&Qt(this,this.duration,1,~~t,2),this.reset(t);const e=this._autoplay;return!0===e?this.resume():e&&!Q(e.linked)&&e.link(this),this}resetTime(){const t=1/(this._speed*de._speed);return this._startTime=Y()-(this._currentTime+this._delay)*t,this}pause(){return this.paused||(this.paused=!0,this.onPause(this)),this}resume(){return this.paused?(this.paused=!1,this.duration<=k&&!this._hasChildren?Qt(this,k,0,0,2):(this._running||(Et(de,this),de._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,de.wake()),this):this}restart(){return this.reset().resume()}seek(t,e=0,n=0){me(this),this.completed=!1;const i=this.paused;return this.paused=!0,Qt(this,t+this._delay,~~e,~~n,1),i?this:this.resume()}alternate(){const t=this._reversed,e=this.iterationCount,n=this.iterationDuration,i=e===1/0?dt(E/n):e;return this._reversed=+(!this._alternate||i%2?!t:t),e===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(n*i-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?Tt(this,t=>t.cancel(),!0):Tt(this,re),this._cancelled=1,this.pause()}stretch(t){const e=this.duration,n=_t(t);if(e===n)return this;const i=t/e,o=t<=k;return this.duration=o?k:n,this.iterationDuration=o?k:_t(this.iterationDuration*i),this._offset*=i,this._delay*=i,this._loopDelay*=i,this}revert(){Qt(this,0,1,0,1);const t=this._autoplay;return t&&t.linked&&t.linked===this&&t.revert(),this.cancel()}complete(){return this.seek(this.duration).cancel()}then(t=S){const e=this.then,n=()=>{this.then=null,t(this),this.then=e,this._resolve=S};return new Promise(t=>(this._resolve=()=>t(n()),this.completed&&this._resolve(),this))}}const be={t:0,n:0,u:null,o:null,d:null,s:null},ye={t:0,n:0,u:null,o:null,d:null,s:null},_e={},we={func:null},Te=[null],ke=[null,null],Ee={to:null};let Ce,Ae,Le=0;class xe extends ve{constructor(t,e,n,i,o=!1,s=0,r=0){super(e,n,i);const a=function(t){const e=function(t){if(tt(t))return[];if(!p)return K(t)&&t.flat(1/0)||[t];if(K(t)){const e=t.flat(1/0),n=[];for(let t=0,i=e.length;t<i;t++){const i=e[t];if(!tt(i)){const t=Ct(i);if(t)for(let e=0,i=t.length;e<i;e++){const i=t[e];if(!tt(i)){let t=!1;for(let e=0,o=n.length;e<o;e++)if(n[e]===i){t=!0;break}t||n.push(i)}}else{let t=!1;for(let e=0,o=n.length;e<o;e++)if(n[e]===i){t=!0;break}t||n.push(i)}}}return n}const e=Ct(t);return e?Array.from(e):[t]}(t),n=e.length;if(n)for(let t=0;t<n;t++){const n=e[t];if(!n[b]){n[b]=!0;const t=et(n);(n.nodeType||t)&&(n[y]=!0,n[_]=t,n[w]={})}}return e}(t),l=a.length,c=e.keyframes,u=c?((t,e)=>{const n={...t};for(let i in e){const o=t[i];n[i]=Q(o)?e[i]:o}return n})(((t,e)=>{const n={};if(K(t)){const e=[].concat(...t.map(t=>Object.keys(t))).filter(st);for(let i=0,o=e.length;i<o;i++){const o=e[i],s=t.map(t=>{const e={};for(let n in t){const i=t[n];st(n)?n===o&&(e.to=i):e[n]=i}return e});n[o]=s}}else{const i=Lt(e.duration,W.defaults.duration),o=Object.keys(t).map(e=>({o:parseFloat(e)/100,p:t[e]})).sort((t,e)=>t.o-e.o);o.forEach(t=>{const e=t.o,o=t.p;for(let t in o)if(st(t)){let s=n[t];s||(s=n[t]=[]);const r=e*i;let a=s.length,l=s[a-1];const c={to:o[t]};let u=0;for(let t=0;t<a;t++)u+=s[t].duration;1===a&&(c.from=l.to),o.ease&&(c.ease=o.ease),c.duration=r-(a?u:0),s.push(c)}return t});for(let t in n){const e=n[t];let i;for(let t=0,n=e.length;t<n;t++){const n=e[t],o=n.ease;n.ease=i||void 0,i=o}e[0].duration||e.shift()}}return n})(c,e),e):e,{delay:d,duration:h,ease:f,playbackEase:m,modifier:g,composition:T,onRender:E}=u,A=n?n.defaults:W.defaults,L=Lt(m,A.playbackEase),x=L?Zt(L):null,N=!Q(f)&&!Q(f.ease),S=N?f.ease:Lt(f,x?"linear":A.ease),j=N?f.settlingDuration:Lt(h,A.duration),O=Lt(d,A.delay),M=g||A.modifier,I=Q(T)&&l>=C?v.none:Q(T)?A.composition:T,P=this._offset+(n?n._offset:0);N&&(f.parent=this);let D=NaN,B=NaN,q=0,H=0;for(let t=0;t<l;t++){const e=a[t],i=s||t,c=r||l;let d=NaN,h=NaN;for(let t in u)if(st(t)){const s=Nt(e,t),r=Bt(t,e,s);let a=u[t];const l=K(a);if(o&&!l&&(ke[0]=a,ke[1]=a,a=ke),l){const t=a.length,e=!G(a[0]);2===t&&e?(Ee.to=a,Te[0]=Ee,Ce=Te):t>2&&e?(Ce=[],a.forEach((t,e)=>{e?1===e?(ke[1]=t,Ce.push(ke)):Ce.push(t):ke[0]=t})):Ce=a}else Te[0]=a,Ce=Te;let f=null,p=null,m=NaN,g=0,b=0;for(let t=Ce.length;b<t;b++){const o=Ce[b];G(o)?Ae=o:(Ee.to=o,Ae=Ee),we.func=null;const a=xt(Ae.to,e,i,c,we);let l;G(a)&&!Q(a.to)?(Ae=a,l=a.to):l=a;const u=xt(Ae.from,e,i,c),d=Ae.ease,h=!Q(d)&&!Q(d.ease),y=h?d.ease:d||S,_=h?d.settlingDuration:xt(Lt(Ae.duration,t>1?xt(j,e,i,c)/t:j),e,i,c),w=xt(Lt(Ae.delay,b?0:O),e,i,c),T=xt(Lt(Ae.composition,I),e,i,c),E=X(T)?T:v[T],C=Ae.modifier||M,A=!Q(u),L=!Q(l),x=K(l),N=x||A&&L,D=p?g+w:w,B=vt(P+D,12);H||!A&&!x||(H=1);let R=p;if(E!==v.none){f||(f=ne(e,r));let t=f._head;for(;t&&!t._isOverridden&&t._absoluteStartTime<=B;)if(R=t,t=t._nextRep,t&&t._absoluteStartTime>=B)for(;t;)oe(t),t=t._nextRep}if(N?(Mt(x?xt(l[0],e,i,c):u,be),Mt(x?xt(l[1],e,i,c,we):l,ye),0===be.t&&(R?1===R._valueType&&(be.t=1,be.u=R._unit):(Mt(jt(e,r,s,_e),Pt),1===Pt.t&&(be.t=1,be.u=Pt.u)))):(L?Mt(l,ye):p?It(p,ye):Mt(n&&R&&R.parent.parent===n?R._value:jt(e,r,s,_e),ye),A?Mt(u,be):p?It(p,be):Mt(n&&R&&R.parent.parent===n?R._value:jt(e,r,s,_e),be)),be.o&&(be.n=Ot(R?R._toNumber:Mt(jt(e,r,s,_e),Pt).n,be.n,be.o)),ye.o&&(ye.n=Ot(be.n,ye.n,ye.o)),be.t!==ye.t)if(3===be.t||3===ye.t){const t=3===be.t?be:ye,e=3===be.t?ye:be;e.t=3,e.s=wt(t.s),e.d=t.d.map(()=>e.n)}else if(1===be.t||1===ye.t){const t=1===be.t?be:ye,e=1===be.t?ye:be;e.t=1,e.u=t.u}else if(2===be.t||2===ye.t){const t=2===be.t?be:ye,e=2===be.t?ye:be;e.t=2,e.s=t.s,e.d=[0,0,0,1]}if(be.u!==ye.u){let t=ye.u?be:ye;t=Ft(e,t,ye.u?ye.u:be.u,!1)}if(ye.d&&be.d&&ye.d.length!==be.d.length){const t=be.d.length>ye.d.length?be:ye,e=t===be?ye:be;e.d=t.d.map((t,n)=>Q(e.d[n])?0:e.d[n]),e.s=wt(t.s)}const F=vt(+_||k,12);let U=_e[r];tt(U)||(_e[r]=null);const W={parent:this,id:Le++,property:r,target:e,_value:null,_func:we.func,_ease:Zt(y),_fromNumbers:wt(be.d),_toNumbers:wt(ye.d),_strings:wt(ye.s),_fromNumber:be.n,_toNumber:ye.n,_numbers:wt(be.d),_number:be.n,_unit:ye.u,_modifier:C,_currentTime:0,_startTime:D,_delay:+w,_updateDuration:F,_changeDuration:F,_absoluteStartTime:B,_tweenType:s,_valueType:ye.t,_composition:E,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_inlineValue:U,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};E!==v.none&&se(W,f),isNaN(m)&&(m=W._startTime),g=vt(D+F,12),p=W,q++,Et(this,W)}(isNaN(B)||m<B)&&(B=m),(isNaN(D)||g>D)&&(D=g),3===s&&(d=q-b,h=q)}if(!isNaN(d)){let t=0;Tt(this,e=>{t>=d&&t<h&&(e._renderTransforms=1,e._composition===v.blend&&Tt(te.animation,t=>{t.id===e.id&&(t._renderTransforms=1)})),t++})}}l||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),B?(Tt(this,t=>{t._startTime-t._delay||(t._delay-=B),t._startTime-=B}),D-=B):B=0,D||(D=k,this.iterationCount=0),this.targets=a,this.duration=D===k?k:yt((D+this._loopDelay)*this.iterationCount-this._loopDelay)||k,this.onRender=E||A.onRender,this._ease=x,this._delay=B,this.iterationDuration=D,!this._autoplay&&H&&this.onRender(this)}stretch(t){const e=this.duration;if(e===_t(t))return this;const n=t/e;return Tt(this,t=>{t._updateDuration=_t(t._updateDuration*n),t._changeDuration=_t(t._changeDuration*n),t._currentTime*=n,t._startTime*=n,t._absoluteStartTime*=n}),super.stretch(t)}refresh(){return Tt(this,t=>{const e=t._func;if(e){const n=jt(t.target,t.property,t._tweenType);Mt(n,Pt),Mt(e(),ye),t._fromNumbers=wt(Pt.d),t._fromNumber=Pt.n,t._toNumbers=wt(ye.d),t._strings=wt(ye.s),t._toNumber=ye.o?Ot(Pt.n,ye.n,ye.o):ye.n}}),this.duration===k&&this.restart(),this}revert(){return super.revert(),qt(this)}then(t){return super.then(t)}}const Ne=(t,e)=>new xe(t,e,null,0,!1).init();var Se=window.matchMedia("(prefers-reduced-motion: reduce)").matches,je=function(){return je=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},je.apply(this,arguments)},Oe={offset:0,ease:"cubicBezier(1,0,.7,1)",duration:300,replaceState:!1},Me=function(){function t(t,e){var n=this;this.handleClick=function(t){t.preventDefault();var e=t.currentTarget.getAttribute("href");if(e){var i=s(e);i&&n.scrollTo(i,e)}};var i=je(je({},Oe),e),o=i.ease,r=i.duration,l=i.onBegin,c=i.onComplete;this.elems="string"==typeof t?a(t):t,this.options=i;var u=Se?0:r;this.animeOptions={duration:u,ease:o,onBegin:l,onComplete:c},this.init()}return t.prototype.init=function(){this.addListeners()},t.prototype.addListeners=function(){var t=this;this.elems.forEach(function(e){return l(e,"click",t.handleClick)})},t.prototype.destroy=function(){var t=this;this.elems.forEach(function(e){return n=e,i=t.handleClick,n.removeEventListener("click",i);var n,i})},t.prototype.scrollTo=function(t,e){var n=this.options,i=n.offset,o=void 0===i?0:i,s=n.scrollTop,r=n.container,a=t.getBoundingClientRect().top,l=window.pageYOffset,c=[document.documentElement,document.body],u="function"==typeof o?o(t):o;r&&(c=r,l=r.scrollTop);var d="function"==typeof s?s(t,l):a+l-u,h=this.animeOptions,f=h.duration,p=h.ease,m=h.onBegin,g=h.onComplete;this.anime=Ne(c,{scrollTop:d,duration:f,ease:p,onBegin:m,onComplete:g}),this.options.replaceState&&window.history.replaceState(null,"",document.location.pathname+e)},t}();const Ie=Me;function Pe(t,e){void 0===e&&(e=3),t.hidden=!0,new Ie([t]);var n=window.innerHeight*e;f(function(){window.pageYOffset>n?t.hidden=!1:t.hidden=!0})}var De=s(".js-to-top-btn"),Be=s(".js-journey-to-top-btn");De&&Pe(De),Be&&Pe(Be,3.75);var qe=function(){function t(t){var e=this;this.handleElemKeyDown=function(t){32===t.keyCode&&(t.preventDefault(),e.toggle())},this.elem=t,this.target=this.getTarget(this.elem),this.activeClass="is-toggled",this.enabledClass="has-toggler";var n=t.getAttribute("data-toggle-linked");this.linked=n?'[data-toggle-linked="'.concat(n,'"]'):null;var i=t.getAttribute("data-toggle-group");this.group=i?'[data-toggle-group="'.concat(i,'"]'):null,t.getAttribute("data-toggle-group-parent"),this.groupParent=i?s(".".concat(i)):null,this.toggleAllParent=s("[data-toggle-all-group]"),this.handleElemClick=this.handleElemClick.bind(this),this.focusTargetSelector=t.getAttribute("data-toggle-focus"),this.focusTargetSelector&&(this.focusTarget=s(this.focusTargetSelector)),this.init()}return t.prototype.init=function(){var t;this.target&&(this.addListeners(),this.elem.classList.add(this.enabledClass),this.target.classList.add(this.enabledClass),null===(t=this.groupParent)||void 0===t||t.classList.add(this.enabledClass))},t.prototype.destroy=function(){var t,e;this.elem.classList.remove(this.enabledClass),this.elem.classList.remove(this.activeClass),this.target.classList.remove(this.enabledClass),this.target.classList.remove(this.activeClass),null===(t=this.groupParent)||void 0===t||t.classList.remove(this.enabledClass),null===(e=this.groupParent)||void 0===e||e.classList.remove(this.activeClass),this.elem.removeEventListener("click",this.handleElemClick),this.elem.removeEventListener("keydown",this.handleElemKeyDown)},t.prototype.addListeners=function(){this.elem.addEventListener("click",this.handleElemClick),this.elem.addEventListener("keydown",this.handleElemKeyDown)},t.prototype.getTarget=function(t){var e=t.getAttribute("data-toggle-target");if(e)return s(e)},t.prototype.handleElemClick=function(t){t.preventDefault(),this.toggle()},t.prototype.closeGroup=function(){var t=this;if(this.group){var e=a(this.group);e&&e.forEach(function(e){var n=t.getTarget(e);t.close(e,n)})}},t.prototype.toggleLinked=function(){var t=this;if(this.linked){var e=a(this.linked);e&&e.forEach(function(e){var n=t.getTarget(e);if(t.isToggled(n))return t.close(e,n);t.open(e,n)})}},t.prototype.open=function(t,e){var n=this;this.groupParent&&this.groupParent.classList.add(this.activeClass),e&&e.classList.add(this.activeClass),t&&(t.classList.add(this.activeClass),this.setAriaExpanded(t,!0),this.focusTarget&&setTimeout(function(){var t,e=null===(t=n.focusTarget)||void 0===t?void 0:t.querySelector("input");null==e||e.focus()},100))},t.prototype.setAriaExpanded=function(t,e){t.hasAttribute("aria-expanded")&&t.setAttribute("aria-expanded",String(e))},t.prototype.close=function(t,e){this.groupParent&&this.groupParent.classList.remove(this.activeClass),e&&e.classList.remove(this.activeClass),t&&(t.classList.remove(this.activeClass),this.setAriaExpanded(t,!1),this.toggleAllParent&&this.isToggled(this.toggleAllParent)&&this.toggleAllParent.classList.remove(this.activeClass))},t.prototype.isToggled=function(t){return t.classList.contains(this.activeClass)},t.prototype.toggle=function(){if(!this.isToggled(this.target))return this.group&&this.closeGroup(),this.linked&&this.toggleLinked(),this.open(this.elem,this.target);this.close(this.elem,this.target)},t}();a("[data-toggle-target]").forEach(function(t){return new qe(t)});var He=function(){function t(t){this.elem=t,this.videoElement=s("[data-background-video]",this.elem),this.controls=s("[data-background-video-trigger]",this.elem),this.playButton=s(".background-video--button-play",this.elem),this.pauseButton=s(".background-video--button-pause",this.elem),this.handleClick=this.handleClick.bind(this),this.videoElement&&this.init()}return t.prototype.init=function(){this.addListeners(),window.matchMedia("(max-width: 512px)").matches||Se?(this.videoElement.autoplay=!1,this.controls.classList.add("not-playing"),this.controls.setAttribute("aria-hidden","true")):(this.controls.setAttribute("aria-hidden","false"),this.playButton.setAttribute("aria-hidden","true"),this.pauseButton.setAttribute("aria-hidden","false"))},t.prototype.addListeners=function(){this.controls.addEventListener("click",this.handleClick)},t.prototype.handleClick=function(t){this.controls.classList.toggle("not-playing"),this.controls.classList.contains("not-playing")?(this.videoElement.pause(),this.playButton.setAttribute("aria-hidden","false"),this.pauseButton.setAttribute("aria-hidden","true")):(this.videoElement.play(),this.playButton.setAttribute("aria-hidden","true"),this.pauseButton.setAttribute("aria-hidden","false"))},t}();function Re(t){return function(t){if(Array.isArray(t))return Fe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Fe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}a("[data-background-video-parent]").forEach(function(t){new He(t)});var Ue,We,Ve,ze,$e,Ye=(Ue=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],We=function(){function t(e){var n=e.targetModal,i=e.triggers,o=void 0===i?[]:i,s=e.onShow,r=void 0===s?function(){}:s,a=e.onClose,l=void 0===a?function(){}:a,c=e.openTrigger,u=void 0===c?"data-micromodal-trigger":c,d=e.closeTrigger,h=void 0===d?"data-micromodal-close":d,f=e.openClass,p=void 0===f?"is-open":f,m=e.disableScroll,g=void 0!==m&&m,v=e.disableFocus,b=void 0!==v&&v,y=e.awaitCloseAnimation,_=void 0!==y&&y,w=e.awaitOpenAnimation,T=void 0!==w&&w,k=e.debugMode,E=void 0!==k&&k;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal="string"==typeof n?document.getElementById(n):n,this.config={debugMode:E,disableScroll:g,openTrigger:u,closeTrigger:h,openClass:p,onShow:r,onClose:l,awaitCloseAnimation:_,awaitOpenAnimation:T,disableFocus:b},o.length>0&&this.registerTriggers.apply(this,Re(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e;return(e=[{key:"registerTriggers",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.filter(Boolean).forEach(function(e){e.addEventListener("click",function(e){return t.showModal(e)})})}},{key:"showModal",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",function e(){t.modal.removeEventListener("animationend",e,!1),t.setFocusToFirstNode()},!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,e)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",function t(){e.classList.remove(n),e.removeEventListener("animationend",t,!1)},!1)}else e.classList.remove(this.config.openClass)}},{key:"closeModalByIdOrElement",value:function(t){this.modal="string"==typeof t?document.getElementById(t):t,this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:""});break;case"disable":Object.assign(e.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){(t.target.hasAttribute(this.config.closeTrigger)||t.target.parentNode.hasAttribute(this.config.closeTrigger))&&(t.preventDefault(),t.stopPropagation(),this.closeModal(t))}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(Ue);return Array.apply(void 0,Re(t))}},{key:"setFocusToFirstNode",value:function(){var t=this;if(!this.config.disableFocus){var e=this.getFocusableNodes();if(0!==e.length){var n=e.filter(function(e){return!e.hasAttribute(t.config.closeTrigger)});n.length>0&&n[0].focus(),0===n.length&&e[0].focus()}}}},{key:"retainFocus",value:function(t){var e=this.getFocusableNodes();if(0!==e.length)if(e=e.filter(function(t){return null!==t.offsetParent}),this.modal.contains(document.activeElement)){var n=e.indexOf(document.activeElement);t.shiftKey&&0===n&&(e[e.length-1].focus(),t.preventDefault()),!t.shiftKey&&e.length>0&&n===e.length-1&&(e[0].focus(),t.preventDefault())}else e[0].focus()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),Ve=null,ze=function(t){if("string"==typeof id?!document.getElementById(t):!t)return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},$e=function(t,e){if(function(t){t.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(t),!e)return!0;for(var n in e)ze(n);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),n=Re(document.querySelectorAll("[".concat(e.openTrigger,"]"))),i=function(t,e){var n=[];return t.forEach(function(t){var i=t.attributes[e].value;void 0===n[i]&&(n[i]=[]),n[i].push(t)}),n}(n,e.openTrigger);if(!0!==e.debugMode||!1!==$e(n,i))for(var o in i){var s=i[o];e.targetModal=o,e.triggers=Re(s),Ve=new We(e)}},show:function(t,e){var n=e||{};n.targetModal=t,!0===n.debugMode&&!1===ze(t)||(Ve&&Ve.removeEventListeners(),(Ve=new We(n)).showModal())},close:function(t){t?Ve.closeModalByIdOrElement(t):Ve.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=Ye);const Ke=Ye;var Ge=function(){function t(t){var e=this;this.handleKeyUp=function(t){32===t.keyCode&&(t.preventDefault(),e.showVideo())},this.handleVideoEmbedClick=function(t){t.preventDefault(),e.showVideo()},this.elem=t,this.originalContent=t,this.content=s(".js-video-content",t),this.link=s(".js-video-link",t),this.iframe=t.getAttribute("data-video"),this.activeClass="has-video",this.hideVideo=this.hideVideo.bind(this),this.init()}return t.prototype.init=function(){this.addListeners()},t.prototype.addListeners=function(){this.link&&(l(this.link,"click",this.handleVideoEmbedClick),l(this.link,"keydown",this.handleKeyUp))},t.prototype.hideVideo=function(){this.elem.classList.remove(this.activeClass),this.content&&(this.content.innerHTML=this.link.outerHTML),this.link=s(".js-video-link",this.elem),this.addListeners()},t.prototype.showVideo=function(){var t=this;if(this.elem.classList.add(this.activeClass),this.iframe){var e,n,i,o=function(t){var e=document.createElement("div");return e.innerHTML=t,0===e.childNodes.length?"":e.childNodes[0].nodeValue}(this.iframe);this.content&&(this.content.innerHTML=o||this.iframe,s("iframe",this.content).ariaLabel="Video player"),e=this.elem,n=function(){t.hideVideo()},(i=new IntersectionObserver(function(t){t.forEach(function(t){0===t.intersectionRatio&&(n(),i.unobserve(e))})})).observe(e)}else console.warn("No data-video set for video",this.elem)},t}();a(".js-video").forEach(function(t){return new Ge(t)});const Xe=Ge;var Ze=function(){function t(t){this.elem=t,this.modalElem=s(".journey-modal--block"),this.swiperClass=".journey-swiper",this.paginationClass=".swiper-pagination",this.paginationEl=s(this.paginationClass),this.swiperParentEl=s(".journey-modal__pagination"),this.swiperParentWrapperEl=s(".journey-modal__pagination-wrapper"),this.activeVideoClass="has-video",this.translate=0,this.halfWindowWidth=window.innerWidth/2,this.closeBtn=s("[data-journey-overlay-close]"),this.loadingEls=a("[data-loading]"),this.swiperInit=this.swiperInit.bind(this),this.swiperUpdate=this.swiperUpdate.bind(this),this.scrollToTop=this.scrollToTop.bind(this),this.handleHashChange=this.handleHashChange.bind(this),this.resetNavigation=this.resetNavigation.bind(this),this.init()}return t.prototype.elementOnLoad=function(t,e){var n,i,o,r,a;(n=t,i=void 0,o=void 0,r=void 0,a=function(){return function(t,e){var n,i,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},r=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return r.next=a(0),r.throw=a(1),r.return=a(2),"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(t){switch(t.label){case 0:return null!==s(n)?[3,2]:[4,new Promise(function(t){return window.requestAnimationFrame(t)})];case 1:return t.sent(),[3,0];case 2:return[2,n]}})},new(r||(r=Promise))(function(t,e){function n(t){try{l(a.next(t))}catch(t){e(t)}}function s(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var i;e.done?t(e.value):(i=e.value,i instanceof r?i:new r(function(t){t(i)})).then(n,s)}l((a=a.apply(i,o||[])).next())})).then(function(t){e(t)})},t.prototype.init=function(){this.swiperInit(),this.addListeners()},t.prototype.getSwiper=function(){return t=this,e=void 0,i=function(){var t=this;return function(t,e){var n,i,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},r=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return r.next=a(0),r.throw=a(1),r.return=a(2),"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(e){return[2,r.e(979).then(r.bind(r,236)).then(function(e){var n=e.default;r.e(979).then(r.bind(r,207)).then(function(e){var i=e.Navigation,o=e.Pagination,s=e.HashNavigation,r=e.A11y;t.loadingEls.forEach(function(t){return t.classList.add("has-loaded")}),t.swiperEl=new n(t.swiperClass,{modules:[i,o,s,r],autoHeight:!0,hashNavigation:{replaceState:!0,watchState:!0},navigation:{nextEl:".js-journey-next-button",prevEl:".js-journey-prev-button"},pagination:{el:t.paginationClass,bulletClass:"journey-modal__cb-link",clickable:!0,renderBullet:function(t,e){return'\n                  <a class="journey-modal__cb-link '.concat(e,'" href="#" role="button">\n                    <span class="cb-link__text">\n                      ').concat(["Why Middlebury","Immersive Environments","The Undergraduate Experience","Alumni in the World","Middlebury in the News","Students in Action","Connected Middlebury","Middlebury College","Graduate and Professional Schools"][t],'\n                    </span>\n                    <span class="cb-link__circle-wrapper">\n                      <span class="cb-link__circle inner"></span>\n                      <span class="cb-link__circle outer"></span>\n                    </span>\n                  </a>')}},on:{slideNextTransitionStart:function(t){t.allowSlideNext=!1},slideNextTransitionEnd:function(t){t.allowSlideNext=!0},slidePrevTransitionStart:function(t){t.allowSlidePrev=!1},slidePrevTransitionEnd:function(t){t.allowSlidePrev=!0},transitionStart:function(){t.swiperUpdate(),t.scrollToTop()}}})})}).catch(function(t){return"An error occurred while loading Swiper"})]})},new((n=void 0)||(n=Promise))(function(o,s){function r(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}l((i=i.apply(t,e||[])).next())});var t,e,n,i},t.prototype.swiperInit=function(){var t=this;this.getSwiper().then(function(){t.closeBtn.focus(),e()("[data-journey-gallery-item] img").observe(),t.swiperParentEl.style.transform="translateX(".concat(t.translate,"px)"),t.initVideoElems()})},t.prototype.addListeners=function(){var t=this;this.elementOnLoad(".journey-modal__cb-link",function(e){t.paginationDotEls=a(e),t.paginationDotEls.forEach(function(e){window.matchMedia("(min-width: 1024px)").matches&&(e.addEventListener("mouseenter",function(e){t.handleMouseEvent(e)}),e.addEventListener("mouseleave",function(e){t.handleMouseEvent(e)}))})}),a(".transcript__button").forEach(function(e){e.addEventListener("click",function(e){var n;null===(n=t.swiperEl)||void 0===n||n.updateAutoHeight(50)})}),window.matchMedia("(min-width: 512px)").matches&&window.addEventListener("resize",function(e){clearTimeout(t.timeout),t.timeout=setTimeout(t.resetNavigation,250)}),window.addEventListener("hashchange",function(e){t.elementOnLoad(".journey-modal--block.is-open",t.handleHashChange)})},t.prototype.scrollToTop=function(){this.modalElem.scrollTop>0&&Ne(this.modalElem,{scrollTop:0,ease:"inSine",autoplay:!0,duration:300})},t.prototype.handleHashChange=function(){var t,e,n,i=parseInt(window.location.hash.replace("#slide","")),o=window.MicroModal;isNaN(i)?null==o||o.close():i!==(null===(t=this.swiperEl)||void 0===t?void 0:t.activeIndex)?null===(e=this.swiperEl)||void 0===e||e.slideTo(i,300,!1):i==(null===(n=this.swiperEl)||void 0===n?void 0:n.activeIndex)&&this.swiperUpdate()},t.prototype.resetNavigation=function(){this.halfWindowWidth=window.innerWidth/2,this.swiperUpdate()},t.prototype.handleMouseEvent=function(t){var e=t.target.parentElement;"mouseenter"===t.type?e.classList.add("show-label"):"mouseleave"===t.type&&e.classList.remove("show-label")},t.prototype.initVideoElems=function(){a(".js-expand-video",this.elem).forEach(function(t){return new Xe(t)})},t.prototype.swiperUpdate=function(){var t;this.currentEl=s(".swiper-pagination-bullet-active",this.paginationEl);var e=this.swiperParentEl.scrollWidth;e>this.swiperParentEl.offsetWidth&&(e=this.swiperParentEl.offsetWidth),this.hiddenWidth=e-this.swiperParentWrapperEl.offsetWidth;var n=null===(t=this.currentEl)||void 0===t?void 0:t.getBoundingClientRect().left;this.currentEl&&(this.translate=this.translate+(this.halfWindowWidth-n-16),this.translate>0&&(this.translate=0),Math.abs(this.translate)>this.hiddenWidth&&(this.translate=-this.hiddenWidth),this.translate<=0&&Math.abs(this.translate)<=this.hiddenWidth&&(this.swiperParentEl.style.transform="translateX(".concat(this.translate,"px)")))},t}();const Je=Ze;var Qe=function(){function t(t){this.elem=t,this.journeySections=a(".js-journey-section"),this.firstSection=this.journeySections.shift(),this.animPauseThreshold=0,this.sectionIndex=0,this.sectionNames=["learning","thinking","opportunity"],this.sectionLinksElems={},this.deviceInfo={desktop:{dotsAnimBreaks:[0,34,70],lineAnimBreaks:[25,60,101]},tablet:{dotsAnimBreaks:[0,39,77],lineAnimBreaks:[29,67,101]},mobile:{dotsAnimBreaks:[0,32,70],lineAnimBreaks:[28,65,101]}},this.handleIntersection=this.handleIntersection.bind(this),this.handleScroll=this.handleScroll.bind(this),this.deviceInit=this.deviceInit.bind(this),this.init()}return t.prototype.init=function(){window.location.hash="",this.deviceInit(),this.addListeners(),Se||(this.svgInit(),this.animInit(),this.sectionInit())},t.prototype.deviceInit=function(){this.handleScroll(),window.matchMedia("(min-width: 1024px)").matches?this.deviceType="desktop":window.matchMedia("(min-width: 512px)").matches?this.deviceType="tablet":this.deviceType="mobile",this.pathEl=s(".journey-line--".concat(this.deviceType," path"),this.elem);for(var t=0;t<3;t++)this.sectionLinksElems[t]=s(".journey-links--".concat(this.deviceType," .").concat(this.sectionNames[t]))},t.prototype.addListeners=function(){var t=this;window.addEventListener("resize",function(e){clearTimeout(t.timeout),t.timeout=setTimeout(t.handleScroll,250)}),this.scrollRef=f(this.handleScroll),Object.values(this.sectionLinksElems).forEach(function(t){return s(".journey--link:last-child",t).addEventListener("animationend",function(){c(t,"disable-animate")})})},t.prototype.handleScroll=function(){this.firstSection.clientHeight-window.innerHeight>-this.firstSection.getBoundingClientRect().top?s(".school-picker").classList.remove("not-fixed"):s(".school-picker").classList.add("not-fixed")},t.prototype.svgInit=function(){this.totalPathLength=this.pathEl.getTotalLength();var t="4, 4",e=t.split(/[\s,]/).map(function(t){return parseFloat(t)||0}).reduce(function(t,e){return t+e},0),n=Math.ceil(this.totalPathLength/e)+1,i=new Array(n).join(t+" ")+" 0, "+this.totalPathLength;this.pathEl.setAttribute("stroke-dashoffset","".concat(this.totalPathLength)),this.pathEl.setAttribute("stroke-dasharray",i)},t.prototype.animInit=function(){var t=this;this.journeyLineAnimInstance=Ne(this.pathEl,{strokeDashoffset:[this.totalPathLength,0],duration:1e4,ease:"linear",autoplay:!1,onUpdate:function(e){t.animUpdate(e)}})},t.prototype.getAnimationThreshold=function(t,e){return"line"===e?this.deviceInfo[this.deviceType].lineAnimBreaks[t]:this.deviceInfo[this.deviceType].dotsAnimBreaks[t]},t.prototype.animUpdate=function(t){for(var e=Math.round(100*t.progress),n=0;n<this.sectionNames.length;n++)e>=this.getAnimationThreshold(n,"dots")&&(this.sectionIndex=n);c(this.sectionLinksElems[this.sectionIndex],"animate"),e>=this.animPauseThreshold-.5&&e<=this.animPauseThreshold+.5&&this.journeyLineAnimInstance.pause()},t.prototype.sectionInit=function(){var t=this;this.io=new IntersectionObserver(this.handleIntersection,{threshold:.4}),this.journeySections.forEach(function(e){return t.io.observe(e)})},t.prototype.loadVideo=function(t){var e=s(".journey-section__video",t),n=s("source",e);n.src=n.dataset.src,e.load()},t.prototype.handleIntersection=function(t){var e=this;t.forEach(function(t){if(t.isIntersecting){var n=0,i=t.target.id;i===e.sectionNames[0]?n=0:i===e.sectionNames[1]?n=1:i===e.sectionNames[2]&&(n=2),window.matchMedia("(min-width: 512px)").matches&&!Se&&e.loadVideo(t.target),e.getAnimationThreshold(n,"line")>e.animPauseThreshold&&(e.animPauseThreshold=e.getAnimationThreshold(n,"line"),e.journeyLineAnimInstance.play()),e.io.unobserve(t.target)}})},t}();Ke.init({openTrigger:"data-journey-overlay-open",closeTrigger:"data-journey-overlay-close",onShow:function(t){if(!t.swiper){var e=s(".journey-swiper");t.swiper=new Je(e)}t.swiper&&t.swiper.scrollToTop(),a("[data-journey-overlay-close]",t).forEach(function(t){return t.focus()})},disableScroll:!0}),a(".journey").forEach(function(t){return new Qe(t)});var tn=window.matchMedia("(min-aspect-ratio: 16/13) and (max-aspect-ratio: 16/7)").matches,en=window.innerHeight-s(".journey section").getBoundingClientRect().height,nn={container:document.body,panelSelector:".journey section",directionThreshold:en>0?en:50,delay:0,duration:600,easing:function(t){return t}},on=a(".journey");0!==on.length&&function(){return t=this,e=void 0,i=function(){var t;return function(t,e){var n,i,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},r=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return r.next=a(0),r.throw=a(1),r.return=a(2),"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(e){switch(e.label){case 0:return!tn||Se?[3,2]:[4,r.e(231).then(r.t.bind(r,59,23))];case 1:t=e.sent().default,on.forEach(function(){return new t(nn)}),e.label=2;case 2:return[2]}})},new((n=void 0)||(n=Promise))(function(o,s){function r(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}l((i=i.apply(t,e||[])).next())});var t,e,n,i}().catch(function(t){return"An error occurred while loading panelsnap"})})()})();