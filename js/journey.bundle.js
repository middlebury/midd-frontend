/*! For license information please see journey.bundle.js.LICENSE.txt */
(()=>{var t,e,n,i,o={317(t){t.exports=function(){"use strict";function t(){return"undefined"!=typeof window}function e(t){return(r=t)&&r.document&&function(t){return 9===t.nodeType}(r.document)?(n=(e=t).document,i=n.body,o=n.documentElement,{scrollHeight:function(){return Math.max(i.scrollHeight,o.scrollHeight,i.offsetHeight,o.offsetHeight,i.clientHeight,o.clientHeight)},height:function(){return e.innerHeight||o.clientHeight||i.clientHeight},scrollY:function(){return void 0!==e.pageYOffset?e.pageYOffset:(o||i.parentNode||i).scrollTop}}):function(t){return{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}}}(t);var e,n,i,o,r}function n(t,n,i){var o,r=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}(),s=!1,a=e(t),l=a.scrollY(),c={};function u(){var t=Math.round(a.scrollY()),e=a.height(),o=a.scrollHeight();c.scrollY=t,c.lastScrollY=l,c.direction=t>l?"down":"up",c.distance=Math.abs(t-l),c.isOutOfBounds=t<0||t+e>o,c.top=t<=n.offset[c.direction],c.bottom=t+e>=o,c.toleranceExceeded=c.distance>n.tolerance[c.direction],i(c),l=t,s=!1}function d(){s||(s=!0,o=requestAnimationFrame(u))}var h=!!r&&{passive:!0,capture:!1};return t.addEventListener("scroll",d,h),u(),{destroy:function(){cancelAnimationFrame(o),t.removeEventListener("scroll",d,h)}}}function i(t){return t===Object(t)?t:{down:t,up:t}}function o(t,e){e=e||{},Object.assign(this,o.options,e),this.classes=Object.assign({},o.options.classes,e.classes),this.elem=t,this.tolerance=i(this.tolerance),this.offset=i(this.offset),this.initialised=!1,this.frozen=!1}return o.prototype={constructor:o,init:function(){return o.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(t){t.scrollTracker=n(t.scroller,{offset:t.offset,tolerance:t.tolerance},t.update.bind(t))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(t){return"down"===t.direction&&!t.top&&t.toleranceExceeded},shouldPin:function(t){return"up"===t.direction&&t.toleranceExceeded||t.top},addClass:function(t){this.elem.classList.add.apply(this.elem.classList,this.classes[t].split(" "))},removeClass:function(t){this.elem.classList.remove.apply(this.elem.classList,this.classes[t].split(" "))},hasClass:function(t){return this.classes[t].split(" ").every(function(t){return this.classList.contains(t)},this.elem)},update:function(t){t.isOutOfBounds||!0!==this.frozen&&(t.top?this.top():this.notTop(),t.bottom?this.bottom():this.notBottom(),this.shouldUnpin(t)?this.unpin():this.shouldPin(t)&&this.pin())}},o.options={tolerance:{up:0,down:0},offset:0,scroller:t()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},o.cutsTheMustard=!!(t()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),o}()},510(t){t.exports=function(){"use strict";var t="undefined"!=typeof document&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(e){if("picture"===e.nodeName.toLowerCase()){var n=e.querySelector("img"),i=!1;null===n&&(n=document.createElement("img"),i=!0),t&&e.getAttribute("data-iesrc")&&(n.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(n.alt=e.getAttribute("data-alt")),i&&e.append(n)}if("video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var o=e.children,r=void 0,s=0;s<=o.length-1;s++)(r=o[s].getAttribute("data-src"))&&(o[s].src=r);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset"));var a=",";if(e.getAttribute("data-background-delimiter")&&(a=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image"))e.style.backgroundImage="url('"+e.getAttribute("data-background-image").split(a).join("'),url('")+"')";else if(e.getAttribute("data-background-image-set")){var l=e.getAttribute("data-background-image-set").split(a),c=l[0].substr(0,l[0].indexOf(" "))||l[0];c=-1===c.indexOf("url(")?"url("+c+")":c,1===l.length?e.style.backgroundImage=c:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: "+c+"; background-image: -webkit-image-set("+l+"); background-image: image-set("+l+")")}e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function n(t){t.setAttribute("data-loaded",!0)}var i=function(t){return"true"===t.getAttribute("data-loaded")},o=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var t,r,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=Object.assign({},e,a),c=l.root,u=l.rootMargin,d=l.threshold,h=l.load,f=l.loaded,p=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(p=new IntersectionObserver((t=h,r=f,function(e,o){e.forEach(function(e){(0<e.intersectionRatio||e.isIntersecting)&&(o.unobserve(e.target),i(e.target)||(t(e.target),n(e.target),r(e.target)))})}),{root:c,rootMargin:u,threshold:d}));for(var m,g=o(s,c),v=0;v<g.length;v++)(m=g[v]).getAttribute("data-placeholder-background")&&(m.style.background=m.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=o(s,c),e=0;e<t.length;e++)i(t[e])||(p?p.observe(t[e]):(h(t[e]),n(t[e]),f(t[e])))},triggerLoad:function(t){i(t)||(h(t),n(t),f(t))},observer:p}}}()},976(){!function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),o=window.setTimeout(function(){e(n+i)},i);return t=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()}},r={};function s(t){var e=r[t];if(void 0!==e)return e.exports;var n=r[t]={exports:{}};return o[t].call(n.exports,n,n.exports,s),n.exports}s.m=o,s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,s.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var o=Object.create(null);s.r(o);var r={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&n;("object"==typeof a||"function"==typeof a)&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach(t=>r[t]=()=>n[t]);return r.default=()=>n,s.d(o,r),o},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce((e,n)=>(s.f[n](t,e),e),[])),s.u=t=>({231:"panelsnap",979:"swiper"}[t]+".bundle.js"),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n={},i="midd-frontend:",s.l=(t,e,o,r)=>{if(n[t])n[t].push(e);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==i+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",i+o),a.src=t),n[t]=[e];var h=(e,i)=>{a.onerror=a.onload=null,clearTimeout(f);var o=n[t];if(delete n[t],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach(t=>t(i)),e)return e(i)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.j=569,s.p="/themes/custom/middlebury_theme/js/",(()=>{var t={569:0};s.f.j=(e,n)=>{var i=s.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise((n,o)=>i=t[e]=[n,o]);n.push(i[2]=o);var r=s.p+s.u(e),a=new Error;s.l(r,n=>{if(s.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,i[1](a)}},"chunk-"+e,e)}};var e=(e,n)=>{var i,o,[r,a,l]=n,c=0;if(r.some(e=>0!==t[e])){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);l&&l(s)}for(e&&e(n);c<r.length;c++)o=r[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=globalThis.webpackChunkmidd_frontend=globalThis.webpackChunkmidd_frontend||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),(()=>{"use strict";s(976);var t=s(510),e=s.n(t);e()(".js-lazy-load").observe();var n,i=s(317),o=s.n(i),r=function(t,e){return void 0===e&&(e=document),e.querySelector(t)},a=function(t,e){return void 0===e&&(e=document),Array.from(e.querySelectorAll(t))},l=function(t,e,n){return t.addEventListener(e,n)},c=function(t,e){return t.classList.add(e)},u=r(".js-headroom"),d=a(".js-curriculum-headroom");if(u&&!r("#toolbar-administration")){n=u.offsetHeight;var h=new(o())(u,{offset:n,tolerance:{up:10,down:0},scroller:r("#midd-journey-overlay")||window});document.body.style.paddingTop=n+"px",h.init(),window.location.hash&&!r("#midd-journey-overlay")&&setTimeout(function(){h.unpin()},1e3),d.length>0&&d.forEach(function(t){new(o())(t,{offset:n,tolerance:{up:10,down:0}}).init()})}function f(t,e){void 0===e&&(e=window);var n=0,i=!1,o=function(e){t(n,e),i=!1},r=function(t){n=t.target.scrollTop||window.pageYOffset,i||(window.requestAnimationFrame(o),i=!0)};return e.addEventListener("scroll",r),{destroy:function(){e.removeEventListener("scroll",r)}}}const p="undefined"!=typeof window,m=p?window:null,g=p?document:null,v={replace:0,none:1,blend:2},b=Symbol(),y=Symbol(),_=Symbol(),w=Symbol(),T=(Symbol(),Symbol()),k=1e-11,E=1e12,C=1e3,A="",L=(()=>{const t=new Map;return t.set("x","translateX"),t.set("y","translateY"),t.set("z","translateZ"),t})(),x=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","matrix","matrix3d","perspective"],N=x.reduce((t,e)=>({...t,[e]:e+"("}),{}),S=()=>{},j=/\)\s*[-.\d]/,O=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,M=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,I=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,P=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,D=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,B=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,F=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,R=/([a-z])([A-Z])/g,q=/(\w+)(\([^)]+\)+)/g,H=/var\(\s*(--[\w-]+)(?:\s*,\s*([^)]+))?\s*\)/,U={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:240,loop:0,reversed:!1,alternate:!1,autoplay:!0,persist:!1,duration:C,delay:0,loopDelay:0,ease:"out(2)",composition:v.replace,modifier:t=>t,onBegin:S,onBeforeUpdate:S,onUpdate:S,onLoop:S,onPause:S,onComplete:S,onRender:S},W={current:null,root:g},V={defaults:U,precision:4,timeScale:1,tickThreshold:200},z=p&&m.AnimeJSDevTools,$={version:"4.3.6",engine:null};p&&(m.AnimeJS||(m.AnimeJS=[]),m.AnimeJS.push($));const Y=t=>t.replace(R,"$1-$2").toLowerCase(),K=(t,e)=>0===t.indexOf(e),G=Date.now,X=Array.isArray,Z=t=>t&&t.constructor===Object,J=t=>"number"==typeof t&&!isNaN(t),Q=t=>"string"==typeof t,tt=t=>"function"==typeof t,et=t=>void 0===t,nt=t=>et(t)||null===t,it=t=>p&&t instanceof SVGElement,ot=t=>O.test(t),rt=t=>K(t,"rgb"),st=t=>K(t,"hsl"),at=t=>!V.defaults.hasOwnProperty(t),lt=["opacity","rotate","overflow","color"],ct=Math.pow,ut=Math.sqrt,dt=Math.sin,ht=Math.cos,ft=(Math.abs,Math.exp,Math.ceil,Math.floor),pt=Math.asin,mt=(Math.max,Math.atan2,Math.PI),gt=Math.round,vt=(t,e,n)=>t<e?e:t>n?n:t,bt={},yt=(t,e)=>{if(e<0)return t;if(!e)return gt(t);let n=bt[e];return n||(n=bt[e]=10**e),gt(t*n)/n},_t=(t,e,n)=>t+(e-t)*n,wt=t=>t===1/0?E:t===-1/0?-E:t,Tt=t=>t<=k?k:wt(yt(t,11)),kt=t=>X(t)?[...t]:t,Et=(t,e,n,i="_prev",o="_next")=>{let r=t._head,s=o;for(n&&(r=t._tail,s=i);r;){const t=r[s];e(r),r=t}},Ct=(t,e,n="_prev",i="_next")=>{const o=e[n],r=e[i];o?o[i]=r:t._head=r,r?r[n]=o:t._tail=o,e[n]=null,e[i]=null},At=(t,e,n,i="_prev",o="_next")=>{let r=t._tail;for(;r&&n&&n(r,e);)r=r[i];const s=r?r[o]:t._head;r?r[o]=e:t._head=e,s?s[i]=e:t._tail=e,e[i]=r,e[o]=s};function Lt(t){const e=Q(t)?W.root.querySelectorAll(t):t;if(e instanceof NodeList||e instanceof HTMLCollection)return e}const xt=(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),Nt=(t,e)=>et(t)?e:t,St=(t,e,n,i,o)=>{let r;if(tt(t))r=()=>{const o=t(e,n,i);return isNaN(+o)?o||0:+o};else{if(!Q(t)||!K(t,"var("))return t;r=()=>{const n=t.match(H),i=n[1],o=n[2];let r=getComputedStyle(e)?.getPropertyValue(i);return r&&r.trim()!==A||!o||(r=o.trim()),r||0}}return o&&(o.func=r),r()},jt=(t,e)=>t[y]?t[_]&&((t,e)=>{if(lt.includes(e))return!1;if(t.getAttribute(e)||e in t){if("scale"===e){const e=t.parentNode;return e&&"filter"===e.tagName}return!0}})(t,e)?1:x.includes(e)||L.get(e)?3:K(e,"--")?4:e in t.style?2:e in t?0:1:0,Ot=(t,e,n)=>{const i=t.style[e];i&&n&&(n[e]=i);const o=i||getComputedStyle(t[T]||t).getPropertyValue(e);return"auto"===o?"0":o},Mt=(t,e,n,i)=>{const o=et(n)?jt(t,e):n;return 0===o?t[e]||0:1===o?t.getAttribute(e):3===o?((t,e,n)=>{const i=t.style.transform;let o;if(i){const r=t[w];let s;for(;s=q.exec(i);){const t=s[1],i=s[2].slice(1,-1);r[t]=i,t===e&&(o=i,n&&(n[e]=i))}}return i&&!et(o)?o:K(e,"scale")?"1":K(e,"rotate")||K(e,"skew")?"0deg":"0px"})(t,e,i):4===o?Ot(t,e,i).trimStart():Ot(t,e,i)},It=(t,e,n)=>"-"===n?t-e:"+"===n?t+e:t*e,Pt=(t,e)=>{if(e.t=0,e.n=0,e.u=null,e.o=null,e.d=null,e.s=null,!t)return e;const n=+t;if(isNaN(n)){let n=t;"="===n[1]&&(e.o=n[0],n=n.slice(2));const o=!n.includes(" ")&&F.exec(n);if(o)return e.t=1,e.n=+o[1],e.u=o[2],e;if(e.o)return e.n=+n,e;if((t=>ot(t)||(rt(t)||st(t))&&(")"===t[t.length-1]||!j.test(t)))(n))return e.t=2,e.d=rt(i=n)?(t=>{const e=M.exec(t)||I.exec(t),n=et(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],n]})(i):ot(i)?(t=>{const e=t.length,n=4===e||5===e;return[+("0x"+t[1]+t[n?1:2]),+("0x"+t[n?2:3]+t[n?2:4]),+("0x"+t[n?3:5]+t[n?3:6]),5===e||9===e?+(+("0x"+t[n?4:7]+t[n?4:8])/255).toFixed(3):1]})(i):st(i)?(t=>{const e=P.exec(t)||D.exec(t),n=+e[1]/360,i=+e[2]/100,o=+e[3]/100,r=et(e[4])?1:+e[4];let s,a,l;if(0===i)s=a=l=o;else{const t=o<.5?o*(1+i):o+i-o*i,e=2*o-t;s=yt(255*xt(e,t,n+1/3),0),a=yt(255*xt(e,t,n),0),l=yt(255*xt(e,t,n-1/3),0)}return[s,a,l,r]})(i):[0,0,0,1],e;{const t=n.match(B);return e.t=3,e.d=t?t.map(Number):[],e.s=n.split(B)||[],e}}var i;return e.n=n,e},Dt=(t,e)=>(e.t=t._valueType,e.n=t._toNumber,e.u=t._unit,e.o=null,e.d=kt(t._toNumbers),e.s=kt(t._strings),e),Bt={t:0,n:0,u:null,o:null,d:null,s:null},Ft={},Rt=(t,e,n)=>{if(3===n){return L.get(t)||t}if(2===n||1===n&&it(e)&&t in e.style){const e=Ft[t];if(e)return e;{const e=t?Y(t):t;return Ft[t]=e,e}}return t},qt=t=>{if(t._hasChildren)Et(t,qt,!0);else{const e=t;e.pause(),Et(e,t=>{const n=t.property,i=t.target;if(i[y]){const o=i.style,r=t._inlineValue,s=nt(r)||r===A;if(3===t._tweenType){const e=i[w];if(s?delete e[n]:e[n]=r,t._renderTransforms)if(Object.keys(e).length){let t=A;for(let n in e)t+=N[n]+e[n]+") ";o.transform=t}else o.removeProperty("transform")}else s?o.removeProperty(Y(n)):o[n]=r;e._tail===t&&e.targets.forEach(t=>{t.getAttribute&&t.getAttribute("style")===A&&t.removeAttribute("style")})}})}return t},Ht={deg:1,rad:180/mt,turn:360},Ut={},Wt=(t,e,n,i=!1)=>{const o=e.u,r=e.n;if(1===e.t&&o===n)return e;const s=r+o+n,a=Ut[s];if(et(a)||i){let i;if(o in Ht)i=r*Ht[o]/Ht[n];else{const e=100,s=t.cloneNode(),a=t.parentNode,l=a&&a!==g?a:g.body;l.appendChild(s);const c=s.style;c.width=e+o;const u=s.offsetWidth||e;c.width=e+n;const d=u/(s.offsetWidth||e);l.removeChild(s),i=d*r}e.n=i,Ut[s]=i}else e.n=a;return e.t,e.u=n,e},Vt=t=>t,zt=(t=1.68)=>e=>ct(e,+t),$t={in:t=>e=>t(e),out:t=>e=>1-t(1-e),inOut:t=>e=>e<.5?t(2*e)/2:1-t(-2*e+2)/2,outIn:t=>e=>e<.5?(1-t(1-2*e))/2:(t(2*e-1)+1)/2},Yt=mt/2,Kt=2*mt,Gt={[A]:zt,Quad:zt(2),Cubic:zt(3),Quart:zt(4),Quint:zt(5),Sine:t=>1-ht(t*Yt),Circ:t=>1-ut(1-t*t),Expo:t=>t?ct(2,10*t-10):0,Bounce:t=>{let e,n=4;for(;t<((e=ct(2,--n))-1)/11;);return 1/ct(4,3-n)-7.5625*ct((3*e-2)/22-t,2)},Back:(t=1.7)=>e=>(+t+1)*e*e*e-+t*e*e,Elastic:(t=1,e=.3)=>{const n=vt(+t,1,10),i=vt(+e,k,2),o=i/Kt*pt(1/n),r=Kt/i;return t=>0===t||1===t?t:-n*ct(2,-10*(1-t))*dt((1-t-o)*r)}},Xt=(()=>{const t={linear:Vt,none:Vt};for(let e in $t)for(let n in Gt){const i=Gt[n],o=$t[e];t[e+n]=n===A||"Back"===n||"Elastic"===n?(t,e)=>o(i(t,e)):o(i)}return t})(),Zt={linear:Vt,none:Vt},Jt=["steps(","irregular(","linear(","cubicBezier("],Qt=t=>{if(Q(t))for(let e=0,n=Jt.length;e<n;e++)if(K(t,Jt[e]))return console.warn(`String syntax for \`ease: "${t}"\` has been removed from the core and replaced by importing and passing the easing function directly: \`ease: ${t}\``),Vt;return tt(t)?t:Q(t)?(t=>{if(Zt[t])return Zt[t];if(t.indexOf("(")<=-1){const e=$t[t]||t.includes("Back")||t.includes("Elastic")?Xt[t]():Xt[t];return e?Zt[t]=e:Vt}{const e=t.slice(0,-1).split("("),n=Xt[e[0]];return n?Zt[t]=n(...e[1].split(",")):Vt}})(t):Vt},te=(t,e,n,i,o)=>{const r=t.parent,s=t.duration,a=t.completed,l=t.iterationDuration,c=t.iterationCount,u=t._currentIteration,d=t._loopDelay,h=t._reversed,f=t._alternate,p=t._hasChildren,m=t._delay,g=t._currentTime,b=m+l,y=e-m,_=vt(g,-m,s),T=vt(y,-m,s),E=y-g,C=T>0,L=T>=s,x=s<=k,S=2===o;let j=0,O=y,M=0;if(c>1){const e=~~(T/(l+(L?0:d)));t._currentIteration=vt(e,0,c),L&&t._currentIteration--,j=t._currentIteration%2,O=T%(l+d)||0}const I=h^(f&&j),P=t._ease;let D=L?I?0:s:I?l-O:O;P&&(D=l*P(D/l)||0);const B=(r?r.backwards:y<g)?!I:!!I;if(t._currentTime=y,t._iterationTime=D,t.backwards=B,C&&!t.began?(t.began=!0,n||r&&(B||!r.began)||t.onBegin(t)):y<=0&&(t.began=!1),n||p||!C||t._currentIteration===u||t.onLoop(t),S||1===o&&(e>=m&&e<=b||e<=m&&_>m||e>=b&&_!==s)||D>=b&&_!==s||D<=m&&_>0||e<=_&&_===s&&a||L&&!a&&x){if(C&&(t.computeDeltaTime(_),n||t.onBeforeUpdate(t)),!p){const e=S||(B?-1*E:E)>=V.tickThreshold,o=t._offset+(r?r._offset:0)+m+D;let s,a,l,c,u=t._head,d=0;for(;u;){const t=u._composition,n=u._currentTime,r=u._changeDuration,h=u._absoluteStartTime+u._changeDuration,f=u._nextRep,p=u._prevRep,m=t!==v.none;if((e||(n!==r||o<=h+(f?f._delay:0))&&(0!==n||o>=u._absoluteStartTime))&&(!m||!u._isOverridden&&(!u._isOverlapped||o<=h)&&(!f||f._isOverridden||o<=f._absoluteStartTime)&&(!p||p._isOverridden||o>=p._absoluteStartTime+p._changeDuration+u._delay))){const e=u._currentTime=vt(D-u._startTime,0,r),n=u._ease(e/u._updateDuration),o=u._modifier,h=u._valueType,f=u._tweenType,p=0===f,g=0===h,b=g&&p||0===n||1===n?-1:V.precision;let y,_;if(g)y=_=o(yt(_t(u._fromNumber,u._toNumber,n),b));else if(1===h)_=o(yt(_t(u._fromNumber,u._toNumber,n),b)),y=`${_}${u._unit}`;else if(2===h){const t=u._fromNumbers,e=u._toNumbers,i=yt(vt(o(_t(t[0],e[0],n)),0,255),0),r=yt(vt(o(_t(t[1],e[1],n)),0,255),0),s=yt(vt(o(_t(t[2],e[2],n)),0,255),0),a=vt(o(yt(_t(t[3],e[3],n),b)),0,1);if(y=`rgba(${i},${r},${s},${a})`,m){const t=u._numbers;t[0]=i,t[1]=r,t[2]=s,t[3]=a}}else if(3===h){y=u._strings[0];for(let t=0,e=u._toNumbers.length;t<e;t++){const e=o(yt(_t(u._fromNumbers[t],u._toNumbers[t],n),b)),i=u._strings[t+1];y+=`${i?e+i:e}`,m&&(u._numbers[t]=e)}}if(m&&(u._number=_),i||t===v.blend)u._value=y;else{const t=u.property;s=u.target,p?s[t]=y:1===f?s.setAttribute(t,y):(a=s.style,3===f?(s!==l&&(l=s,c=s[w]),c[t]=y,d=1):2===f?a[t]=y:4===f&&a.setProperty(t,y)),C&&(M=1)}}if(d&&u._renderTransforms){let t=A;for(let e in c)t+=`${N[e]}${c[e]}) `;a.transform=t,d=0}u=u._next}!n&&M&&t.onRender(t)}!n&&C&&t.onUpdate(t)}return r&&x?!n&&(r.began&&!B&&y>0&&!a||B&&y<=k&&a)&&(t.onComplete(t),t.completed=!B):C&&L?c===1/0?t._startTime+=t.duration:t._currentIteration>=c-1&&(t.paused=!0,a||p||(t.completed=!0,n||r&&(B||!r.began)||(t.onComplete(t),t._resolve(t)))):t.completed=!1,M},ee=(t,e,n,i,o)=>{const r=t._currentIteration;if(te(t,e,n,i,o),t._hasChildren){const s=t,a=s.backwards,l=i?e:s._iterationTime,c=G();let u=0,d=!0;if(!i&&s._currentIteration!==r){const t=s.iterationDuration;Et(s,e=>{if(a){const i=e.duration,o=e._offset+e._delay;n||!(i<=k)||o&&o+i!==t||e.onComplete(e)}else!e.completed&&!e.backwards&&e._currentTime<e.iterationDuration&&te(e,t,n,1,2),e.began=!1,e.completed=!1}),n||s.onLoop(s)}Et(s,t=>{const e=yt((l-t._offset)*t._speed,12),r=t._fps<s._fps?t.requestTick(c):o;u+=te(t,e,n,i,r),!t.completed&&d&&(d=!1)},a),!n&&u&&s.onRender(s),(d||a)&&s._currentTime>=s.duration&&(s.paused=!0,s.completed||(s.completed=!0,n||(s.onComplete(s),s._resolve(s))))}},ne={animation:null,update:S},ie={_rep:new WeakMap,_add:new Map},oe=(t,e,n="_rep")=>{const i=ie[n];let o=i.get(t);return o||(o={},i.set(t,o)),o[e]?o[e]:o[e]={_head:null,_tail:null}},re=(t,e)=>t._isOverridden||t._absoluteStartTime>e._absoluteStartTime,se=t=>{t._isOverlapped=1,t._isOverridden=1,t._changeDuration=k,t._currentTime=k},ae=(t,e)=>{const n=t._composition;if(n===v.replace){const n=t._absoluteStartTime;At(e,t,re,"_prevRep","_nextRep");const i=t._prevRep;if(i){const e=i.parent,o=i._absoluteStartTime+i._changeDuration;if(t.parent.id!==e.id&&e.iterationCount>1&&o+(e.duration-e.iterationDuration)>n){se(i);let t=i._prevRep;for(;t&&t.parent.id===e.id;)se(t),t=t._prevRep}const r=n-t._delay;if(o>r){const t=i._startTime,e=o-(t+i._updateDuration),n=yt(r-e-t,12);i._changeDuration=n,i._currentTime=n,i._isOverlapped=1,n<k&&se(i)}let s=!0;if(Et(e,t=>{t._isOverlapped||(s=!1)}),s){const t=e.parent;if(t){let n=!0;Et(t,t=>{t!==e&&Et(t,t=>{t._isOverlapped||(n=!1)})}),n&&t.cancel()}else e.cancel()}}}else if(n===v.blend){const e=oe(t.target,t.property,"_add"),n=(t=>{let e=ne.animation;return e||(e={duration:k,computeDeltaTime:S,_offset:0,_delay:0,_head:null,_tail:null},ne.animation=e,ne.update=()=>{t.forEach(t=>{for(let e in t){const n=t[e],i=n._head;if(i){const t=i._valueType,e=3===t||2===t?kt(i._fromNumbers):null;let o=i._fromNumber,r=n._tail;for(;r&&r!==i;){if(e)for(let t=0,n=r._numbers.length;t<n;t++)e[t]+=r._numbers[t];else o+=r._number;r=r._prevAdd}i._toNumber=o,i._toNumbers=e}}}),te(e,1,1,0,2)}),e})(ie._add);let i=e._head;i||(i={...t},i._composition=v.replace,i._updateDuration=k,i._startTime=0,i._numbers=kt(t._fromNumbers),i._number=0,i._next=null,i._prev=null,At(e,i),At(n,i));const o=t._toNumber;if(t._fromNumber=i._fromNumber-o,t._toNumber=0,t._numbers=kt(t._fromNumbers),t._number=0,i._fromNumber=o,t._toNumbers){const e=kt(t._toNumbers);e&&e.forEach((e,n)=>{t._fromNumbers[n]=i._fromNumbers[n]-e,t._toNumbers[n]=0}),i._fromNumbers=e}At(e,t,null,"_prevAdd","_nextAdd")}return t},le=t=>{const e=t._composition;if(e!==v.none){const n=t.target,i=t.property,o=ie._rep.get(n)[i];if(Ct(o,t,"_prevRep","_nextRep"),e===v.blend){const e=ie._add,o=e.get(n);if(!o)return;const r=o[i],s=ne.animation;Ct(r,t,"_prevAdd","_nextAdd");const a=r._head;if(a&&a===r._tail){Ct(r,a,"_prevAdd","_nextAdd"),Ct(s,a);let t=!0;for(let e in o)if(o[e]._head){t=!1;break}t&&e.delete(n)}}}return t};class ce{constructor(t=0){this.deltaTime=0,this._currentTime=t,this._lastTickTime=t,this._startTime=t,this._lastTime=t,this._scheduledTime=0,this._frameDuration=C/240,this._fps=240,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(t){const e=this._frameDuration,n=+t,i=n<k?k:n,o=C/i;i>U.frameRate&&(U.frameRate=i),this._fps=i,this._frameDuration=o,this._scheduledTime+=o-e}get speed(){return this._speed}set speed(t){const e=+t;this._speed=e<k?k:e}requestTick(t){const e=this._scheduledTime;if(this._lastTickTime=t,t<e)return 0;const n=this._frameDuration,i=t-e;return this._scheduledTime+=i<n?n:i,1}computeDeltaTime(t){const e=t-this._lastTime;return this.deltaTime=e,this._lastTime=t,e}}const ue=(()=>p?requestAnimationFrame:setImmediate)(),de=(()=>p?cancelAnimationFrame:clearImmediate)();class he extends ce{constructor(t){super(t),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=U,this.paused=!0,this.reqId=0}update(){const t=this._currentTime=G();if(this.requestTick(t)){this.computeDeltaTime(t);const e=this._speed,n=this._fps;let i=this._head;for(;i;){const o=i._next;i.paused?(Ct(this,i),this._hasChildren=!!this._tail,i._running=!1,i.completed&&!i._cancelled&&i.cancel()):ee(i,(t-i._startTime)*i._speed*e,0,0,i._fps<n?i.requestTick(t):1),i=o}ne.update()}}wake(){return this.useDefaultMainLoop&&!this.reqId&&(this.requestTick(G()),this.reqId=ue(pe)),this}pause(){if(this.reqId)return this.paused=!0,me()}resume(){if(this.paused)return this.paused=!1,Et(this,t=>t.resetTime()),this.wake()}get speed(){return this._speed*(1===V.timeScale?1:C)}set speed(t){this._speed=t*V.timeScale,Et(this,t=>t.speed=t._speed)}get timeUnit(){return 1===V.timeScale?"ms":"s"}set timeUnit(t){const e="s"===t,n=e?.001:1;if(V.timeScale!==n){V.timeScale=n,V.tickThreshold=200*n;const t=e?.001:C;this.defaults.duration*=t,this._speed*=t}}get precision(){return V.precision}set precision(t){V.precision=t}}const fe=(()=>{const t=new he(G());return p&&($.engine=t,g.addEventListener("visibilitychange",()=>{t.pauseOnDocumentHidden&&(g.hidden?t.pause():t.resume())})),t})(),pe=()=>{fe._head?(fe.reqId=ue(pe),fe.update()):fe.reqId=0},me=()=>(de(fe.reqId),fe.reqId=0,fe),ge=t=>(t.paused=!0,t.began=!1,t.completed=!1,t),ve=t=>t._cancelled?(t._hasChildren?Et(t,ve):Et(t,t=>{t._composition!==v.none&&ae(t,oe(t.target,t.property))}),t._cancelled=0,t):t;let be=0;class ye extends ce{constructor(t={},e=null,n=0){super(0),++be;const{id:i,delay:o,duration:r,reversed:s,alternate:a,loop:l,loopDelay:c,autoplay:u,frameRate:d,playbackRate:h,onComplete:f,onLoop:p,onPause:m,onBegin:g,onBeforeUpdate:v,onUpdate:b}=t;W.current&&W.current.register(this);const y=e?0:fe._lastTickTime,_=e?e.defaults:V.defaults,w=tt(o)||et(o)?_.delay:+o,T=tt(r)||et(r)?1/0:+r,E=Nt(l,_.loop),C=Nt(c,_.loopDelay);let A=!0===E||E===1/0||E<0?1/0:E+1;if(z){const n=A===1/0;if(z.register(this,t,n)&&n){const t=a?2:1,n=e?z.maxNestedInfiniteLoops:z.maxInfiniteLoops;A=Math.max(n,t)}}let L=0;e?L=n:(fe.reqId||fe.requestTick(G()),L=(fe._lastTickTime-fe._startTime)*V.timeScale),this.id=et(i)?be:i,this.parent=e,this.duration=wt((T+C)*A-C)||k,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=g||_.onBegin,this.onBeforeUpdate=v||_.onBeforeUpdate,this.onUpdate=b||_.onUpdate,this.onLoop=p||_.onLoop,this.onPause=m||_.onPause,this.onComplete=f||_.onComplete,this.iterationDuration=T,this.iterationCount=A,this._autoplay=!e&&Nt(u,_.autoplay),this._offset=L,this._delay=w,this._loopDelay=C,this._iterationTime=0,this._currentIteration=0,this._resolve=S,this._running=!1,this._reversed=+Nt(s,_.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=Nt(a,_.alternate),this._prev=null,this._next=null,this._lastTickTime=y,this._startTime=y,this._lastTime=y,this._fps=Nt(d,_.frameRate),this._speed=Nt(h,_.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(t){t?this.cancel():this.reset(!0).play()}get currentTime(){return vt(yt(this._currentTime,V.precision),-this._delay,this.duration)}set currentTime(t){const e=this.paused;this.pause().seek(+t),e||this.resume()}get iterationCurrentTime(){return vt(yt(this._iterationTime,V.precision),0,this.iterationDuration)}set iterationCurrentTime(t){this.currentTime=this.iterationDuration*this._currentIteration+t}get progress(){return vt(yt(this._currentTime/this.duration,10),0,1)}set progress(t){this.currentTime=this.duration*t}get iterationProgress(){return vt(yt(this._iterationTime/this.iterationDuration,10),0,1)}set iterationProgress(t){const e=this.iterationDuration;this.currentTime=e*this._currentIteration+e*t}get currentIteration(){return this._currentIteration}set currentIteration(t){this.currentTime=this.iterationDuration*vt(+t,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(t){t?this.reverse():this.play()}get speed(){return super.speed}set speed(t){super.speed=t,this.resetTime()}reset(t=!1){return ve(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,ee(this,0,1,~~t,2),ge(this),this._hasChildren&&Et(this,ge),this}init(t=!1){this.fps=this._fps,this.speed=this._speed,!t&&this._hasChildren&&ee(this,this.duration,1,~~t,2),this.reset(t);const e=this._autoplay;return!0===e?this.resume():e&&!et(e.linked)&&e.link(this),this}resetTime(){const t=1/(this._speed*fe._speed);return this._startTime=G()-(this._currentTime+this._delay)*t,this}pause(){return this.paused||(this.paused=!0,this.onPause(this)),this}resume(){return this.paused?(this.paused=!1,this.duration<=k&&!this._hasChildren?ee(this,k,0,0,2):(this._running||(At(fe,this),fe._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,fe.wake()),this):this}restart(){return this.reset().resume()}seek(t,e=0,n=0){ve(this),this.completed=!1;const i=this.paused;return this.paused=!0,ee(this,t+this._delay,~~e,~~n,1),i?this:this.resume()}alternate(){const t=this._reversed,e=this.iterationCount,n=this.iterationDuration,i=e===1/0?ft(E/n):e;return this._reversed=+(!this._alternate||i%2?!t:t),e===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(n*i-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?Et(this,t=>t.cancel(),!0):Et(this,le),this._cancelled=1,this.pause()}stretch(t){const e=this.duration,n=Tt(t);if(e===n)return this;const i=t/e,o=t<=k;return this.duration=o?k:n,this.iterationDuration=o?k:Tt(this.iterationDuration*i),this._offset*=i,this._delay*=i,this._loopDelay*=i,this}revert(){ee(this,0,1,0,1);const t=this._autoplay;return t&&t.linked&&t.linked===this&&t.revert(),this.cancel()}complete(t=0){return this.seek(this.duration,t).cancel()}then(t=S){const e=this.then,n=()=>{this.then=null,t(this),this.then=e,this._resolve=S};return new Promise(t=>(this._resolve=()=>t(n()),this.completed&&this._resolve(),this))}}const _e={t:0,n:0,u:null,o:null,d:null,s:null},we={t:0,n:0,u:null,o:null,d:null,s:null},Te={},ke={func:null},Ee={func:null},Ce=[null],Ae=[null,null],Le={to:null};let xe,Ne,Se=0,je=0;class Oe extends ye{constructor(t,e,n,i,o=!1,r=0,s=0){super(e,n,i),++je;const a=function(t){const e=function(t){if(nt(t))return[];if(!p)return X(t)&&t.flat(1/0)||[t];if(X(t)){const e=t.flat(1/0),n=[];for(let t=0,i=e.length;t<i;t++){const i=e[t];if(!nt(i)){const t=Lt(i);if(t)for(let e=0,i=t.length;e<i;e++){const i=t[e];if(!nt(i)){let t=!1;for(let e=0,o=n.length;e<o;e++)if(n[e]===i){t=!0;break}t||n.push(i)}}else{let t=!1;for(let e=0,o=n.length;e<o;e++)if(n[e]===i){t=!0;break}t||n.push(i)}}}return n}const e=Lt(t);return e?Array.from(e):[t]}(t),n=e.length;if(n)for(let t=0;t<n;t++){const n=e[t];if(!n[b]){n[b]=!0;const t=it(n);(n.nodeType||t)&&(n[y]=!0,n[_]=t,n[w]={})}}return e}(t),l=a.length,c=e.keyframes,u=c?((t,e)=>{const n={...t};for(let i in e){const o=t[i];n[i]=et(o)?e[i]:o}return n})(((t,e)=>{const n={};if(X(t)){const e=[].concat(...t.map(t=>Object.keys(t))).filter(at);for(let i=0,o=e.length;i<o;i++){const o=e[i],r=t.map(t=>{const e={};for(let n in t){const i=t[n];at(n)?n===o&&(e.to=i):e[n]=i}return e});n[o]=r}}else{const i=Nt(e.duration,V.defaults.duration),o=Object.keys(t).map(e=>({o:parseFloat(e)/100,p:t[e]})).sort((t,e)=>t.o-e.o);o.forEach(t=>{const e=t.o,o=t.p;for(let t in o)if(at(t)){let r=n[t];r||(r=n[t]=[]);const s=e*i;let a=r.length,l=r[a-1];const c={to:o[t]};let u=0;for(let t=0;t<a;t++)u+=r[t].duration;1===a&&(c.from=l.to),o.ease&&(c.ease=o.ease),c.duration=s-(a?u:0),r.push(c)}return t});for(let t in n){const e=n[t];let i;for(let t=0,n=e.length;t<n;t++){const n=e[t],o=n.ease;n.ease=i||void 0,i=o}e[0].duration||e.shift()}}return n})(c,e),e):e,{id:d,delay:h,duration:f,ease:m,playbackEase:g,modifier:T,composition:E,onRender:A}=u,L=n?n.defaults:V.defaults,x=Nt(m,L.ease),N=Nt(g,L.playbackEase),S=N?Qt(N):null,j=!et(x.ease),O=j?x.ease:Nt(m,S?"linear":L.ease),M=j?x.settlingDuration:Nt(f,L.duration),I=Nt(h,L.delay),P=T||L.modifier,D=et(E)&&l>=C?v.none:et(E)?L.composition:E,B=this._offset+(n?n._offset:0);j&&(x.parent=this);let F=NaN,R=NaN,q=0,H=0;for(let t=0;t<l;t++){const e=a[t],i=r||t,c=s||l;let d=NaN,h=NaN;for(let t in u)if(at(t)){const r=jt(e,t),s=Rt(t,e,r);let a=u[t];const l=X(a);if(o&&!l&&(Ae[0]=a,Ae[1]=a,a=Ae),l){const t=a.length,e=!Z(a[0]);2===t&&e?(Le.to=a,Ce[0]=Le,xe=Ce):t>2&&e?(xe=[],a.forEach((t,e)=>{e?1===e?(Ae[1]=t,xe.push(Ae)):xe.push(t):Ae[0]=t})):xe=a}else Ce[0]=a,xe=Ce;let f=null,p=null,m=NaN,g=0,b=0;for(let t=xe.length;b<t;b++){const o=xe[b];Z(o)?Ne=o:(Le.to=o,Ne=Le),ke.func=null,Ee.func=null;const a=St(Ne.to,e,i,c,ke);let l;Z(a)&&!et(a.to)?(Ne=a,l=a.to):l=a;const u=St(Ne.from,e,i,c),d=Ne.ease||O,h=St(d,e,i,c),y=tt(h)||Q(h)?h:d,_=!et(y)&&!et(y.ease),w=_?y.ease:y,T=_?y.settlingDuration:St(Nt(Ne.duration,t>1?St(M,e,i,c)/t:M),e,i,c),E=St(Nt(Ne.delay,b?0:I),e,i,c),C=St(Nt(Ne.composition,D),e,i,c),A=J(C)?C:v[C],L=Ne.modifier||P,x=!et(u),N=!et(l),S=X(l),j=S||x&&N,F=p?g+E:E,R=yt(B+F,12);H||!x&&!S||(H=1);let U=p;if(A!==v.none){f||(f=oe(e,s));let t=f._head;for(;t&&!t._isOverridden&&t._absoluteStartTime<=R;)if(U=t,t=t._nextRep,t&&t._absoluteStartTime>=R)for(;t;)se(t),t=t._nextRep}if(j){Pt(S?St(l[0],e,i,c,Ee):u,_e),Pt(S?St(l[1],e,i,c,ke):l,we);const t=Mt(e,s,r,Te);0===_e.t&&(U?1===U._valueType&&(_e.t=1,_e.u=U._unit):(Pt(t,Bt),1===Bt.t&&(_e.t=1,_e.u=Bt.u)))}else N?Pt(l,we):p?Dt(p,we):Pt(n&&U&&U.parent.parent===n?U._value:Mt(e,s,r,Te),we),x?Pt(u,_e):p?Dt(p,_e):Pt(n&&U&&U.parent.parent===n?U._value:Mt(e,s,r,Te),_e);if(_e.o&&(_e.n=It(U?U._toNumber:Pt(Mt(e,s,r,Te),Bt).n,_e.n,_e.o)),we.o&&(we.n=It(_e.n,we.n,we.o)),_e.t!==we.t)if(3===_e.t||3===we.t){const t=3===_e.t?_e:we,e=3===_e.t?we:_e;e.t=3,e.s=kt(t.s),e.d=t.d.map(()=>e.n)}else if(1===_e.t||1===we.t){const t=1===_e.t?_e:we,e=1===_e.t?we:_e;e.t=1,e.u=t.u}else if(2===_e.t||2===we.t){const t=2===_e.t?_e:we,e=2===_e.t?we:_e;e.t=2,e.s=t.s,e.d=[0,0,0,1]}if(_e.u!==we.u){let t=we.u?_e:we;t=Wt(e,t,we.u?we.u:_e.u,!1)}if(we.d&&_e.d&&we.d.length!==_e.d.length){const t=_e.d.length>we.d.length?_e:we,e=t===_e?we:_e;e.d=t.d.map((t,n)=>et(e.d[n])?0:e.d[n]),e.s=kt(t.s)}const W=yt(+T||k,12);let V=Te[s];nt(V)||(Te[s]=null);const z={parent:this,id:Se++,property:s,target:e,_value:null,_toFunc:ke.func,_fromFunc:Ee.func,_ease:Qt(w),_fromNumbers:kt(_e.d),_toNumbers:kt(we.d),_strings:kt(we.s),_fromNumber:_e.n,_toNumber:we.n,_numbers:kt(_e.d),_number:_e.n,_unit:we.u,_modifier:L,_currentTime:0,_startTime:F,_delay:+E,_updateDuration:W,_changeDuration:W,_absoluteStartTime:R,_tweenType:r,_valueType:we.t,_composition:A,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_inlineValue:V,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};A!==v.none&&ae(z,f),isNaN(m)&&(m=z._startTime),g=yt(F+W,12),p=z,q++,At(this,z)}(isNaN(R)||m<R)&&(R=m),(isNaN(F)||g>F)&&(F=g),3===r&&(d=q-b,h=q)}if(!isNaN(d)){let t=0;Et(this,e=>{t>=d&&t<h&&(e._renderTransforms=1,e._composition===v.blend&&Et(ne.animation,t=>{t.id===e.id&&(t._renderTransforms=1)})),t++})}}l||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),R?(Et(this,t=>{t._startTime-t._delay||(t._delay-=R),t._startTime-=R}),F-=R):R=0,F||(F=k,this.iterationCount=0),this.targets=a,this.id=et(d)?je:d,this.duration=F===k?k:wt((F+this._loopDelay)*this.iterationCount-this._loopDelay)||k,this.onRender=A||L.onRender,this._ease=S,this._delay=R,this.iterationDuration=F,!this._autoplay&&H&&this.onRender(this)}stretch(t){const e=this.duration;if(e===Tt(t))return this;const n=t/e;return Et(this,t=>{t._updateDuration=Tt(t._updateDuration*n),t._changeDuration=Tt(t._changeDuration*n),t._currentTime*=n,t._startTime*=n,t._absoluteStartTime*=n}),super.stretch(t)}refresh(){return Et(this,t=>{const e=t._toFunc,n=t._fromFunc;(e||n)&&(n?(Pt(n(),_e),_e.u!==t._unit&&t.target[y]&&Wt(t.target,_e,t._unit,!0),t._fromNumbers=kt(_e.d),t._fromNumber=_e.n):e&&(Pt(Mt(t.target,t.property,t._tweenType),Bt),t._fromNumbers=kt(Bt.d),t._fromNumber=Bt.n),e&&(Pt(e(),we),t._toNumbers=kt(we.d),t._strings=kt(we.s),t._toNumber=we.o?It(t._fromNumber,we.n,we.o):we.n))}),this.duration===k&&this.restart(),this}revert(){return super.revert(),qt(this)}then(t){return super.then(t)}}const Me=(t,e)=>new Oe(t,e,null,0,!1).init();var Ie=window.matchMedia("(prefers-reduced-motion: reduce)").matches,Pe=function(){return Pe=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Pe.apply(this,arguments)},De={offset:0,ease:"cubicBezier(1,0,.7,1)",duration:300,replaceState:!1},Be=function(){function t(t,e){var n=this;this.handleClick=function(t){t.preventDefault();var e=t.currentTarget.getAttribute("href");if(e){var i=r(e);i&&n.scrollTo(i,e)}};var i=Pe(Pe({},De),e),o=i.ease,s=i.duration,l=i.onBegin,c=i.onComplete;this.elems="string"==typeof t?a(t):t,this.options=i;var u=Ie?0:s;this.animeOptions={duration:u,ease:o,onBegin:l,onComplete:c},this.init()}return t.prototype.init=function(){this.addListeners()},t.prototype.addListeners=function(){var t=this;this.elems.forEach(function(e){return l(e,"click",t.handleClick)})},t.prototype.destroy=function(){var t=this;this.elems.forEach(function(e){return n=e,i=t.handleClick,n.removeEventListener("click",i);var n,i})},t.prototype.scrollTo=function(t,e){var n=this.options,i=n.offset,o=void 0===i?0:i,r=n.scrollTop,s=n.container,a=t.getBoundingClientRect().top,l=window.pageYOffset,c=[document.documentElement,document.body],u="function"==typeof o?o(t):o;s&&(c=s,l=s.scrollTop);var d="function"==typeof r?r(t,l):a+l-u,h=this.animeOptions,f=h.duration,p=h.ease,m=h.onBegin,g=h.onComplete;this.anime=Me(c,{scrollTop:d,duration:f,ease:p,onBegin:m,onComplete:g}),this.options.replaceState&&window.history.replaceState(null,"",document.location.pathname+e)},t}();const Fe=Be;function Re(t,e){void 0===e&&(e=3),t.hidden=!0,new Fe([t]);var n=window.innerHeight*e;f(function(){window.pageYOffset>n?t.hidden=!1:t.hidden=!0})}var qe=r(".js-to-top-btn"),He=r(".js-journey-to-top-btn");qe&&Re(qe),He&&Re(He,3.75);var Ue=function(){function t(t){var e=this;this.handleElemKeyDown=function(t){32===t.keyCode&&(t.preventDefault(),e.toggle())},this.elem=t,this.target=this.getTarget(this.elem),this.activeClass="is-toggled",this.enabledClass="has-toggler";var n=t.getAttribute("data-toggle-linked");this.linked=n?'[data-toggle-linked="'.concat(n,'"]'):null;var i=t.getAttribute("data-toggle-group");this.group=i?'[data-toggle-group="'.concat(i,'"]'):null,t.getAttribute("data-toggle-group-parent"),this.groupParent=i?r(".".concat(i)):null,this.toggleAllParent=r("[data-toggle-all-group]"),this.handleElemClick=this.handleElemClick.bind(this),this.focusTargetSelector=t.getAttribute("data-toggle-focus"),this.focusTargetSelector&&(this.focusTarget=r(this.focusTargetSelector)),this.init()}return t.prototype.init=function(){var t;this.target&&(this.addListeners(),this.elem.classList.add(this.enabledClass),this.target.classList.add(this.enabledClass),null===(t=this.groupParent)||void 0===t||t.classList.add(this.enabledClass))},t.prototype.destroy=function(){var t,e;this.elem.classList.remove(this.enabledClass),this.elem.classList.remove(this.activeClass),this.target.classList.remove(this.enabledClass),this.target.classList.remove(this.activeClass),null===(t=this.groupParent)||void 0===t||t.classList.remove(this.enabledClass),null===(e=this.groupParent)||void 0===e||e.classList.remove(this.activeClass),this.elem.removeEventListener("click",this.handleElemClick),this.elem.removeEventListener("keydown",this.handleElemKeyDown)},t.prototype.addListeners=function(){this.elem.addEventListener("click",this.handleElemClick),this.elem.addEventListener("keydown",this.handleElemKeyDown)},t.prototype.getTarget=function(t){var e=t.getAttribute("data-toggle-target");if(e)return r(e)},t.prototype.handleElemClick=function(t){t.preventDefault(),this.toggle()},t.prototype.closeGroup=function(){var t=this;if(this.group){var e=a(this.group);e&&e.forEach(function(e){var n=t.getTarget(e);t.close(e,n)})}},t.prototype.toggleLinked=function(){var t=this;if(this.linked){var e=a(this.linked);e&&e.forEach(function(e){var n=t.getTarget(e);if(t.isToggled(n))return t.close(e,n);t.open(e,n)})}},t.prototype.open=function(t,e){var n=this;this.groupParent&&this.groupParent.classList.add(this.activeClass),e&&e.classList.add(this.activeClass),t&&(t.classList.add(this.activeClass),this.setAriaExpanded(t,!0),this.focusTarget&&setTimeout(function(){var t,e=null===(t=n.focusTarget)||void 0===t?void 0:t.querySelector("input");null==e||e.focus()},100))},t.prototype.setAriaExpanded=function(t,e){t.hasAttribute("aria-expanded")&&t.setAttribute("aria-expanded",String(e))},t.prototype.close=function(t,e){this.groupParent&&this.groupParent.classList.remove(this.activeClass),e&&e.classList.remove(this.activeClass),t&&(t.classList.remove(this.activeClass),this.setAriaExpanded(t,!1),this.toggleAllParent&&this.isToggled(this.toggleAllParent)&&this.toggleAllParent.classList.remove(this.activeClass))},t.prototype.isToggled=function(t){return t.classList.contains(this.activeClass)},t.prototype.toggle=function(){if(!this.isToggled(this.target))return this.group&&this.closeGroup(),this.linked&&this.toggleLinked(),this.open(this.elem,this.target);this.close(this.elem,this.target)},t}();a("[data-toggle-target]").forEach(function(t){return new Ue(t)});var We=function(){function t(t){this.elem=t,this.videoElement=r("[data-background-video]",this.elem),this.controls=r("[data-background-video-trigger]",this.elem),this.playButton=r(".background-video--button-play",this.elem),this.pauseButton=r(".background-video--button-pause",this.elem),this.handleClick=this.handleClick.bind(this),this.videoElement&&this.init()}return t.prototype.init=function(){this.addListeners(),window.matchMedia("(max-width: 512px)").matches||Ie?(this.videoElement.autoplay=!1,this.controls.classList.add("not-playing"),this.controls.setAttribute("aria-hidden","true")):(this.controls.setAttribute("aria-hidden","false"),this.playButton.setAttribute("aria-hidden","true"),this.pauseButton.setAttribute("aria-hidden","false"))},t.prototype.addListeners=function(){this.controls.addEventListener("click",this.handleClick)},t.prototype.handleClick=function(t){this.controls.classList.toggle("not-playing"),this.controls.classList.contains("not-playing")?(this.videoElement.pause(),this.playButton.setAttribute("aria-hidden","false"),this.pauseButton.setAttribute("aria-hidden","true")):(this.videoElement.play(),this.playButton.setAttribute("aria-hidden","true"),this.pauseButton.setAttribute("aria-hidden","false"))},t}();function Ve(t){return function(t){if(Array.isArray(t))return ze(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ze(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ze(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}a("[data-background-video-parent]").forEach(function(t){new We(t)});var $e,Ye,Ke,Ge,Xe,Ze=($e=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],Ye=function(){function t(e){var n=e.targetModal,i=e.triggers,o=void 0===i?[]:i,r=e.onShow,s=void 0===r?function(){}:r,a=e.onClose,l=void 0===a?function(){}:a,c=e.openTrigger,u=void 0===c?"data-micromodal-trigger":c,d=e.closeTrigger,h=void 0===d?"data-micromodal-close":d,f=e.openClass,p=void 0===f?"is-open":f,m=e.disableScroll,g=void 0!==m&&m,v=e.disableFocus,b=void 0!==v&&v,y=e.awaitCloseAnimation,_=void 0!==y&&y,w=e.awaitOpenAnimation,T=void 0!==w&&w,k=e.debugMode,E=void 0!==k&&k;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal="string"==typeof n?document.getElementById(n):n,this.config={debugMode:E,disableScroll:g,openTrigger:u,closeTrigger:h,openClass:p,onShow:s,onClose:l,awaitCloseAnimation:_,awaitOpenAnimation:T,disableFocus:b},o.length>0&&this.registerTriggers.apply(this,Ve(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e;return(e=[{key:"registerTriggers",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.filter(Boolean).forEach(function(e){e.addEventListener("click",function(e){return t.showModal(e)})})}},{key:"showModal",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",function e(){t.modal.removeEventListener("animationend",e,!1),t.setFocusToFirstNode()},!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,e)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",function t(){e.classList.remove(n),e.removeEventListener("animationend",t,!1)},!1)}else e.classList.remove(this.config.openClass)}},{key:"closeModalByIdOrElement",value:function(t){this.modal="string"==typeof t?document.getElementById(t):t,this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:""});break;case"disable":Object.assign(e.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){(t.target.hasAttribute(this.config.closeTrigger)||t.target.parentNode.hasAttribute(this.config.closeTrigger))&&(t.preventDefault(),t.stopPropagation(),this.closeModal(t))}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll($e);return Array.apply(void 0,Ve(t))}},{key:"setFocusToFirstNode",value:function(){var t=this;if(!this.config.disableFocus){var e=this.getFocusableNodes();if(0!==e.length){var n=e.filter(function(e){return!e.hasAttribute(t.config.closeTrigger)});n.length>0&&n[0].focus(),0===n.length&&e[0].focus()}}}},{key:"retainFocus",value:function(t){var e=this.getFocusableNodes();if(0!==e.length)if(e=e.filter(function(t){return null!==t.offsetParent}),this.modal.contains(document.activeElement)){var n=e.indexOf(document.activeElement);t.shiftKey&&0===n&&(e[e.length-1].focus(),t.preventDefault()),!t.shiftKey&&e.length>0&&n===e.length-1&&(e[0].focus(),t.preventDefault())}else e[0].focus()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),Ke=null,Ge=function(t){if("string"==typeof id?!document.getElementById(t):!t)return console.warn("MicroModal: â—Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},Xe=function(t,e){if(function(t){t.length<=0&&(console.warn("MicroModal: â—Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(t),!e)return!0;for(var n in e)Ge(n);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),n=Ve(document.querySelectorAll("[".concat(e.openTrigger,"]"))),i=function(t,e){var n=[];return t.forEach(function(t){var i=t.attributes[e].value;void 0===n[i]&&(n[i]=[]),n[i].push(t)}),n}(n,e.openTrigger);if(!0!==e.debugMode||!1!==Xe(n,i))for(var o in i){var r=i[o];e.targetModal=o,e.triggers=Ve(r),Ke=new Ye(e)}},show:function(t,e){var n=e||{};n.targetModal=t,!0===n.debugMode&&!1===Ge(t)||(Ke&&Ke.removeEventListeners(),(Ke=new Ye(n)).showModal())},close:function(t){t?Ke.closeModalByIdOrElement(t):Ke.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=Ze);const Je=Ze;var Qe=function(){function t(t){var e=this;this.handleKeyUp=function(t){32===t.keyCode&&(t.preventDefault(),e.showVideo())},this.handleVideoEmbedClick=function(t){t.preventDefault(),e.showVideo()},this.elem=t,this.originalContent=t,this.content=r(".js-video-content",t),this.link=r(".js-video-link",t),this.iframe=t.getAttribute("data-video"),this.activeClass="has-video",this.hideVideo=this.hideVideo.bind(this),this.init()}return t.prototype.init=function(){this.addListeners()},t.prototype.addListeners=function(){this.link&&(l(this.link,"click",this.handleVideoEmbedClick),l(this.link,"keydown",this.handleKeyUp))},t.prototype.hideVideo=function(){this.elem.classList.remove(this.activeClass),this.content&&(this.content.innerHTML=this.link.outerHTML),this.link=r(".js-video-link",this.elem),this.addListeners()},t.prototype.showVideo=function(){var t=this;if(this.elem.classList.add(this.activeClass),this.iframe){var e,n,i,o=function(t){var e=document.createElement("div");return e.innerHTML=t,0===e.childNodes.length?"":e.childNodes[0].nodeValue}(this.iframe);this.content&&(this.content.innerHTML=o||this.iframe,r("iframe",this.content).ariaLabel="Video player"),e=this.elem,n=function(){t.hideVideo()},(i=new IntersectionObserver(function(t){t.forEach(function(t){0===t.intersectionRatio&&(n(),i.unobserve(e))})})).observe(e)}else console.warn("No data-video set for video",this.elem)},t}();a(".js-video").forEach(function(t){return new Qe(t)});const tn=Qe;var en=function(){function t(t){this.elem=t,this.modalElem=r(".journey-modal--block"),this.swiperClass=".journey-swiper",this.paginationClass=".swiper-pagination",this.paginationEl=r(this.paginationClass),this.swiperParentEl=r(".journey-modal__pagination"),this.swiperParentWrapperEl=r(".journey-modal__pagination-wrapper"),this.activeVideoClass="has-video",this.translate=0,this.halfWindowWidth=window.innerWidth/2,this.closeBtn=r("[data-journey-overlay-close]"),this.loadingEls=a("[data-loading]"),this.swiperInit=this.swiperInit.bind(this),this.swiperUpdate=this.swiperUpdate.bind(this),this.scrollToTop=this.scrollToTop.bind(this),this.handleHashChange=this.handleHashChange.bind(this),this.resetNavigation=this.resetNavigation.bind(this),this.init()}return t.prototype.elementOnLoad=function(t,e){var n,i,o,s,a;(n=t,i=void 0,o=void 0,s=void 0,a=function(){return function(t,e){var n,i,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(t){switch(t.label){case 0:return null!==r(n)?[3,2]:[4,new Promise(function(t){return window.requestAnimationFrame(t)})];case 1:return t.sent(),[3,0];case 2:return[2,n]}})},new(s||(s=Promise))(function(t,e){function n(t){try{l(a.next(t))}catch(t){e(t)}}function r(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s(function(t){t(i)})).then(n,r)}l((a=a.apply(i,o||[])).next())})).then(function(t){e(t)})},t.prototype.init=function(){this.swiperInit(),this.addListeners()},t.prototype.getSwiper=function(){return t=this,e=void 0,i=function(){var t=this;return function(t,e){var n,i,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(e){return[2,s.e(979).then(s.bind(s,236)).then(function(e){var n=e.default;s.e(979).then(s.bind(s,207)).then(function(e){var i=e.Navigation,o=e.Pagination,r=e.HashNavigation,s=e.A11y;t.loadingEls.forEach(function(t){return t.classList.add("has-loaded")}),t.swiperEl=new n(t.swiperClass,{modules:[i,o,r,s],autoHeight:!0,hashNavigation:{replaceState:!0,watchState:!0},navigation:{nextEl:".js-journey-next-button",prevEl:".js-journey-prev-button"},pagination:{el:t.paginationClass,bulletClass:"journey-modal__cb-link",clickable:!0,renderBullet:function(t,e){return'\n                  <a class="journey-modal__cb-link '.concat(e,'" href="#" role="button">\n                    <span class="cb-link__text">\n                      ').concat(["Why Middlebury","Immersive Environments","The Undergraduate Experience","Alumni in the World","Middlebury in the News","Students in Action","Connected Middlebury","Middlebury College","Graduate and Professional Schools"][t],'\n                    </span>\n                    <span class="cb-link__circle-wrapper">\n                      <span class="cb-link__circle inner"></span>\n                      <span class="cb-link__circle outer"></span>\n                    </span>\n                  </a>')}},on:{slideNextTransitionStart:function(t){t.allowSlideNext=!1},slideNextTransitionEnd:function(t){t.allowSlideNext=!0},slidePrevTransitionStart:function(t){t.allowSlidePrev=!1},slidePrevTransitionEnd:function(t){t.allowSlidePrev=!0},transitionStart:function(){t.swiperUpdate(),t.scrollToTop()}}})})}).catch(function(t){return"An error occurred while loading Swiper"})]})},new((n=void 0)||(n=Promise))(function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}l((i=i.apply(t,e||[])).next())});var t,e,n,i},t.prototype.swiperInit=function(){var t=this;this.getSwiper().then(function(){t.closeBtn.focus(),e()("[data-journey-gallery-item] img").observe(),t.swiperParentEl.style.transform="translateX(".concat(t.translate,"px)"),t.initVideoElems()})},t.prototype.addListeners=function(){var t=this;this.elementOnLoad(".journey-modal__cb-link",function(e){t.paginationDotEls=a(e),t.paginationDotEls.forEach(function(e){window.matchMedia("(min-width: 1024px)").matches&&(e.addEventListener("mouseenter",function(e){t.handleMouseEvent(e)}),e.addEventListener("mouseleave",function(e){t.handleMouseEvent(e)}))})}),a(".transcript__button").forEach(function(e){e.addEventListener("click",function(e){var n;null===(n=t.swiperEl)||void 0===n||n.updateAutoHeight(50)})}),window.matchMedia("(min-width: 512px)").matches&&window.addEventListener("resize",function(e){clearTimeout(t.timeout),t.timeout=setTimeout(t.resetNavigation,250)}),window.addEventListener("hashchange",function(e){t.elementOnLoad(".journey-modal--block.is-open",t.handleHashChange)})},t.prototype.scrollToTop=function(){this.modalElem.scrollTop>0&&Me(this.modalElem,{scrollTop:0,ease:"inSine",autoplay:!0,duration:300})},t.prototype.handleHashChange=function(){var t,e,n,i=parseInt(window.location.hash.replace("#slide","")),o=window.MicroModal;isNaN(i)?null==o||o.close():i!==(null===(t=this.swiperEl)||void 0===t?void 0:t.activeIndex)?null===(e=this.swiperEl)||void 0===e||e.slideTo(i,300,!1):i==(null===(n=this.swiperEl)||void 0===n?void 0:n.activeIndex)&&this.swiperUpdate()},t.prototype.resetNavigation=function(){this.halfWindowWidth=window.innerWidth/2,this.swiperUpdate()},t.prototype.handleMouseEvent=function(t){var e=t.target.parentElement;"mouseenter"===t.type?e.classList.add("show-label"):"mouseleave"===t.type&&e.classList.remove("show-label")},t.prototype.initVideoElems=function(){a(".js-expand-video",this.elem).forEach(function(t){return new tn(t)})},t.prototype.swiperUpdate=function(){var t;this.currentEl=r(".swiper-pagination-bullet-active",this.paginationEl);var e=this.swiperParentEl.scrollWidth;e>this.swiperParentEl.offsetWidth&&(e=this.swiperParentEl.offsetWidth),this.hiddenWidth=e-this.swiperParentWrapperEl.offsetWidth;var n=null===(t=this.currentEl)||void 0===t?void 0:t.getBoundingClientRect().left;this.currentEl&&(this.translate=this.translate+(this.halfWindowWidth-n-16),this.translate>0&&(this.translate=0),Math.abs(this.translate)>this.hiddenWidth&&(this.translate=-this.hiddenWidth),this.translate<=0&&Math.abs(this.translate)<=this.hiddenWidth&&(this.swiperParentEl.style.transform="translateX(".concat(this.translate,"px)")))},t}();const nn=en;var on=function(){function t(t){this.elem=t,this.journeySections=a(".js-journey-section"),this.firstSection=this.journeySections.shift(),this.animPauseThreshold=0,this.sectionIndex=0,this.sectionNames=["learning","thinking","opportunity"],this.sectionLinksElems={},this.deviceInfo={desktop:{dotsAnimBreaks:[0,34,70],lineAnimBreaks:[25,60,101]},tablet:{dotsAnimBreaks:[0,39,77],lineAnimBreaks:[29,67,101]},mobile:{dotsAnimBreaks:[0,32,70],lineAnimBreaks:[28,65,101]}},this.handleIntersection=this.handleIntersection.bind(this),this.handleScroll=this.handleScroll.bind(this),this.deviceInit=this.deviceInit.bind(this),this.init()}return t.prototype.init=function(){window.location.hash="",this.deviceInit(),this.addListeners(),Ie||(this.svgInit(),this.animInit(),this.sectionInit())},t.prototype.deviceInit=function(){this.handleScroll(),window.matchMedia("(min-width: 1024px)").matches?this.deviceType="desktop":window.matchMedia("(min-width: 512px)").matches?this.deviceType="tablet":this.deviceType="mobile",this.pathEl=r(".journey-line--".concat(this.deviceType," path"),this.elem);for(var t=0;t<3;t++)this.sectionLinksElems[t]=r(".journey-links--".concat(this.deviceType," .").concat(this.sectionNames[t]))},t.prototype.addListeners=function(){var t=this;window.addEventListener("resize",function(e){clearTimeout(t.timeout),t.timeout=setTimeout(t.handleScroll,250)}),this.scrollRef=f(this.handleScroll),Object.values(this.sectionLinksElems).forEach(function(t){return r(".journey--link:last-child",t).addEventListener("animationend",function(){c(t,"disable-animate")})})},t.prototype.handleScroll=function(){this.firstSection.clientHeight-window.innerHeight>-this.firstSection.getBoundingClientRect().top?r(".school-picker").classList.remove("not-fixed"):r(".school-picker").classList.add("not-fixed")},t.prototype.svgInit=function(){this.totalPathLength=this.pathEl.getTotalLength();var t="4, 4",e=t.split(/[\s,]/).map(function(t){return parseFloat(t)||0}).reduce(function(t,e){return t+e},0),n=Math.ceil(this.totalPathLength/e)+1,i=new Array(n).join(t+" ")+" 0, "+this.totalPathLength;this.pathEl.setAttribute("stroke-dashoffset","".concat(this.totalPathLength)),this.pathEl.setAttribute("stroke-dasharray",i)},t.prototype.animInit=function(){var t=this;this.journeyLineAnimInstance=Me(this.pathEl,{strokeDashoffset:[this.totalPathLength,0],duration:1e4,ease:"linear",autoplay:!1,onUpdate:function(e){t.animUpdate(e)}})},t.prototype.getAnimationThreshold=function(t,e){return"line"===e?this.deviceInfo[this.deviceType].lineAnimBreaks[t]:this.deviceInfo[this.deviceType].dotsAnimBreaks[t]},t.prototype.animUpdate=function(t){for(var e=Math.round(100*t.progress),n=0;n<this.sectionNames.length;n++)e>=this.getAnimationThreshold(n,"dots")&&(this.sectionIndex=n);c(this.sectionLinksElems[this.sectionIndex],"animate"),e>=this.animPauseThreshold-.5&&e<=this.animPauseThreshold+.5&&this.journeyLineAnimInstance.pause()},t.prototype.sectionInit=function(){var t=this;this.io=new IntersectionObserver(this.handleIntersection,{threshold:.4}),this.journeySections.forEach(function(e){return t.io.observe(e)})},t.prototype.loadVideo=function(t){var e=r(".journey-section__video",t),n=r("source",e);n.src=n.dataset.src,e.load()},t.prototype.handleIntersection=function(t){var e=this;t.forEach(function(t){if(t.isIntersecting){var n=0,i=t.target.id;i===e.sectionNames[0]?n=0:i===e.sectionNames[1]?n=1:i===e.sectionNames[2]&&(n=2),window.matchMedia("(min-width: 512px)").matches&&!Ie&&e.loadVideo(t.target),e.getAnimationThreshold(n,"line")>e.animPauseThreshold&&(e.animPauseThreshold=e.getAnimationThreshold(n,"line"),e.journeyLineAnimInstance.play()),e.io.unobserve(t.target)}})},t}();Je.init({openTrigger:"data-journey-overlay-open",closeTrigger:"data-journey-overlay-close",onShow:function(t){if(!t.swiper){var e=r(".journey-swiper");t.swiper=new nn(e)}t.swiper&&t.swiper.scrollToTop(),a("[data-journey-overlay-close]",t).forEach(function(t){return t.focus()})},disableScroll:!0}),a(".journey").forEach(function(t){return new on(t)});var rn=window.matchMedia("(min-aspect-ratio: 16/13) and (max-aspect-ratio: 16/7)").matches,sn=window.innerHeight-r(".journey section").getBoundingClientRect().height,an={container:document.body,panelSelector:".journey section",directionThreshold:sn>0?sn:50,delay:0,duration:600,easing:function(t){return t}},ln=a(".journey");0!==ln.length&&function(){return t=this,e=void 0,i=function(){var t;return function(t,e){var n,i,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(e){switch(e.label){case 0:return!rn||Ie?[3,2]:[4,s.e(231).then(s.t.bind(s,59,23))];case 1:t=e.sent().default,ln.forEach(function(){return new t(an)}),e.label=2;case 2:return[2]}})},new((n=void 0)||(n=Promise))(function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}l((i=i.apply(t,e||[])).next())});var t,e,n,i}().catch(function(t){return"An error occurred while loading panelsnap"})})()})();