@use '../core/functions';
@use '../core/variables';
@use '../mixins/breakpoints';

.mega-cta {
  &.mega-cta--background-video {
    padding-top: 640px;

    @include breakpoints.breakpoint(sm) {
      padding-top: calc(100vh - 64px);
    }

    @include breakpoints.breakpoint(lg) {
      padding-top: calc(100vh - 110px);
    }

    .mega-cta__back {
      background: transparent no-repeat 50% 0% / cover;
      background-image: url('https://www.middlebury.edu/sites/default/files/homepage/panel-02-320x568.webp?fv=1');

      @include breakpoints.breakpoint(sm) {
        background: none;
      }

      video[poster] {
        display: none;

        @include breakpoints.breakpoint(sm) {
          display: initial;
        }
      }

      &,
      & video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        font-family: 'object-fit: cover;';
      }
    }

    .background-video--button {
      left: unset;
      right: variables.$spacing-5;
      bottom: variables.$spacing-7;
    }

    .mega-cta__content {
      flex: initial;
      max-width: initial;

      .button {
        width: 100%;
        margin-bottom: variables.$spacing-5;

        &:last-child {
          margin-bottom: variables.$spacing-7;
        }

        @include breakpoints.breakpoint(sm) {
          width: 253px;
          margin-bottom: variables.$spacing-5;
        }
      }
    }

    h1 {
      span {
        display: block;

        &:first-child {
          color: variables.$white;
        }
      }
    }

    .mega-cta__title {
      display: flex;
      flex-direction: column;
      text-align: left;
      font-size: functions.rem(46);

      @include breakpoints.breakpoint(sm) {
        display: block;
        text-align: center;
      }

      @include breakpoints.breakpoint(md) {
        font-size: variables.$typescale-10;
      }

      span {
        opacity: 0;
        animation: fadeIn 0.75s ease-in forwards;

        &:nth-child(2) {
          animation-delay: 0.75s;
        }

        &:nth-child(3) {
          animation-delay: 1.5s;
        }
      }
    }
  }
}
