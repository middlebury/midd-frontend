{% macro list(menu) %}
  <ul class="page-nav__list">
    {% for item in menu %}
      <li class="page-nav__item{% if item.items %} page-nav__item--active{% endif %}">
        <a href="{{item.href}}" class="page-nav__link{% if item.active %} page-nav__link--active{% endif %}">{{item.text}}</a>
        {% if item.items %}
          {{ _self.list(item.items) }}
        {% endif %}
      </li>
    {% endfor %}
  </ul>
{% endmacro %}

{% import _self as macros %}

<nav class="page-nav" aria-labelledby="midd-page-nav-label">
  <div class="page-nav__header">
    <h2 class="page-nav__title" id="midd-page-nav-label">
      <a href="{{href}}" class="page-nav__link">{{label|default("Lorem ipsum")}}</a>
    </h2>
    <button
      class="page-nav__button"
      data-toggle-target=".js-page-nav"
      aria-haspopup="true"
      aria-expanded="false"
    >
      <span class="sr-only">Toggle {{label}} Navigation</span>
      {% include 'partials/icon.twig' with {
        name: 'bars',
        class: 'toggled-hide'
      } %}
      {% include 'partials/icon.twig' with {
        name: 'times',
        class: 'toggled-show'
      } %}

    </button>
  </div>
  <div class="page-nav__content js-page-nav">
    {{ macros.list(items) }}
  </div>
</nav>

